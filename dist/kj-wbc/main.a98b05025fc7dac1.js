(self.webpackChunkKJ_WBC=self.webpackChunkKJ_WBC||[]).push([[179],{4:(wd,$g,Zl)=>{"use strict";function wt(e){return"function"==typeof e}function Ql(e){const i=e(n=>{Error.call(n),n.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const bd=Ql(e=>function(i){e(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function wo(e,t){if(e){const i=e.indexOf(t);0<=i&&e.splice(i,1)}}class Wt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const s of i)s.remove(this);else i.remove(this);const{initialTeardown:n}=this;if(wt(n))try{n()}catch(s){t=s instanceof bd?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Ah(s)}catch(o){t=t??[],o instanceof bd?t=[...t,...o.errors]:t.push(o)}}if(t)throw new bd(t)}}add(t){var i;if(t&&t!==this)if(this.closed)Ah(t);else{if(t instanceof Wt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(t)}}_hasParent(t){const{_parentage:i}=this;return i===t||Array.isArray(i)&&i.includes(t)}_addParent(t){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t}_removeParent(t){const{_parentage:i}=this;i===t?this._parentage=null:Array.isArray(i)&&wo(i,t)}remove(t){const{_finalizers:i}=this;i&&wo(i,t),t instanceof Wt&&t._removeParent(this)}}Wt.EMPTY=(()=>{const e=new Wt;return e.closed=!0,e})();const Jl=Wt.EMPTY;function Br(e){return e instanceof Wt||e&&"closed"in e&&wt(e.remove)&&wt(e.add)&&wt(e.unsubscribe)}function Ah(e){wt(e)?e():e.unsubscribe()}const fs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Mt={setTimeout(e,t,...i){const{delegate:n}=Mt;return n?.setTimeout?n.setTimeout(e,t,...i):setTimeout(e,t,...i)},clearTimeout(e){const{delegate:t}=Mt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ut(e){Mt.setTimeout(()=>{const{onUnhandledError:t}=fs;if(!t)throw e;t(e)})}function Qn(){}const ai=xd("C",void 0,void 0);function xd(e,t,i){return{kind:e,value:t,error:i}}let Ks=null;function ec(e){if(fs.useDeprecatedSynchronousErrorHandling){const t=!Ks;if(t&&(Ks={errorThrown:!1,error:null}),e(),t){const{errorThrown:i,error:n}=Ks;if(Ks=null,i)throw n}}else e()}class oa extends Wt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Br(t)&&t.add(this)):this.destination=P6}static create(t,i,n){return new Fh(t,i,n)}next(t){this.isStopped?X_(function q_(e){return xd("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?X_(function Jn(e){return xd("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?X_(ai,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const M6=Function.prototype.bind;function Y_(e,t){return M6.call(e,t)}class k6{constructor(t){this.partialObserver=t}next(t){const{partialObserver:i}=this;if(i.next)try{i.next(t)}catch(n){Kg(n)}}error(t){const{partialObserver:i}=this;if(i.error)try{i.error(t)}catch(n){Kg(n)}else Kg(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(i){Kg(i)}}}class Fh extends oa{constructor(t,i,n){let r;if(super(),wt(t)||!t)r={next:t??void 0,error:i??void 0,complete:n??void 0};else{let s;this&&fs.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Y_(t.next,s),error:t.error&&Y_(t.error,s),complete:t.complete&&Y_(t.complete,s)}):r=t}this.destination=new k6(r)}}function Kg(e){fs.useDeprecatedSynchronousErrorHandling?function Rh(e){fs.useDeprecatedSynchronousErrorHandling&&Ks&&(Ks.errorThrown=!0,Ks.error=e)}(e):Ut(e)}function X_(e,t){const{onStoppedNotification:i}=fs;i&&Mt.setTimeout(()=>i(e,t))}const P6={closed:!0,next:Qn,error:function I6(e){throw e},complete:Qn},Z_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wa(e){return e}function GT(e){return 0===e.length?Wa:1===e.length?e[0]:function(i){return e.reduce((n,r)=>r(n),i)}}let ui=(()=>{class e{constructor(i){i&&(this._subscribe=i)}lift(i){const n=new e;return n.source=this,n.operator=i,n}subscribe(i,n,r){const s=function N6(e){return e&&e instanceof oa||function L6(e){return e&&wt(e.next)&&wt(e.error)&&wt(e.complete)}(e)&&Br(e)}(i)?i:new Fh(i,n,r);return ec(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return new(n=zT(n))((r,s)=>{const o=new Fh({next:a=>{try{i(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(i){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(i)}[Z_](){return this}pipe(...i){return GT(i)(this)}toPromise(i){return new(i=zT(i))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return e.create=t=>new e(t),e})();function zT(e){var t;return null!==(t=e??fs.Promise)&&void 0!==t?t:Promise}const B6=Ql(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let We=(()=>{class e extends ui{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const n=new WT(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new B6}next(i){ec(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(i)}})}error(i){ec(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){ec(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:n,isStopped:r,observers:s}=this;return n||r?Jl:(this.currentObservers=null,s.push(i),new Wt(()=>{this.currentObservers=null,wo(s,i)}))}_checkFinalizedStatuses(i){const{hasError:n,thrownError:r,isStopped:s}=this;n?i.error(r):s&&i.complete()}asObservable(){const i=new ui;return i.source=this,i}}return e.create=(t,i)=>new WT(t,i),e})();class WT extends We{constructor(t,i){super(),this.destination=t,this.source=i}next(t){var i,n;null===(n=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===n||n.call(i,t)}error(t){var i,n;null===(n=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===n||n.call(i,t)}complete(){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===i||i.call(t)}_subscribe(t){var i,n;return null!==(n=null===(i=this.source)||void 0===i?void 0:i.subscribe(t))&&void 0!==n?n:Jl}}function UT(e){return wt(e?.lift)}function Ai(e){return t=>{if(UT(t))return t.lift(function(i){try{return e(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function wi(e,t,i,n,r){return new V6(e,t,i,n,r)}class V6 extends oa{constructor(t,i,n,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=i?function(a){try{i(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Nt(e,t){return Ai((i,n)=>{let r=0;i.subscribe(wi(n,s=>{n.next(e.call(t,s,r++))}))})}function Ua(e){return this instanceof Ua?(this.v=e,this):new Ua(e)}function qT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function ty(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(s){i[s]=e[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const iy=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function YT(e){return wt(e?.then)}function XT(e){return wt(e[Z_])}function ZT(e){return Symbol.asyncIterator&&wt(e?.[Symbol.asyncIterator])}function QT(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const JT=function az(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function eA(e){return wt(e?.[JT])}function tA(e){return function KT(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=i.apply(e,t||[]),s=[];return r={},a("next"),a("throw"),a("return",function o(f){return function(g){return Promise.resolve(g).then(f,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(f,g){n[f]&&(r[f]=function(p){return new Promise(function(m,C){s.push([f,p,m,C])>1||l(f,p)})},g&&(r[f]=g(r[f])))}function l(f,g){try{!function c(f){f.value instanceof Ua?Promise.resolve(f.value.v).then(d,u):h(s[0][2],f)}(n[f](g))}catch(p){h(s[0][3],p)}}function d(f){l("next",f)}function u(f){l("throw",f)}function h(f,g){f(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const i=e.getReader();try{for(;;){const{value:n,done:r}=yield Ua(i.read());if(r)return yield Ua(void 0);yield yield Ua(n)}}finally{i.releaseLock()}})}function iA(e){return wt(e?.getReader)}function Pn(e){if(e instanceof ui)return e;if(null!=e){if(XT(e))return function lz(e){return new ui(t=>{const i=e[Z_]();if(wt(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(iy(e))return function cz(e){return new ui(t=>{for(let i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}(e);if(YT(e))return function dz(e){return new ui(t=>{e.then(i=>{t.closed||(t.next(i),t.complete())},i=>t.error(i)).then(null,Ut)})}(e);if(ZT(e))return nA(e);if(eA(e))return function uz(e){return new ui(t=>{for(const i of e)if(t.next(i),t.closed)return;t.complete()})}(e);if(iA(e))return function hz(e){return nA(tA(e))}(e)}throw QT(e)}function nA(e){return new ui(t=>{(function fz(e,t){var i,n,r,s;return function jT(e,t,i,n){return new(i||(i=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(u){o(u)}}function l(d){try{c(n.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):function r(s){return s instanceof i?s:new i(function(o){o(s)})}(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(i=qT(e);!(n=yield i.next()).done;)if(t.next(n.value),t.closed)return}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(i=>t.error(i))})}function aa(e,t,i,n=0,r=!1){const s=t.schedule(function(){i(),r?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!r)return s}function sn(e,t,i=1/0){return wt(t)?sn((n,r)=>Nt((s,o)=>t(n,s,r,o))(Pn(e(n,r))),i):("number"==typeof t&&(i=t),Ai((n,r)=>function pz(e,t,i,n,r,s,o,a){const l=[];let c=0,d=0,u=!1;const h=()=>{u&&!l.length&&!c&&t.complete()},f=p=>c<n?g(p):l.push(p),g=p=>{s&&t.next(p),c++;let m=!1;Pn(i(p,d++)).subscribe(wi(t,C=>{r?.(C),s?f(C):t.next(C)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<n;){const C=l.shift();o?aa(t,o,()=>g(C)):g(C)}h()}catch(C){t.error(C)}}))};return e.subscribe(wi(t,f,()=>{u=!0,h()})),()=>{a?.()}}(n,r,e,i)))}function Sd(e=1/0){return sn(Wa,e)}const qs=new ui(e=>e.complete());function rA(e){return e&&wt(e.schedule)}function ny(e){return e[e.length-1]}function sA(e){return wt(ny(e))?e.pop():void 0}function Mh(e){return rA(ny(e))?e.pop():void 0}function oA(e,t=0){return Ai((i,n)=>{i.subscribe(wi(n,r=>aa(n,e,()=>n.next(r),t),()=>aa(n,e,()=>n.complete(),t),r=>aa(n,e,()=>n.error(r),t)))})}function aA(e,t=0){return Ai((i,n)=>{n.add(e.schedule(()=>i.subscribe(n),t))})}function lA(e,t){if(!e)throw new Error("Iterable cannot be null");return new ui(i=>{aa(i,t,()=>{const n=e[Symbol.asyncIterator]();aa(i,t,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function on(e,t){return t?function bz(e,t){if(null!=e){if(XT(e))return function vz(e,t){return Pn(e).pipe(aA(t),oA(t))}(e,t);if(iy(e))return function _z(e,t){return new ui(i=>{let n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})})}(e,t);if(YT(e))return function Cz(e,t){return Pn(e).pipe(aA(t),oA(t))}(e,t);if(ZT(e))return lA(e,t);if(eA(e))return function yz(e,t){return new ui(i=>{let n;return aa(i,t,()=>{n=e[JT](),aa(i,t,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){return void i.error(o)}s?i.complete():i.next(r)},0,!0)}),()=>wt(n?.return)&&n.return()})}(e,t);if(iA(e))return function wz(e,t){return lA(tA(e),t)}(e,t)}throw QT(e)}(e,t):Pn(e)}function ja(...e){const t=Mh(e),i=function mz(e,t){return"number"==typeof ny(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?Pn(n[0]):Sd(i)(on(n,t)):qs}class Cr extends We{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const i=super._subscribe(t);return!i.closed&&t.next(this._value),i}getValue(){const{hasError:t,thrownError:i,_value:n}=this;if(t)throw i;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Ue(...e){return on(e,Mh(e))}function ry(e={}){const{connector:t=(()=>new We),resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,a,l,c=0,d=!1,u=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,d=u=!1},g=()=>{const p=o;f(),p?.unsubscribe()};return Ai((p,m)=>{c++,!u&&!d&&h();const C=l=l??t();m.add(()=>{c--,0===c&&!u&&!d&&(a=sy(g,r))}),C.subscribe(m),!o&&c>0&&(o=new Fh({next:v=>C.next(v),error:v=>{u=!0,h(),a=sy(f,i,v),C.error(v)},complete:()=>{d=!0,h(),a=sy(f,n),C.complete()}}),Pn(p).subscribe(o))})(s)}}function sy(e,t,...i){if(!0===t)return void e();if(!1===t)return;const n=new Fh({next:()=>{n.unsubscribe(),e()}});return Pn(t(...i)).subscribe(n)}function Ys(e,t){return Ai((i,n)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&n.complete();i.subscribe(wi(n,l=>{r?.unsubscribe();let c=0;const d=s++;Pn(e(l,d)).subscribe(r=wi(n,u=>n.next(t?t(l,u,d,c++):u),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function cA(e,t=Wa){return e=e??xz,Ai((i,n)=>{let r,s=!0;i.subscribe(wi(n,o=>{const a=t(o);(s||!e(r,a))&&(s=!1,r=a,n.next(o))}))})}function xz(e,t){return e===t}function Jt(e){for(let t in e)if(e[t]===Jt)return t;throw Error("Could not find renamed property on target object.")}function qg(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function an(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(an).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function oy(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Sz=Jt({__forward_ref__:Jt});function ei(e){return e.__forward_ref__=ei,e.toString=function(){return an(this())},e}function Je(e){return ay(e)?e():e}function ay(e){return"function"==typeof e&&e.hasOwnProperty(Sz)&&e.__forward_ref__===ei}function ly(e){return e&&!!e.\u0275providers}const dA="https://g.co/ng/security#xss";class re extends Error{constructor(t,i){super(function Yg(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,i)),this.code=t}}function it(e){return"string"==typeof e?e:null==e?"":String(e)}function cy(e,t){throw new re(-201,!1)}function ps(e,t){null==e&&function qe(e,t,i,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${i} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function gt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Xg(e){return uA(e,Qg)||uA(e,hA)}function uA(e,t){return e.hasOwnProperty(t)?e[t]:null}function Zg(e){return e&&(e.hasOwnProperty(dy)||e.hasOwnProperty(kz))?e[dy]:null}const Qg=Jt({\u0275prov:Jt}),dy=Jt({\u0275inj:Jt}),hA=Jt({ngInjectableDef:Jt}),kz=Jt({ngInjectorDef:Jt});var bt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(bt||{});let uy;function _r(e){const t=uy;return uy=e,t}function pA(e,t,i){const n=Xg(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&bt.Optional?null:void 0!==t?t:void cy(an(e))}const hi=globalThis;class ge{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=pe({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const kh={},my="__NG_DI_FLAG__",Jg="ngTempTokenPath",Oz=/\n/gm,mA="__source";let Ed;function $a(e){const t=Ed;return Ed=e,t}function Bz(e,t=bt.Default){if(void 0===Ed)throw new re(-203,!1);return null===Ed?pA(e,void 0,t):Ed.get(e,t&bt.Optional?null:void 0,t)}function W(e,t=bt.Default){return(function fA(){return uy}()||Bz)(Je(e),t)}function De(e,t=bt.Default){return W(e,em(t))}function em(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vy(e){const t=[];for(let i=0;i<e.length;i++){const n=Je(e[i]);if(Array.isArray(n)){if(0===n.length)throw new re(900,!1);let r,s=bt.Default;for(let o=0;o<n.length;o++){const a=n[o],l=Vz(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(W(r,s))}else t.push(W(n))}return t}function Ih(e,t){return e[my]=t,e.prototype[my]=t,e}function Vz(e){return e[my]}function la(e){return{toString:e}.toString()}var tm=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(tm||{}),gs=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gs||{});const bo={},Vt=[],im=Jt({\u0275cmp:Jt}),Cy=Jt({\u0275dir:Jt}),_y=Jt({\u0275pipe:Jt}),CA=Jt({\u0275mod:Jt}),ca=Jt({\u0275fac:Jt}),Ph=Jt({__NG_ELEMENT_ID__:Jt}),_A=Jt({__NG_ENV_ID__:Jt});function yA(e,t,i){let n=e.length;for(;;){const r=e.indexOf(t,i);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=t.length;if(r+s===n||e.charCodeAt(r+s)<=32)return r}i=r+1}}function yy(e,t,i){let n=0;for(;n<i.length;){const r=i[n];if("number"==typeof r){if(0!==r)break;n++;const s=i[n++],o=i[n++],a=i[n++];e.setAttribute(t,o,a,s)}else{const s=r,o=i[++n];bA(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),n++}}return n}function wA(e){return 3===e||4===e||6===e}function bA(e){return 64===e.charCodeAt(0)}function Oh(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r?i=r:0===i||xA(e,i,r,null,-1===i||2===i?t[++n]:null)}}return e}function xA(e,t,i,n,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===i){if(null===n)return void(null!==r&&(e[s+1]=r));if(n===e[s+1])return void(e[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,i),null!==n&&e.splice(s++,0,n),null!==r&&e.splice(s++,0,r)}const SA="ng-template";function zz(e,t,i){let n=0,r=!0;for(;n<e.length;){let s=e[n++];if("string"==typeof s&&r){const o=e[n++];if(i&&"class"===s&&-1!==yA(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;n<e.length&&"string"==typeof(s=e[n++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function EA(e){return 4===e.type&&e.value!==SA}function Wz(e,t,i){return t===(4!==e.type||i?e.value:SA)}function Uz(e,t,i){let n=4;const r=e.attrs||[],s=function Kz(e){for(let t=0;t<e.length;t++)if(wA(e[t]))return t;return e.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!Wz(e,l,i)||""===l&&1===t.length){if(Xs(n))return!1;o=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!zz(e.attrs,c,i)){if(Xs(n))return!1;o=!0}continue}const u=jz(8&n?"class":l,r,EA(e),i);if(-1===u){if(Xs(n))return!1;o=!0;continue}if(""!==c){let h;h=u>s?"":r[u+1].toLowerCase();const f=8&n?h:null;if(f&&-1!==yA(f,c,0)||2&n&&c!==h){if(Xs(n))return!1;o=!0}}}}else{if(!o&&!Xs(n)&&!Xs(l))return!1;if(o&&Xs(l))continue;o=!1,n=l|1&n}}return Xs(n)||o}function Xs(e){return 0==(1&e)}function jz(e,t,i,n){if(null===t)return-1;let r=0;if(n||!i){let s=!1;for(;r<t.length;){const o=t[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function qz(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function DA(e,t,i=!1){for(let n=0;n<t.length;n++)if(Uz(e,t[n],i))return!0;return!1}function Yz(e,t){e:for(let i=0;i<t.length;i++){const n=t[i];if(e.length===n.length){for(let r=0;r<e.length;r++)if(e[r]!==n[r])continue e;return!0}}return!1}function TA(e,t){return e?":not("+t.trim()+")":t}function Xz(e){let t=e[0],i=1,n=2,r="",s=!1;for(;i<e.length;){let o=e[i];if("string"==typeof o)if(2&n){const a=e[++i];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!Xs(o)&&(t+=TA(s,r),r=""),n=o,s=s||!Xs(n);i++}return""!==r&&(t+=TA(s,r)),t}function et(e){return la(()=>{const t=RA(e),i={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===tm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gs.Emulated,styles:e.styles||Vt,_:null,schemas:e.schemas||null,tView:null,id:""};FA(i);const n=e.dependencies;return i.directiveDefs=nm(n,!1),i.pipeDefs=nm(n,!0),i.id=function rW(e){let t=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of i)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(i),i})}function eW(e){return Pt(e)||Dn(e)}function tW(e){return null!==e}function vt(e){return la(()=>({type:e.type,bootstrap:e.bootstrap||Vt,declarations:e.declarations||Vt,imports:e.imports||Vt,exports:e.exports||Vt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function AA(e,t){if(null==e)return bo;const i={};for(const n in e)if(e.hasOwnProperty(n)){let r=e[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),i[r]=n,t&&(t[r]=s)}return i}function Me(e){return la(()=>{const t=RA(e);return FA(t),t})}function er(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Pt(e){return e[im]||null}function Dn(e){return e[Cy]||null}function tr(e){return e[_y]||null}function Hr(e,t){const i=e[CA]||null;if(!i&&!0===t)throw new Error(`Type ${an(e)} does not have '\u0275mod' property.`);return i}function RA(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||bo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Vt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AA(e.inputs,t),outputs:AA(e.outputs)}}function FA(e){e.features?.forEach(t=>t(e))}function nm(e,t){if(!e)return null;const i=t?tr:eW;return()=>("function"==typeof e?e():e).map(n=>i(n)).filter(tW)}const Ri=0,Ve=1,at=2,bi=3,Zs=4,Lh=5,On=6,Td=7,Bi=8,Ka=9,Ad=10,nt=11,Nh=12,MA=13,Rd=14,Vi=15,Bh=16,Fd=17,xo=18,Vh=19,kA=20,qa=21,da=22,Hh=23,Gh=24,xt=25,wy=1,IA=2,So=7,Md=9,Tn=11;function yr(e){return Array.isArray(e)&&"object"==typeof e[wy]}function ir(e){return Array.isArray(e)&&!0===e[wy]}function by(e){return 0!=(4&e.flags)}function ic(e){return e.componentOffset>-1}function sm(e){return 1==(1&e.flags)}function Qs(e){return!!e.template}function xy(e){return 0!=(512&e[at])}function nc(e,t){return e.hasOwnProperty(ca)?e[ca]:null}const Ya=Symbol("SIGNAL");function cW(e,t){return(null===e||"object"!=typeof e)&&Object.is(e,t)}let An=null,om=!1;function ms(e){const t=An;return An=e,t}const Sy={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function LA(e){if(om)throw new Error("");if(null===An)return;const t=An.nextProducerIndex++;kd(An),t<An.producerNode.length&&An.producerNode[t]!==e&&Wh(An)&&am(An.producerNode[t],An.producerIndexOfThis[t]),An.producerNode[t]!==e&&(An.producerNode[t]=e,An.producerIndexOfThis[t]=Wh(An)?zA(e,An,t):0),An.producerLastReadVersion[t]=e.version}function NA(e){if(!Wh(e)||e.dirty){if(!e.producerMustRecompute(e)&&!HA(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function BA(e){if(void 0===e.liveConsumerNode)return;const t=om;om=!0;try{for(const i of e.liveConsumerNode)i.dirty||VA(i)}finally{om=t}}function Ey(){return!1!==An?.consumerAllowSignalWrites}function VA(e){e.dirty=!0,BA(e),e.consumerMarkedDirty?.(e)}function Dy(e){return e&&(e.nextProducerIndex=0),ms(e)}function Ty(e,t){if(ms(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Wh(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)am(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function HA(e){kd(e);for(let t=0;t<e.producerNode.length;t++){const i=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==i.version||(NA(i),n!==i.version))return!0}return!1}function GA(e){if(kd(e),Wh(e))for(let t=0;t<e.producerNode.length;t++)am(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function zA(e,t,i){if(WA(e),kd(e),0===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=zA(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(t)-1}function am(e,t){if(WA(e),kd(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)am(e.producerNode[n],e.producerIndexOfThis[n]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];kd(r),r.producerIndexOfThis[n]=t}}function Wh(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function kd(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function WA(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}let UA=function hW(){throw new Error};function Ay(){UA()}let Ry=null;function lm(e,t){const i=Object.create(pW);function n(){return LA(i),i.value}return i.value=e,t?.equal&&(i.equal=t.equal),n.set=$A,n.update=gW,n.mutate=mW,n.asReadonly=vW,n[Ya]=i,n}const pW=(()=>({...Sy,equal:cW,readonlyFn:void 0}))();function jA(e){e.version++,BA(e),Ry?.()}function $A(e){const t=this[Ya];Ey()||Ay(),t.equal(t.value,e)||(t.value=e,jA(t))}function gW(e){Ey()||Ay(),$A.call(this,e(this[Ya].value))}function mW(e){const t=this[Ya];Ey()||Ay(),e(t.value),jA(t)}function vW(){const e=this[Ya];if(void 0===e.readonlyFn){const t=()=>this();t[Ya]=e,e.readonlyFn=t}return e.readonlyFn}const qA=()=>{},_W=(()=>({...Sy,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:qA}))();class yW{constructor(t,i,n){this.previousValue=t,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}}function Si(){return YA}function YA(e){return e.type.prototype.ngOnChanges&&(e.setInput=bW),wW}function wW(){const e=ZA(this),t=e?.current;if(t){const i=e.previous;if(i===bo)e.previous=t;else for(let n in t)i[n]=t[n];e.current=null,this.ngOnChanges(t)}}function bW(e,t,i,n){const r=this.declaredInputs[i],s=ZA(e)||function xW(e,t){return e[XA]=t}(e,{previous:bo,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new yW(l&&l.currentValue,t,a===bo),e[n]=t}Si.ngInherit=!0;const XA="__ngSimpleChanges__";function ZA(e){return e[XA]||null}const Eo=function(e,t,i){},QA="svg";function fi(e){for(;Array.isArray(e);)e=e[Ri];return e}function cm(e,t){return fi(t[e])}function wr(e,t){return fi(t[e.index])}function eR(e,t){return e.data[t]}function Id(e,t){return e[t]}function Gr(e,t){const i=t[e];return yr(i)?i:i[Ri]}function Xa(e,t){return null==t?null:e[t]}function tR(e){e[Fd]=0}function RW(e){1024&e[at]||(e[at]|=1024,nR(e,1))}function iR(e){1024&e[at]&&(e[at]&=-1025,nR(e,-1))}function nR(e,t){let i=e[bi];if(null===i)return;i[Lh]+=t;let n=i;for(i=i[bi];null!==i&&(1===t&&1===n[Lh]||-1===t&&0===n[Lh]);)i[Lh]+=t,n=i,i=i[bi]}const Ye={lFrame:pR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function oR(){return Ye.bindingsEnabled}function Pd(){return null!==Ye.skipHydrationRootTNode}function me(){return Ye.lFrame.lView}function Ot(){return Ye.lFrame.tView}function Dt(e){return Ye.lFrame.contextLView=e,e[Bi]}function Tt(e){return Ye.lFrame.contextLView=null,e}function Rn(){let e=aR();for(;null!==e&&64===e.type;)e=e.parent;return e}function aR(){return Ye.lFrame.currentTNode}function Do(e,t){const i=Ye.lFrame;i.currentTNode=e,i.isParent=t}function ky(){return Ye.lFrame.isParent}function Iy(){Ye.lFrame.isParent=!1}function nr(){const e=Ye.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ua(){return Ye.lFrame.bindingIndex}function Od(){return Ye.lFrame.bindingIndex++}function ha(e){const t=Ye.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function GW(e,t){const i=Ye.lFrame;i.bindingIndex=i.bindingRootIndex=e,Py(t)}function Py(e){Ye.lFrame.currentDirectiveIndex=e}function Oy(e){const t=Ye.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function uR(){return Ye.lFrame.currentQueryIndex}function Ly(e){Ye.lFrame.currentQueryIndex=e}function WW(e){const t=e[Ve];return 2===t.type?t.declTNode:1===t.type?e[On]:null}function hR(e,t,i){if(i&bt.SkipSelf){let r=t,s=e;for(;!(r=r.parent,null!==r||i&bt.Host||(r=WW(s),null===r||(s=s[Rd],10&r.type))););if(null===r)return!1;t=r,e=s}const n=Ye.lFrame=fR();return n.currentTNode=t,n.lView=e,!0}function Ny(e){const t=fR(),i=e[Ve];Ye.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function fR(){const e=Ye.lFrame,t=null===e?null:e.child;return null===t?pR(e):t}function pR(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function gR(){const e=Ye.lFrame;return Ye.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const mR=gR;function By(){const e=gR();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function rr(){return Ye.lFrame.selectedIndex}function rc(e){Ye.lFrame.selectedIndex=e}function Ei(){const e=Ye.lFrame;return eR(e.tView,e.selectedIndex)}function vs(){Ye.lFrame.currentNamespace=QA}function Js(){!function KW(){Ye.lFrame.currentNamespace=null}()}let CR=!0;function dm(){return CR}function Za(e){CR=e}function um(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){const s=e.data[i].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(e.contentHooks??=[]).push(-i,o),a&&((e.contentHooks??=[]).push(i,a),(e.contentCheckHooks??=[]).push(i,a)),l&&(e.viewHooks??=[]).push(-i,l),c&&((e.viewHooks??=[]).push(i,c),(e.viewCheckHooks??=[]).push(i,c)),null!=d&&(e.destroyHooks??=[]).push(i,d)}}function hm(e,t,i){_R(e,t,3,i)}function fm(e,t,i,n){(3&e[at])===i&&_R(e,t,i,n)}function Vy(e,t){let i=e[at];(3&i)===t&&(i&=8191,i+=1,e[at]=i)}function _R(e,t,i,n){const s=n??-1,o=t.length-1;let a=0;for(let l=void 0!==n?65535&e[Fd]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[Fd]+=65536),(a<s||-1==s)&&(YW(e,i,t,l),e[Fd]=(4294901760&e[Fd])+l+2),l++}function yR(e,t){Eo(4,e,t);const i=ms(null);try{t.call(e)}finally{ms(i),Eo(5,e,t)}}function YW(e,t,i,n){const r=i[n]<0,s=i[n+1],a=e[r?-i[n]:i[n]];r?e[at]>>13<e[Fd]>>16&&(3&e[at])===t&&(e[at]+=8192,yR(a,s)):yR(a,s)}const Ld=-1;class jh{constructor(t,i,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}}function Gy(e){return e!==Ld}function $h(e){return 32767&e}function Kh(e,t){let i=function JW(e){return e>>16}(e),n=t;for(;i>0;)n=n[Rd],i--;return n}let zy=!0;function pm(e){const t=zy;return zy=e,t}const wR=255,bR=5;let eU=0;const To={};function gm(e,t){const i=xR(e,t);if(-1!==i)return i;const n=t[Ve];n.firstCreatePass&&(e.injectorIndex=t.length,Wy(n.data,e),Wy(t,null),Wy(n.blueprint,null));const r=mm(e,t),s=e.injectorIndex;if(Gy(r)){const o=$h(r),a=Kh(r,t),l=a[Ve].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function Wy(e,t){e.push(0,0,0,0,0,0,0,0,t)}function xR(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function mm(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,n=null,r=t;for(;null!==r;){if(n=FR(r),null===n)return Ld;if(i++,r=r[Rd],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return Ld}function Uy(e,t,i){!function tU(e,t,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(Ph)&&(n=i[Ph]),null==n&&(n=i[Ph]=eU++);const r=n&wR;t.data[e+(r>>bR)]|=1<<r}(e,t,i)}function SR(e,t,i){if(i&bt.Optional||void 0!==e)return e;cy()}function ER(e,t,i,n){if(i&bt.Optional&&void 0===n&&(n=null),!(i&(bt.Self|bt.Host))){const r=e[Ka],s=_r(void 0);try{return r?r.get(t,n,i&bt.Optional):pA(t,n,i&bt.Optional)}finally{_r(s)}}return SR(n,0,i)}function DR(e,t,i,n=bt.Default,r){if(null!==e){if(2048&t[at]&&!(n&bt.Self)){const o=function aU(e,t,i,n,r){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[at]&&!(512&o[at]);){const a=TR(s,o,i,n|bt.Self,To);if(a!==To)return a;let l=s.parent;if(!l){const c=o[kA];if(c){const d=c.get(i,To,n);if(d!==To)return d}l=FR(o),o=o[Rd]}s=l}return r}(e,t,i,n,To);if(o!==To)return o}const s=TR(e,t,i,n,To);if(s!==To)return s}return ER(t,i,n,r)}function TR(e,t,i,n,r){const s=function rU(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ph)?e[Ph]:void 0;return"number"==typeof t?t>=0?t&wR:oU:t}(i);if("function"==typeof s){if(!hR(t,e,n))return n&bt.Host?SR(r,0,n):ER(t,i,n,r);try{let o;if(o=s(n),null!=o||n&bt.Optional)return o;cy()}finally{mR()}}else if("number"==typeof s){let o=null,a=xR(e,t),l=Ld,c=n&bt.Host?t[Vi][On]:null;for((-1===a||n&bt.SkipSelf)&&(l=-1===a?mm(e,t):t[a+8],l!==Ld&&RR(n,!1)?(o=t[Ve],a=$h(l),t=Kh(l,t)):a=-1);-1!==a;){const d=t[Ve];if(AR(s,a,d.data)){const u=nU(a,t,i,o,n,c);if(u!==To)return u}l=t[a+8],l!==Ld&&RR(n,t[Ve].data[a+8]===c)&&AR(s,a,t)?(o=d,a=$h(l),t=Kh(l,t)):a=-1}}return r}function nU(e,t,i,n,r,s){const o=t[Ve],a=o.data[e+8],d=vm(a,o,i,null==n?ic(a)&&zy:n!=o&&0!=(3&a.type),r&bt.Host&&s===a);return null!==d?sc(t,o,d,a):To}function vm(e,t,i,n,r){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,d=s>>20,h=r?a+d:e.directiveEnd;for(let f=n?a:a+d;f<h;f++){const g=o[f];if(f<l&&i===g||f>=l&&g.type===i)return f}if(r){const f=o[l];if(f&&Qs(f)&&f.type===i)return l}return null}function sc(e,t,i,n){let r=e[i];const s=t.data;if(function XW(e){return e instanceof jh}(r)){const o=r;o.resolving&&function Ez(e,t){const i=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new re(-200,`Circular dependency in DI detected for ${e}${i}`)}(function Xt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():it(e)}(s[i]));const a=pm(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?_r(o.injectImpl):null;hR(e,n,bt.Default);try{r=e[i]=o.factory(void 0,s,e,n),t.firstCreatePass&&i>=n.directiveStart&&function qW(e,t,i){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(n){const o=YA(t);(i.preOrderHooks??=[]).push(e,o),(i.preOrderCheckHooks??=[]).push(e,o)}r&&(i.preOrderHooks??=[]).push(0-e,r),s&&((i.preOrderHooks??=[]).push(e,s),(i.preOrderCheckHooks??=[]).push(e,s))}(i,s[i],t)}finally{null!==c&&_r(c),pm(a),o.resolving=!1,mR()}}return r}function AR(e,t,i){return!!(i[t+(e>>bR)]&1<<e)}function RR(e,t){return!(e&bt.Self||e&bt.Host&&t)}class sr{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,n){return DR(this._tNode,this._lView,t,em(n),i)}}function oU(){return new sr(Rn(),me())}function Hi(e){return la(()=>{const t=e.prototype.constructor,i=t[ca]||jy(t),n=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){const s=r[ca]||jy(r);if(s&&s!==i)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function jy(e){return ay(e)?()=>{const t=jy(Je(e));return t&&t()}:nc(e)}function FR(e){const t=e[Ve],i=t.type;return 2===i?t.declTNode:1===i?e[On]:null}function Yh(e){return function iU(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const n=i.length;let r=0;for(;r<n;){const s=i[r];if(wA(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof i[r];)r++;else{if(s===t)return i[r+1];r+=2}}}return null}(Rn(),e)}const Bd="__parameters__";function Hd(e,t,i){return la(()=>{const n=function $y(e){return function(...i){if(e){const n=e(...i);for(const r in n)this[r]=n[r]}}}(t);function r(...s){if(this instanceof r)return n.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,d){const u=l.hasOwnProperty(Bd)?l[Bd]:Object.defineProperty(l,Bd,{value:[]})[Bd];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(o),l}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function zd(e,t){e.forEach(i=>Array.isArray(i)?zd(i,t):t(i))}function kR(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function Cm(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Zh(e,t){const i=[];for(let n=0;n<e;n++)i.push(t);return i}function zr(e,t,i){let n=Wd(e,t);return n>=0?e[1|n]=i:(n=~n,function pU(e,t,i,n){let r=e.length;if(r==t)e.push(i,n);else if(1===r)e.push(n,e[0]),e[0]=i;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function Ky(e,t){const i=Wd(e,t);if(i>=0)return e[1|i]}function Wd(e,t){return function IR(e,t,i){let n=0,r=e.length>>i;for(;r!==n;){const s=n+(r-n>>1),o=e[s<<i];if(t===o)return s<<i;o>t?r=s:n=s+1}return~(r<<i)}(e,t,1)}const oc=Ih(Hd("Optional"),8),ac=Ih(Hd("SkipSelf"),4);function Sm(e){return 128==(128&e.flags)}var Qa=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Qa||{});const OU=/^>|^->|<!--|-->|--!>|<!-$/g,LU=/(<|>)/g,NU="\u200b$1\u200b";const Qy=new Map;let BU=0;const ew="__ngContext__";function Ln(e,t){yr(t)?(e[ew]=t[Vh],function HU(e){Qy.set(e[Vh],e)}(t)):e[ew]=t}let tw;function iw(e,t){return tw(e,t)}function ef(e){const t=e[bi];return ir(t)?t[bi]:t}function JR(e){return tF(e[Nh])}function eF(e){return tF(e[Zs])}function tF(e){for(;null!==e&&!ir(e);)e=e[Zs];return e}function $d(e,t,i,n,r){if(null!=n){let s,o=!1;ir(n)?s=n:yr(n)&&(o=!0,n=n[Ri]);const a=fi(n);0===e&&null!==i?null==r?sF(t,i,a):lc(t,i,a,r||null,!0):1===e&&null!==i?lc(t,i,a,r||null,!0):2===e?function Mm(e,t,i){const n=Rm(e,t);n&&function o7(e,t,i,n){e.removeChild(t,i,n)}(e,n,t,i)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function c7(e,t,i,n,r){const s=i[So];s!==fi(i)&&$d(t,e,n,s,r);for(let a=Tn;a<i.length;a++){const l=i[a];nf(l[Ve],l,e,t,n,s)}}(t,e,s,i,r)}}function nw(e,t){return e.createComment(function jR(e){return e.replace(OU,t=>t.replace(LU,NU))}(t))}function Tm(e,t,i){return e.createElement(t,i)}function nF(e,t){const i=e[Md],n=i.indexOf(t);iR(t),i.splice(n,1)}function Am(e,t){if(e.length<=Tn)return;const i=Tn+t,n=e[i];if(n){const r=n[Bh];null!==r&&r!==e&&nF(r,n),t>0&&(e[i-1][Zs]=n[Zs]);const s=Cm(e,Tn+t);!function ZU(e,t){nf(e,t,t[nt],2,null,null),t[Ri]=null,t[On]=null}(n[Ve],n);const o=s[xo];null!==o&&o.detachView(s[Ve]),n[bi]=null,n[Zs]=null,n[at]&=-129}return n}function rw(e,t){if(!(256&t[at])){const i=t[nt];t[Hh]&&GA(t[Hh]),t[Gh]&&GA(t[Gh]),i.destroyNode&&nf(e,t,i,3,null,null),function e7(e){let t=e[Nh];if(!t)return sw(e[Ve],e);for(;t;){let i=null;if(yr(t))i=t[Nh];else{const n=t[Tn];n&&(i=n)}if(!i){for(;t&&!t[Zs]&&t!==e;)yr(t)&&sw(t[Ve],t),t=t[bi];null===t&&(t=e),yr(t)&&sw(t[Ve],t),i=t&&t[Zs]}t=i}}(t)}}function sw(e,t){if(!(256&t[at])){t[at]&=-129,t[at]|=256,function s7(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let n=0;n<i.length;n+=2){const r=t[i[n]];if(!(r instanceof jh)){const s=i[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Eo(4,a,l);try{l.call(a)}finally{Eo(5,a,l)}}else{Eo(4,r,s);try{s.call(r)}finally{Eo(5,r,s)}}}}}(e,t),function r7(e,t){const i=e.cleanup,n=t[Td];if(null!==i)for(let s=0;s<i.length-1;s+=2)if("string"==typeof i[s]){const o=i[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else i[s].call(n[i[s+1]]);null!==n&&(t[Td]=null);const r=t[qa];if(null!==r){t[qa]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(e,t),1===t[Ve].type&&t[nt].destroy();const i=t[Bh];if(null!==i&&ir(t[bi])){i!==t[bi]&&nF(i,t);const n=t[xo];null!==n&&n.detachView(e)}!function GU(e){Qy.delete(e[Vh])}(t)}}function ow(e,t,i){return function rF(e,t,i){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return i[Ri];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:s}=e.data[n.directiveStart+r];if(s===gs.None||s===gs.Emulated)return null}return wr(n,i)}}(e,t.parent,i)}function lc(e,t,i,n,r){e.insertBefore(t,i,n,r)}function sF(e,t,i){e.appendChild(t,i)}function oF(e,t,i,n,r){null!==n?lc(e,t,i,n,r):sF(e,t,i)}function Rm(e,t){return e.parentNode(t)}function aF(e,t,i){return cF(e,t,i)}let aw,km,uw,Im,cF=function lF(e,t,i){return 40&e.type?wr(e,i):null};function Fm(e,t,i,n){const r=ow(e,n,t),s=t[nt],a=aF(n.parent||t[On],n,t);if(null!=r)if(Array.isArray(i))for(let l=0;l<i.length;l++)oF(s,r,i[l],a,!1);else oF(s,r,i,a,!1);void 0!==aw&&aw(s,n,t,i,r)}function tf(e,t){if(null!==t){const i=t.type;if(3&i)return wr(t,e);if(4&i)return lw(-1,e[t.index]);if(8&i){const n=t.child;if(null!==n)return tf(e,n);{const r=e[t.index];return ir(r)?lw(-1,r):fi(r)}}if(32&i)return iw(t,e)()||fi(e[t.index]);{const n=uF(e,t);return null!==n?Array.isArray(n)?n[0]:tf(ef(e[Vi]),n):tf(e,t.next)}}return null}function uF(e,t){return null!==t?e[Vi][On].projection[t.projection]:null}function lw(e,t){const i=Tn+e+1;if(i<t.length){const n=t[i],r=n[Ve].firstChild;if(null!==r)return tf(n,r)}return t[So]}function cw(e,t,i,n,r,s,o){for(;null!=i;){const a=n[i.index],l=i.type;if(o&&0===t&&(a&&Ln(fi(a),n),i.flags|=2),32!=(32&i.flags))if(8&l)cw(e,t,i.child,n,r,s,!1),$d(t,e,r,a,s);else if(32&l){const c=iw(i,n);let d;for(;d=c();)$d(t,e,r,d,s);$d(t,e,r,a,s)}else 16&l?fF(e,t,n,i,r,s):$d(t,e,r,a,s);i=o?i.projectionNext:i.next}}function nf(e,t,i,n,r,s){cw(i,n,e.firstChild,t,r,s,!1)}function fF(e,t,i,n,r,s){const o=i[Vi],l=o[On].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)$d(t,e,r,l[c],s);else{let c=l;const d=o[bi];Sm(n)&&(c.flags|=128),cw(e,t,c,d,r,s,!0)}}function pF(e,t,i){""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function gF(e,t,i){const{mergedAttrs:n,classes:r,styles:s}=i;null!==n&&yy(e,t,n),null!==r&&pF(e,t,r),null!==s&&function u7(e,t,i){e.setAttribute(t,"style",i)}(e,t,s)}function Kd(e){return function dw(){if(void 0===km&&(km=null,hi.trustedTypes))try{km=hi.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return km}()?.createHTML(e)||e}function qd(){if(void 0!==uw)return uw;if(typeof document<"u")return document;throw new re(210,!1)}function hw(){if(void 0===Im&&(Im=null,hi.trustedTypes))try{Im=hi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Im}function mF(e){return hw()?.createHTML(e)||e}function CF(e){return hw()?.createScriptURL(e)||e}class cc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dA})`}}class m7 extends cc{getTypeName(){return"HTML"}}class v7 extends cc{getTypeName(){return"Style"}}class C7 extends cc{getTypeName(){return"Script"}}class _7 extends cc{getTypeName(){return"URL"}}class y7 extends cc{getTypeName(){return"ResourceURL"}}function Wr(e){return e instanceof cc?e.changingThisBreaksApplicationSecurity:e}function Ao(e,t){const i=function w7(e){return e instanceof cc&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${dA})`)}return i===t}class T7{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const i=(new window.DOMParser).parseFromString(Kd(t),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(t):(i.removeChild(i.firstChild),i)}catch{return null}}}class A7{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const i=this.inertDocument.createElement("template");return i.innerHTML=Kd(t),i}}const F7=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pm(e){return(e=String(e)).match(F7)?e:"unsafe:"+e}function fa(e){const t={};for(const i of e.split(","))t[i]=!0;return t}function rf(...e){const t={};for(const i of e)for(const n in i)i.hasOwnProperty(n)&&(t[n]=!0);return t}const yF=fa("area,br,col,hr,img,wbr"),wF=fa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bF=fa("rp,rt"),fw=rf(yF,rf(wF,fa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rf(bF,fa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rf(bF,wF)),pw=fa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xF=rf(pw,fa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),M7=fa("script,style,template");class k7{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let i=t.firstChild,n=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let r=this.checkClobberedElement(i,i.nextSibling);if(r){i=r;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(t){const i=t.nodeName.toLowerCase();if(!fw.hasOwnProperty(i))return this.sanitizedSomething=!0,!M7.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const n=t.attributes;for(let r=0;r<n.length;r++){const s=n.item(r),o=s.name,a=o.toLowerCase();if(!xF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;pw[a]&&(l=Pm(l)),this.buf.push(" ",o,'="',SF(l),'"')}return this.buf.push(">"),!0}endElement(t){const i=t.nodeName.toLowerCase();fw.hasOwnProperty(i)&&!yF.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(t){this.buf.push(SF(t))}checkClobberedElement(t,i){if(i&&(t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return i}}const I7=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P7=/([^\#-~ |!])/g;function SF(e){return e.replace(/&/g,"&amp;").replace(I7,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(P7,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Om;function EF(e,t){let i=null;try{Om=Om||function _F(e){const t=new A7(e);return function R7(){try{return!!(new window.DOMParser).parseFromString(Kd(""),"text/html")}catch{return!1}}()?new T7(t):t}(e);let n=t?String(t):"";i=Om.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=Om.getInertBodyElement(n)}while(n!==s);return Kd((new k7).sanitizeChildren(gw(i)||i))}finally{if(i){const n=gw(i)||i;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function gw(e){return"content"in e&&function O7(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ur=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ur||{});function Lm(e){const t=sf();return t?mF(t.sanitize(Ur.HTML,e)||""):Ao(e,"HTML")?mF(Wr(e)):EF(qd(),it(e))}function DF(e){const t=sf();return t?t.sanitize(Ur.URL,e)||"":Ao(e,"URL")?Wr(e):Pm(it(e))}function TF(e){const t=sf();if(t)return CF(t.sanitize(Ur.RESOURCE_URL,e)||"");if(Ao(e,"ResourceURL"))return CF(Wr(e));throw new re(904,!1)}function sf(){const e=me();return e&&e[Ad].sanitizer}const af=new ge("ENVIRONMENT_INITIALIZER"),RF=new ge("INJECTOR",-1),FF=new ge("INJECTOR_DEF_TYPES");class mw{get(t,i=kh){if(i===kh){const n=new Error(`NullInjectorError: No provider for ${an(t)}!`);throw n.name="NullInjectorError",n}return i}}function Nm(e){return{\u0275providers:e}}function G7(...e){return{\u0275providers:MF(0,e),\u0275fromNgModule:!0}}function MF(e,...t){const i=[],n=new Set;let r;const s=o=>{i.push(o)};return zd(t,o=>{const a=o;Bm(a,s,[],n)&&(r||=[],r.push(a))}),void 0!==r&&kF(r,s),i}function kF(e,t){for(let i=0;i<e.length;i++){const{ngModule:n,providers:r}=e[i];vw(r,s=>{t(s,n)})}}function Bm(e,t,i,n){if(!(e=Je(e)))return!1;let r=null,s=Zg(e);const o=!s&&Pt(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{const l=e.ngModule;if(s=Zg(l),!s)return!1;r=l}const a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Bm(c,t,i,n)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;n.add(r);try{zd(s.imports,d=>{Bm(d,t,i,n)&&(c||=[],c.push(d))})}finally{}void 0!==c&&kF(c,t)}if(!a){const c=nc(r)||(()=>new r);t({provide:r,useFactory:c,deps:Vt},r),t({provide:FF,useValue:r,multi:!0},r),t({provide:af,useValue:()=>W(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=e;vw(l,d=>{t(d,c)})}}}return r!==e&&void 0!==e.providers}function vw(e,t){for(let i of e)ly(i)&&(i=i.\u0275providers),Array.isArray(i)?vw(i,t):t(i)}const z7=Jt({provide:String,useValue:Jt});function Cw(e){return null!==e&&"object"==typeof e&&z7 in e}function dc(e){return"function"==typeof e}const _w=new ge("Set Injector scope."),Vm={},U7={};let yw;function Hm(){return void 0===yw&&(yw=new mw),yw}class jr{}class Yd extends jr{get destroyed(){return this._destroyed}constructor(t,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bw(t,o=>this.processProvider(o)),this.records.set(RF,Xd(void 0,this)),r.has("environment")&&this.records.set(jr,Xd(void 0,this));const s=this.records.get(_w);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(FF.multi,Vt,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const i=$a(this),n=_r(void 0);try{return t()}finally{$a(i),_r(n)}}get(t,i=kh,n=bt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(_A))return t[_A](this);n=em(n);const s=$a(this),o=_r(void 0);try{if(!(n&bt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function Y7(e){return"function"==typeof e||"object"==typeof e&&e instanceof ge}(t)&&Xg(t);l=c&&this.injectableDefInScope(c)?Xd(ww(t),Vm):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&bt.Self?Hm():this.parent).get(t,i=n&bt.Optional&&i===kh?null:i)}catch(a){if("NullInjectorError"===a.name){if((a[Jg]=a[Jg]||[]).unshift(an(t)),s)throw a;return function Hz(e,t,i,n){const r=e[Jg];throw t[mA]&&r.unshift(t[mA]),e.message=function Gz(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=an(t);if(Array.isArray(t))r=t.map(an).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):an(a)))}r=`{${s.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${e.replace(Oz,"\n  ")}`}("\n"+e.message,r,i,n),e.ngTokenPath=r,e[Jg]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{_r(o),$a(s)}}resolveInjectorInitializers(){const t=$a(this),i=_r(void 0);try{const r=this.get(af.multi,Vt,bt.Self);for(const s of r)s()}finally{$a(t),_r(i)}}toString(){const t=[],i=this.records;for(const n of i.keys())t.push(an(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(t){let i=dc(t=Je(t))?t:Je(t&&t.provide);const n=function $7(e){return Cw(e)?Xd(void 0,e.useValue):Xd(OF(e),Vm)}(t);if(dc(t)||!0!==t.multi)this.records.get(i);else{let r=this.records.get(i);r||(r=Xd(void 0,Vm,!0),r.factory=()=>vy(r.multi),this.records.set(i,r)),i=t,r.multi.push(t)}this.records.set(i,n)}hydrate(t,i){return i.value===Vm&&(i.value=U7,i.value=i.factory()),"object"==typeof i.value&&i.value&&function q7(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(t){if(!t.providedIn)return!1;const i=Je(t.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(t){const i=this._onDestroyHooks.indexOf(t);-1!==i&&this._onDestroyHooks.splice(i,1)}}function ww(e){const t=Xg(e),i=null!==t?t.factory:nc(e);if(null!==i)return i;if(e instanceof ge)throw new re(204,!1);if(e instanceof Function)return function j7(e){const t=e.length;if(t>0)throw Zh(t,"?"),new re(204,!1);const i=function Mz(e){return e&&(e[Qg]||e[hA])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new re(204,!1)}function OF(e,t,i){let n;if(dc(e)){const r=Je(e);return nc(r)||ww(r)}if(Cw(e))n=()=>Je(e.useValue);else if(function PF(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...vy(e.deps||[]));else if(function IF(e){return!(!e||!e.useExisting)}(e))n=()=>W(Je(e.useExisting));else{const r=Je(e&&(e.useClass||e.provide));if(!function K7(e){return!!e.deps}(e))return nc(r)||ww(r);n=()=>new r(...vy(e.deps))}return n}function Xd(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function bw(e,t){for(const i of e)Array.isArray(i)?bw(i,t):i&&ly(i)?bw(i.\u0275providers,t):t(i)}const Gm=new ge("AppId",{providedIn:"root",factory:()=>X7}),X7="ng",LF=new ge("Platform Initializer"),pa=new ge("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ro=new ge("AnimationModuleType"),xw=new ge("CSP nonce",{providedIn:"root",factory:()=>qd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let NF=(e,t,i)=>null;function Mw(e,t,i=!1){return NF(e,t,i)}class o9{}class HF{}class l9{resolveComponentFactory(t){throw function a9(e){const t=Error(`No component factory found for ${an(e)}.`);return t.ngComponent=e,t}(t)}}let uc=(()=>{class e{static#e=this.NULL=new l9}return e})();function c9(){return Jd(Rn(),me())}function Jd(e,t){return new ct(wr(e,t))}let ct=(()=>{class e{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=c9}return e})();function d9(e){return e instanceof ct?e.nativeElement:e}class df{}let Fo=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function u9(){const e=me(),i=Gr(Rn().index,e);return(yr(i)?i:e)[nt]}()}return e})(),h9=(()=>{class e{static#e=this.\u0275prov=pe({token:e,providedIn:"root",factory:()=>null})}return e})();class hc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const f9=new hc("16.2.12"),Pw={};function jF(e,t=null,i=null,n){const r=$F(e,t,i,n);return r.resolveInjectorInitializers(),r}function $F(e,t=null,i=null,n,r=new Set){const s=[i||Vt,G7(e)];return n=n||("object"==typeof e?void 0:an(e)),new Yd(s,t||Hm(),n||null,r)}let ti=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=kh;static#t=this.NULL=new mw;static create(i,n){if(Array.isArray(i))return jF({name:""},n,i,"");{const r=i.name??"";return jF({name:r},i.parent,i.providers,r)}}static#i=this.\u0275prov=pe({token:e,providedIn:"any",factory:()=>W(RF)});static#n=this.__NG_ELEMENT_ID__=-1}return e})();function Lw(e){return e.ngOriginalError}class ga{constructor(){this._console=console}handleError(t){const i=this._findOriginalError(t);this._console.error("ERROR",t),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&Lw(t);for(;i&&Lw(i);)i=Lw(i);return i||null}}function Bw(e){return t=>{setTimeout(e,void 0,t)}}const ee=class y9 extends We{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,i,n){let r=t,s=i||(()=>null),o=n;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Bw(s),r&&(r=Bw(r)),o&&(o=Bw(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof Wt&&t.add(a),a}};function qF(...e){}class ze{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ee(!1),this.onMicrotaskEmpty=new ee(!1),this.onStable=new ee(!1),this.onError=new ee(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&i,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function w9(){const e="function"==typeof hi.requestAnimationFrame;let t=hi[e?"requestAnimationFrame":"setTimeout"],i=hi[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&i){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=i[Zone.__symbol__("OriginalDelegate")];r&&(i=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function S9(e){const t=()=>{!function x9(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(hi,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Hw(e),e.isCheckStableRunning=!0,Vw(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Hw(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,s,o,a)=>{if(function D9(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return i.invokeTask(r,s,o,a);try{return YF(e),i.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),XF(e)}},onInvoke:(i,n,r,s,o,a,l)=>{try{return YF(e),i.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),XF(e)}},onHasTask:(i,n,r,s)=>{i.hasTask(r,s),n===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Hw(e),Vw(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,n,r,s)=>(i.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ze.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(ze.isInAngularZone())throw new re(909,!1)}run(t,i,n){return this._inner.run(t,i,n)}runTask(t,i,n,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,b9,qF,qF);try{return s.runTask(o,i,n)}finally{s.cancelTask(o)}}runGuarded(t,i,n){return this._inner.runGuarded(t,i,n)}runOutsideAngular(t){return this._outer.run(t)}}const b9={};function Vw(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Hw(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function YF(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function XF(e){e._nesting--,Vw(e)}class E9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ee,this.onMicrotaskEmpty=new ee,this.onStable=new ee,this.onError=new ee}run(t,i,n){return t.apply(i,n)}runGuarded(t,i,n){return t.apply(i,n)}runOutsideAngular(t){return t()}runTask(t,i,n,r){return t.apply(i,n)}}const ZF=new ge("",{providedIn:"root",factory:QF});function QF(){const e=De(ze);let t=!0;return ja(new ui(r=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{r.next(t),r.complete()})}),new ui(r=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=e.onUnstable.subscribe(()=>{ze.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(ry()))}function JF(e){return e.ownerDocument.defaultView}function ma(e){return e instanceof Function?e():e}let Gw=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=pe({token:e,providedIn:"root",factory:()=>new e})}return e})();function uf(e){for(;e;){e[at]|=64;const t=ef(e);if(xy(e)&&!t)return e;e=t}return null}const rM=new ge("",{providedIn:"root",factory:()=>!1});let qm=null;function lM(e,t){return e[t]??uM()}function cM(e,t){const i=uM();i.producerNode?.length&&(e[t]=qm,i.lView=e,qm=dM())}const O9={...Sy,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{uf(e.lView)},lView:null};function dM(){return Object.create(O9)}function uM(){return qm??=dM(),qm}const st={};function L(e){hM(Ot(),me(),rr()+e,!1)}function hM(e,t,i,n){if(!n)if(3==(3&t[at])){const s=e.preOrderCheckHooks;null!==s&&hm(t,s,i)}else{const s=e.preOrderHooks;null!==s&&fm(t,s,0,i)}rc(i)}function E(e,t=bt.Default){const i=me();return null===i?W(e,t):DR(Rn(),i,Je(e),t)}function hf(){throw new Error("invalid")}function Ym(e,t,i,n,r,s,o,a,l,c,d){const u=t.blueprint.slice();return u[Ri]=r,u[at]=140|n,(null!==c||e&&2048&e[at])&&(u[at]|=2048),tR(u),u[bi]=u[Rd]=e,u[Bi]=i,u[Ad]=o||e&&e[Ad],u[nt]=a||e&&e[nt],u[Ka]=l||e&&e[Ka]||null,u[On]=s,u[Vh]=function VU(){return BU++}(),u[da]=d,u[kA]=c,u[Vi]=2==t.type?e[Vi]:u,u}function iu(e,t,i,n,r){let s=e.data[t];if(null===s)s=function zw(e,t,i,n,r){const s=aR(),o=ky(),l=e.data[t]=function W9(e,t,i,n,r,s){let o=t?t.injectorIndex:-1,a=0;return Pd()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,i,t,n,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,i,n,r),function HW(){return Ye.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=i,s.value=n,s.attrs=r;const o=function Uh(){const e=Ye.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Do(s,!0),s}function ff(e,t,i,n){if(0===i)return-1;const r=t.length;for(let s=0;s<i;s++)t.push(n),e.blueprint.push(n),e.data.push(null);return r}function fM(e,t,i,n,r){const s=lM(t,Hh),o=rr(),a=2&n;try{rc(-1),a&&t.length>xt&&hM(e,t,xt,!1),Eo(a?2:0,r);const c=a?s:null,d=Dy(c);try{null!==c&&(c.dirty=!1),i(n,r)}finally{Ty(c,d)}}finally{a&&null===t[Hh]&&cM(t,Hh),rc(o),Eo(a?3:1,r)}}function Ww(e,t,i){if(by(t)){const n=ms(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,i[o],o)}}finally{ms(n)}}}function Uw(e,t,i){oR()&&(function X9(e,t,i,n){const r=i.directiveStart,s=i.directiveEnd;ic(i)&&function nj(e,t,i){const n=wr(t,e),r=pM(i);let o=16;i.signals?o=4096:i.onPush&&(o=64);const a=Xm(e,Ym(e,r,null,o,n,t,null,e[Ad].rendererFactory.createRenderer(n,i),null,null,null));e[t.index]=a}(t,i,e.data[r+i.componentOffset]),e.firstCreatePass||gm(i,t),Ln(n,t);const o=i.initialInputs;for(let a=r;a<s;a++){const l=e.data[a],c=sc(t,e,a,i);Ln(c,t),null!==o&&rj(0,a-r,c,l,0,o),Qs(l)&&(Gr(i.index,t)[Bi]=sc(t,e,a,i))}}(e,t,i,wr(i,t)),64==(64&i.flags)&&_M(e,t,i))}function jw(e,t,i=wr){const n=t.localNames;if(null!==n){let r=t.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=-1===o?i(t,e):e[o];e[r++]=a}}}function pM(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=$w(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function $w(e,t,i,n,r,s,o,a,l,c,d){const u=xt+n,h=u+r,f=function N9(e,t){const i=[];for(let n=0;n<t;n++)i.push(n<e?null:st);return i}(u,h),g="function"==typeof c?c():c;return f[Ve]={type:e,blueprint:f,template:i,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:d}}let gM=e=>null;function mM(e,t,i,n){for(let r in e)if(e.hasOwnProperty(r)){i=null===i?{}:i;const s=e[r];null===n?vM(i,t,r,s):n.hasOwnProperty(r)&&vM(i,t,n[r],s)}return i}function vM(e,t,i,n){e.hasOwnProperty(i)?e[i].push(t,n):e[i]=[t,n]}function $r(e,t,i,n,r,s,o,a){const l=wr(t,i);let d,c=t.inputs;!a&&null!=c&&(d=c[n])?(Zw(e,i,d,n,r),ic(t)&&function $9(e,t){const i=Gr(t,e);16&i[at]||(i[at]|=64)}(i,t.index)):3&t.type&&(n=function j9(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),r=null!=o?o(r,t.value||"",n):r,s.setProperty(l,n,r))}function Kw(e,t,i,n){if(oR()){const r=null===n?null:{"":-1},s=function Q9(e,t){const i=e.directiveRegistry;let n=null,r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];if(DA(t,o.selectors,!1))if(n||(n=[]),Qs(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o),qw(e,t,a.length)}else n.unshift(o),qw(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return null===n?null:[n,r]}(e,i);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&CM(e,t,i,o,r,a),r&&function J9(e,t,i){if(t){const n=e.localNames=[];for(let r=0;r<t.length;r+=2){const s=i[t[r+1]];if(null==s)throw new re(-301,!1);n.push(t[r],s)}}}(i,n,r)}i.mergedAttrs=Oh(i.mergedAttrs,i.attrs)}function CM(e,t,i,n,r,s){for(let c=0;c<n.length;c++)Uy(gm(i,t),e,n[c].type);!function tj(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}(i,e.data.length,n.length);for(let c=0;c<n.length;c++){const d=n[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=ff(e,t,n.length,null);for(let c=0;c<n.length;c++){const d=n[c];i.mergedAttrs=Oh(i.mergedAttrs,d.hostAttrs),ij(e,i,t,l,d),ej(l,d,r),null!==d.contentQueries&&(i.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(i.flags|=64);const u=d.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),o=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),a=!0),l++}!function U9(e,t,i){const r=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,c=null;for(let d=t.directiveStart;d<r;d++){const u=s[d],h=i?i.get(u):null,g=h?h.outputs:null;l=mM(u.inputs,d,l,h?h.inputs:null),c=mM(u.outputs,d,c,g);const p=null===l||null===o||EA(t)?null:sj(l,d,o);a.push(p)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,i,s)}function _M(e,t,i){const n=i.directiveStart,r=i.directiveEnd,s=i.index,o=function zW(){return Ye.lFrame.currentDirectiveIndex}();try{rc(s);for(let a=n;a<r;a++){const l=e.data[a],c=t[a];Py(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Z9(l,c)}}finally{rc(-1),Py(o)}}function Z9(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function qw(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function ej(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;Qs(t)&&(i[""]=e)}}function ij(e,t,i,n,r){e.data[n]=r;const s=r.factory||(r.factory=nc(r.type)),o=new jh(s,Qs(r),E);e.blueprint[n]=o,i[n]=o,function q9(e,t,i,n,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function Y9(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(o)!=a&&o.push(a),o.push(i,n,s)}}(e,t,n,ff(e,i,r.hostVars,st),r)}function Mo(e,t,i,n,r,s){const o=wr(e,t);!function Yw(e,t,i,n,r,s,o){if(null==s)e.removeAttribute(t,r,i);else{const a=null==o?it(s):o(s,n||"",r);e.setAttribute(t,r,a,i)}}(t[nt],o,s,e.value,i,n,r)}function rj(e,t,i,n,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)yM(n,i,o[a++],o[a++],o[a++])}function yM(e,t,i,n,r){const s=ms(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(n)&&(r=o[n].call(t,r)),null!==e.setInput?e.setInput(t,r,i,n):t[n]=r}finally{ms(s)}}function sj(e,t,i){let n=null,r=0;for(;r<i.length;){const s=i[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===n&&(n=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){n.push(s,o[a+1],i[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function wM(e,t,i,n){return[e,!0,!1,t,null,0,n,i,null,null,null]}function bM(e,t){const i=e.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const s=i[n+1];if(-1!==s){const o=e.data[s];Ly(i[n]),o.contentQueries(2,t[s],s)}}}function Xm(e,t){return e[Nh]?e[MA][Zs]=t:e[Nh]=t,e[MA]=t,t}function Xw(e,t,i){Ly(0);const n=ms(null);try{t(e,i)}finally{ms(n)}}function xM(e){return e[Td]||(e[Td]=[])}function SM(e){return e.cleanup||(e.cleanup=[])}function EM(e,t,i){return(null===e||Qs(e))&&(i=function My(e){for(;Array.isArray(e);){if("object"==typeof e[wy])return e;e=e[Ri]}return null}(i[t.index])),i[nt]}function DM(e,t){const i=e[Ka],n=i?i.get(ga,null):null;n&&n.handleError(t)}function Zw(e,t,i,n,r){for(let s=0;s<i.length;){const o=i[s++],a=i[s++];yM(e.data[o],t[o],n,a,r)}}function va(e,t,i){const n=cm(t,e);!function iF(e,t,i){e.setValue(t,i)}(e[nt],n,i)}function oj(e,t){const i=Gr(t,e),n=i[Ve];!function aj(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(n,i);const r=i[Ri];null!==r&&null===i[da]&&(i[da]=Mw(r,i[Ka])),Qw(n,i,i[Bi])}function Qw(e,t,i){Ny(t);try{const n=e.viewQuery;null!==n&&Xw(1,n,i);const r=e.template;null!==r&&fM(e,t,r,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&bM(e,t),e.staticViewQueries&&Xw(2,e.viewQuery,i);const s=e.components;null!==s&&function lj(e,t){for(let i=0;i<t.length;i++)oj(e,t[i])}(t,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[at]&=-5,By()}}let TM=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(i,n,r){const s=typeof Zone>"u"?null:Zone.current,o=function CW(e,t,i){const n=Object.create(_W);i&&(n.consumerAllowSignalWrites=!0),n.fn=e,n.schedule=t;const r=o=>{n.cleanupFn=o};return n.ref={notify:()=>VA(n),run:()=>{if(n.dirty=!1,n.hasRun&&!HA(n))return;n.hasRun=!0;const o=Dy(n);try{n.cleanupFn(),n.cleanupFn=qA,n.fn(r)}finally{Ty(n,o)}},cleanup:()=>n.cleanupFn()},n.ref}(i,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=n?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[i,n]of this.queue)this.queue.delete(i),n?n.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=pe({token:e,providedIn:"root",factory:()=>new e})}return e})();function Zm(e,t,i){let n=i?e.styles:null,r=i?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=oy(r,a):2==s&&(n=oy(n,a+": "+t[++o]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=r:e.classesWithoutHost=r}function pf(e,t,i,n,r=!1){for(;null!==i;){const s=t[i.index];null!==s&&n.push(fi(s)),ir(s)&&AM(s,n);const o=i.type;if(8&o)pf(e,t,i.child,n);else if(32&o){const a=iw(i,t);let l;for(;l=a();)n.push(l)}else if(16&o){const a=uF(t,i);if(Array.isArray(a))n.push(...a);else{const l=ef(t[Vi]);pf(l[Ve],l,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function AM(e,t){for(let i=Tn;i<e.length;i++){const n=e[i],r=n[Ve].firstChild;null!==r&&pf(n[Ve],n,r,t)}e[So]!==e[Ri]&&t.push(e[So])}function Qm(e,t,i,n=!0){const r=t[Ad],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{RM(e,t,e.template,i)}catch(l){throw n&&DM(t,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function RM(e,t,i,n){const r=t[at];if(256!=(256&r)){t[Ad].effectManager?.flush(),Ny(t);try{tR(t),function cR(e){return Ye.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&fM(e,t,i,2,n);const o=3==(3&r);if(o){const c=e.preOrderCheckHooks;null!==c&&hm(t,c,null)}else{const c=e.preOrderHooks;null!==c&&fm(t,c,0,null),Vy(t,0)}if(function uj(e){for(let t=JR(e);null!==t;t=eF(t)){if(!t[IA])continue;const i=t[Md];for(let n=0;n<i.length;n++){RW(i[n])}}}(t),FM(t,2),null!==e.contentQueries&&bM(e,t),o){const c=e.contentCheckHooks;null!==c&&hm(t,c)}else{const c=e.contentHooks;null!==c&&fm(t,c,1),Vy(t,1)}!function L9(e,t){const i=e.hostBindingOpCodes;if(null===i)return;const n=lM(t,Gh);try{for(let r=0;r<i.length;r++){const s=i[r];if(s<0)rc(~s);else{const o=s,a=i[++r],l=i[++r];GW(a,o),n.dirty=!1;const c=Dy(n);try{l(2,t[o])}finally{Ty(n,c)}}}}finally{null===t[Gh]&&cM(t,Gh),rc(-1)}}(e,t);const a=e.components;null!==a&&kM(t,a,0);const l=e.viewQuery;if(null!==l&&Xw(2,l,n),o){const c=e.viewCheckHooks;null!==c&&hm(t,c)}else{const c=e.viewHooks;null!==c&&fm(t,c,2),Vy(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[at]&=-73,iR(t)}finally{By()}}}function FM(e,t){for(let i=JR(e);null!==i;i=eF(i))for(let n=Tn;n<i.length;n++)MM(i[n],t)}function hj(e,t,i){MM(Gr(t,e),i)}function MM(e,t){if(!function TW(e){return 128==(128&e[at])}(e))return;const i=e[Ve],n=e[at];if(80&n&&0===t||1024&n||2===t)RM(i,e,i.template,e[Bi]);else if(e[Lh]>0){FM(e,1);const r=i.components;null!==r&&kM(e,r,1)}}function kM(e,t,i){for(let n=0;n<t.length;n++)hj(e,t[n],i)}class gf{get rootNodes(){const t=this._lView,i=t[Ve];return pf(i,t,i.firstChild,[])}constructor(t,i){this._lView=t,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bi]}set context(t){this._lView[Bi]=t}get destroyed(){return 256==(256&this._lView[at])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[bi];if(ir(t)){const i=t[8],n=i?i.indexOf(this):-1;n>-1&&(Am(t,n),Cm(i,n))}this._attachedToViewContainer=!1}rw(this._lView[Ve],this._lView)}onDestroy(t){!function rR(e,t){if(256==(256&e[at]))throw new re(911,!1);null===e[qa]&&(e[qa]=[]),e[qa].push(t)}(this._lView,t)}markForCheck(){uf(this._cdRefInjectingView||this._lView)}detach(){this._lView[at]&=-129}reattach(){this._lView[at]|=128}detectChanges(){Qm(this._lView[Ve],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JU(e,t){nf(e,t,t[nt],2,null,null)}(this._lView[Ve],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=t}}class fj extends gf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Qm(t[Ve],t,t[Bi],!1)}checkNoChanges(){}get context(){return null}}class IM extends uc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const i=Pt(t);return new mf(i,this.ngModule)}}function PM(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}class gj{constructor(t,i){this.injector=t,this.parentInjector=i}get(t,i,n){n=em(n);const r=this.injector.get(t,Pw,n);return r!==Pw||i===Pw?r:this.parentInjector.get(t,i,n)}}class mf extends HF{get inputs(){const t=this.componentDef,i=t.inputTransforms,n=PM(t.inputs);if(null!==i)for(const r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return PM(this.componentDef.outputs)}constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=function Zz(e){return e.map(Xz).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}create(t,i,n,r){let s=(r=r||this.ngModule)instanceof jr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new gj(t,s):t,a=o.get(df,null);if(null===a)throw new re(407,!1);const u={rendererFactory:a,sanitizer:o.get(h9,null),effectManager:o.get(TM,null),afterRenderEventManager:o.get(Gw,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=n?function B9(e,t,i,n){const s=n.get(rM,!1)||i===gs.ShadowDom,o=e.selectRootElement(t,s);return function V9(e){gM(e)}(o),o}(h,n,this.componentDef.encapsulation,o):Tm(h,f,function pj(e){const t=e.toLowerCase();return"svg"===t?QA:"math"===t?"math":null}(f)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==g&&(v=Mw(g,o,!0));const _=$w(0,null,null,1,0,null,null,null,null,null,null),x=Ym(null,_,null,C,null,null,u,h,o,null,v);let R,M;Ny(x);try{const S=this.componentDef;let N,B=null;S.findHostDirectiveDefs?(N=[],B=new Map,S.findHostDirectiveDefs(S,N,B),N.push(S)):N=[S];const j=function vj(e,t){const i=e[Ve],n=xt;return e[n]=t,iu(i,n,2,"#host",null)}(x,g),K=function Cj(e,t,i,n,r,s,o){const a=r[Ve];!function _j(e,t,i,n){for(const r of e)t.mergedAttrs=Oh(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Zm(t,t.mergedAttrs,!0),null!==i&&gF(n,i,t))}(n,e,t,o);let l=null;null!==t&&(l=Mw(t,r[Ka]));const c=s.rendererFactory.createRenderer(t,i);let d=16;i.signals?d=4096:i.onPush&&(d=64);const u=Ym(r,pM(i),null,d,r[e.index],e,s,c,null,null,l);return a.firstCreatePass&&qw(a,e,n.length-1),Xm(r,u),r[e.index]=u}(j,g,S,N,x,u,h);M=eR(_,xt),g&&function wj(e,t,i,n){if(n)yy(e,i,["ng-version",f9.full]);else{const{attrs:r,classes:s}=function Qz(e){const t=[],i=[];let n=1,r=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++n]):8===r&&i.push(s);else{if(!Xs(r))break;r=s}n++}return{attrs:t,classes:i}}(t.selectors[0]);r&&yy(e,i,r),s&&s.length>0&&pF(e,i,s.join(" "))}}(h,S,g,n),void 0!==i&&function bj(e,t,i){const n=e.projection=[];for(let r=0;r<t.length;r++){const s=i[r];n.push(null!=s?Array.from(s):null)}}(M,this.ngContentSelectors,i),R=function yj(e,t,i,n,r,s){const o=Rn(),a=r[Ve],l=wr(o,r);CM(a,r,o,i,null,n);for(let d=0;d<i.length;d++)Ln(sc(r,a,o.directiveStart+d,o),r);_M(a,r,o),l&&Ln(l,r);const c=sc(r,a,o.directiveStart+o.componentOffset,o);if(e[Bi]=r[Bi]=c,null!==s)for(const d of s)d(c,t);return Ww(a,o,e),c}(K,S,N,B,x,[xj]),Qw(_,x,null)}finally{By()}return new mj(this.componentType,R,Jd(M,x),x,M)}}class mj extends o9{constructor(t,i,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new fj(r),this.componentType=t}setInput(t,i){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),i))return;const s=this._rootLView;Zw(s[Ve],s,r,t,i),this.previousInputValues.set(t,i),uf(Gr(this._tNode.index,s))}}get injector(){return new sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function xj(){const e=Rn();um(me()[Ve],e)}function tt(e){let t=function OM(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const n=[e];for(;t;){let r;if(Qs(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new re(903,!1);r=t.\u0275dir}if(r){if(i){n.push(r);const o=e;o.inputs=Jm(e.inputs),o.inputTransforms=Jm(e.inputTransforms),o.declaredInputs=Jm(e.declaredInputs),o.outputs=Jm(e.outputs);const a=r.hostBindings;a&&Tj(e,a);const l=r.viewQuery,c=r.contentQueries;if(l&&Ej(e,l),c&&Dj(e,c),qg(e.inputs,r.inputs),qg(e.declaredInputs,r.declaredInputs),qg(e.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),qg(o.inputTransforms,r.inputTransforms)),Qs(r)&&r.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===tt&&(i=!1)}}t=Object.getPrototypeOf(t)}!function Sj(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){const r=e[n];r.hostVars=t+=r.hostVars,r.hostAttrs=Oh(r.hostAttrs,i=Oh(i,r.hostAttrs))}}(n)}function Jm(e){return e===bo?{}:e===Vt?[]:e}function Ej(e,t){const i=e.viewQuery;e.viewQuery=i?(n,r)=>{t(n,r),i(n,r)}:t}function Dj(e,t){const i=e.contentQueries;e.contentQueries=i?(n,r,s)=>{t(n,r,s),i(n,r,s)}:t}function Tj(e,t){const i=e.hostBindings;e.hostBindings=i?(n,r)=>{t(n,r),i(n,r)}:t}function VM(e){const t=e.inputConfig,i={};for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];Array.isArray(r)&&r[2]&&(i[n]=r[2])}e.inputTransforms=i}function ev(e){return!!Jw(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Jw(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ko(e,t,i){return e[t]=i}function Nn(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function fc(e,t,i,n){const r=Nn(e,t,i);return Nn(e,t+1,n)||r}function tv(e,t,i,n,r){const s=fc(e,t,i,n);return Nn(e,t+2,r)||s}function At(e,t,i,n){const r=me();return Nn(r,Od(),t)&&(Ot(),Mo(Ei(),r,e,t,i,n)),At}function ru(e,t,i,n){return Nn(e,Od(),i)?t+it(i)+n:st}function xe(e,t,i,n,r,s,o,a){const l=me(),c=Ot(),d=e+xt,u=c.firstCreatePass?function Qj(e,t,i,n,r,s,o,a,l){const c=t.consts,d=iu(t,e,4,o||null,Xa(c,a));Kw(t,i,d,Xa(c,l)),um(t,d);const u=d.tView=$w(2,d,n,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,i,n,r,s,o):c.data[d];Do(u,!1);const h=QM(c,l,u,e);dm()&&Fm(c,l,h,u),Ln(h,l),Xm(l,l[d]=wM(h,l,h,u)),sm(u)&&Uw(c,l,u),null!=o&&jw(l,u,a)}let QM=function JM(e,t,i,n){return Za(!0),t[nt].createComment("")};function wf(e){return Id(function VW(){return Ye.lFrame.contextLView}(),xt+e)}function U(e,t,i){const n=me();return Nn(n,Od(),t)&&$r(Ot(),Ei(),n,e,t,n[nt],i,!1),U}function sb(e,t,i,n,r){const o=r?"class":"style";Zw(e,i,t.inputs[o],o,n)}function y(e,t,i,n){const r=me(),s=Ot(),o=xt+e,a=r[nt],l=s.firstCreatePass?function i$(e,t,i,n,r,s){const o=t.consts,l=iu(t,e,2,n,Xa(o,r));return Kw(t,i,l,Xa(o,s)),null!==l.attrs&&Zm(l,l.attrs,!1),null!==l.mergedAttrs&&Zm(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,i,n):s.data[o],c=ek(s,r,l,a,t,e);r[o]=c;const d=sm(l);return Do(l,!0),gF(a,c,l),32!=(32&l.flags)&&dm()&&Fm(s,r,c,l),0===function MW(){return Ye.lFrame.elementDepthCount}()&&Ln(c,r),function kW(){Ye.lFrame.elementDepthCount++}(),d&&(Uw(s,r,l),Ww(s,l,r)),null!==n&&jw(r,l),y}function w(){let e=Rn();ky()?Iy():(e=e.parent,Do(e,!1));const t=e;(function PW(e){return Ye.skipHydrationRootTNode===e})(t)&&function BW(){Ye.skipHydrationRootTNode=null}(),function IW(){Ye.lFrame.elementDepthCount--}();const i=Ot();return i.firstCreatePass&&(um(i,e),by(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ZW(e){return 0!=(8&e.flags)}(t)&&sb(i,t,me(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function QW(e){return 0!=(16&e.flags)}(t)&&sb(i,t,me(),t.stylesWithoutHost,!1),w}function ie(e,t,i,n){return y(e,t,i,n),w(),ie}let ek=(e,t,i,n,r,s)=>(Za(!0),Tm(n,r,function vR(){return Ye.lFrame.currentNamespace}()));function hu(e,t,i){const n=me(),r=Ot(),s=e+xt,o=r.firstCreatePass?function s$(e,t,i,n,r){const s=t.consts,o=Xa(s,n),a=iu(t,e,8,"ng-container",o);return null!==o&&Zm(a,o,!0),Kw(t,i,a,Xa(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,n,t,i):r.data[s];Do(o,!0);const a=ik(r,n,o,e);return n[s]=a,dm()&&Fm(r,n,a,o),Ln(a,n),sm(o)&&(Uw(r,n,o),Ww(r,o,n)),null!=i&&jw(n,o),hu}function fu(){let e=Rn();const t=Ot();return ky()?Iy():(e=e.parent,Do(e,!1)),t.firstCreatePass&&(um(t,e),by(e)&&t.queries.elementEnd(e)),fu}let ik=(e,t,i,n)=>(Za(!0),nw(t[nt],""));function Fi(){return me()}function bf(e){return!!e&&"function"==typeof e.then}function nk(e){return!!e&&"function"==typeof e.subscribe}function ye(e,t,i,n){const r=me(),s=Ot(),o=Rn();return rk(s,r,r[nt],o,e,t,n),ye}function sv(e,t){const i=Rn(),n=me(),r=Ot();return rk(r,n,EM(Oy(r.data),i,n),i,e,t),sv}function rk(e,t,i,n,r,s,o){const a=sm(n),c=e.firstCreatePass&&SM(e),d=t[Bi],u=xM(t);let h=!0;if(3&n.type||o){const p=wr(n,t),m=o?o(p):p,C=u.length,v=o?x=>o(fi(x[n.index])):n.index;let _=null;if(!o&&a&&(_=function l$(e,t,i,n){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===i&&r[s+1]===n){const a=t[Td],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,r,n.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1;else{s=ok(n,t,d,s,!1);const x=i.listen(m,r,s);u.push(s,x),c&&c.push(r,v,C,C+1)}}else s=ok(n,t,d,s,!1);const f=n.outputs;let g;if(h&&null!==f&&(g=f[r])){const p=g.length;if(p)for(let m=0;m<p;m+=2){const R=t[g[m]][g[m+1]].subscribe(s),M=u.length;u.push(s,R),c&&c.push(r,n.index,M,-(M+1))}}}function sk(e,t,i,n){try{return Eo(6,t,i),!1!==i(n)}catch(r){return DM(e,r),!1}finally{Eo(7,t,i)}}function ok(e,t,i,n,r){return function s(o){if(o===Function)return n;uf(e.componentOffset>-1?Gr(e.index,t):t);let l=sk(t,i,n,o),c=s.__ngNextListenerFn__;for(;c;)l=sk(t,i,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function Se(e=1){return function UW(e){return(Ye.lFrame.contextLView=function jW(e,t){for(;e>0;)t=t[Rd],e--;return t}(e,Ye.lFrame.contextLView))[Bi]}(e)}function c$(e,t){let i=null;const n=function $z(e){const t=e.attrs;if(null!=t){const i=t.indexOf(5);if(!(1&i))return t[i+1]}return null}(e);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===n?DA(e,s,!0):Yz(n,s))return r}else i=r}return i}function ys(e){const t=me()[Vi][On];if(!t.projection){const n=t.projection=Zh(e?e.length:1,null),r=n.slice();let s=t.child;for(;null!==s;){const o=e?c$(s,e):0;null!==o&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function li(e,t=0,i){const n=me(),r=Ot(),s=iu(r,xt+e,16,null,i||null);null===s.projection&&(s.projection=t),Iy(),(!n[da]||Pd())&&32!=(32&s.flags)&&function l7(e,t,i){fF(t[nt],0,t,i,ow(e,i,t),aF(i.parent||t[On],i,t))}(r,n,s)}function ob(e,t,i){return ab(e,"",t,"",i),ob}function ab(e,t,i,n,r){const s=me(),o=ru(s,t,i,n);return o!==st&&$r(Ot(),Ei(),s,e,o,s[nt],r,!1),ab}function ov(e,t){return e<<17|t<<2}function Ja(e){return e>>17&32767}function lb(e){return 2|e}function pc(e){return(131068&e)>>2}function cb(e,t){return-131069&e|t<<2}function db(e){return 1|e}function gk(e,t,i,n,r){const s=e[i+1],o=null===t;let a=n?Ja(s):pc(s),l=!1;for(;0!==a&&(!1===l||o);){const d=e[a+1];g$(e[a],t)&&(l=!0,e[a+1]=n?db(d):lb(d)),a=n?Ja(d):pc(d)}l&&(e[i+1]=n?lb(s):db(s))}function g$(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Wd(e,t)>=0}const cn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mk(e){return e.substring(cn.key,cn.keyEnd)}function vk(e,t){const i=cn.textEnd;return i===t?-1:(t=cn.keyEnd=function _$(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,cn.key=t,i),pu(e,t,i))}function pu(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function Kr(e,t,i){return eo(e,t,i,!1),Kr}function si(e,t){return eo(e,t,null,!0),si}function Po(e){!function to(e,t,i,n){const r=Ot(),s=ha(2);r.firstUpdatePass&&xk(r,null,s,n);const o=me();if(i!==st&&Nn(o,s,i)){const a=r.data[rr()];if(Tk(a,n)&&!bk(r,s)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(i=oy(l,i||"")),sb(r,a,o,i,n)}else!function R$(e,t,i,n,r,s,o,a){r===st&&(r=Vt);let l=0,c=0,d=0<r.length?r[0]:null,u=0<s.length?s[0]:null;for(;null!==d||null!==u;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,g=null;d===u?(l+=2,c+=2,h!==f&&(g=u,p=f)):null===u||null!==d&&d<u?(l+=2,g=d):(c+=2,g=u,p=f),null!==g&&Ek(e,t,i,n,g,p,o,a),d=l<r.length?r[l]:null,u=c<s.length?s[c]:null}}(r,a,o,o[nt],o[s+1],o[s+1]=function T$(e,t,i){if(null==i||""===i)return Vt;const n=[],r=Wr(i);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(n,s,r[s]);else"string"==typeof r&&t(n,r);return n}(e,t,i),n,s)}}(A$,Oo,e,!0)}function Oo(e,t){for(let i=function v$(e){return function _k(e){cn.key=0,cn.keyEnd=0,cn.value=0,cn.valueEnd=0,cn.textEnd=e.length}(e),vk(e,pu(e,0,cn.textEnd))}(t);i>=0;i=vk(t,i))zr(e,mk(t),!0)}function eo(e,t,i,n){const r=me(),s=Ot(),o=ha(2);s.firstUpdatePass&&xk(s,e,o,n),t!==st&&Nn(r,o,t)&&Ek(s,s.data[rr()],r,r[nt],e,r[o+1]=function F$(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=an(Wr(e)))),e}(t,i),n,o)}function bk(e,t){return t>=e.expandoStartIndex}function xk(e,t,i,n){const r=e.data;if(null===r[i+1]){const s=r[rr()],o=bk(e,i);Tk(s,n)&&null===t&&!o&&(t=!1),t=function x$(e,t,i,n){const r=Oy(e);let s=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(i=xf(i=ub(null,e,t,i,n),t.attrs,n),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(i=ub(r,e,t,i,n),null===s){let l=function S$(e,t,i){const n=i?t.classBindings:t.styleBindings;if(0!==pc(n))return e[Ja(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=ub(null,e,t,l[1],n),l=xf(l,t.attrs,n),function E$(e,t,i,n){e[Ja(i?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else s=function D$(e,t,i){let n;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)n=xf(n,e[s].hostAttrs,i);return xf(n,t.attrs,i)}(e,t,n)}return void 0!==s&&(n?t.residualClasses=s:t.residualStyles=s),i}(r,s,t,n),function f$(e,t,i,n,r,s){let o=s?t.classBindings:t.styleBindings,a=Ja(o),l=pc(o);e[n]=i;let d,c=!1;if(Array.isArray(i)?(d=i[1],(null===d||Wd(i,d)>0)&&(c=!0)):d=i,r)if(0!==l){const h=Ja(e[a+1]);e[n+1]=ov(h,a),0!==h&&(e[h+1]=cb(e[h+1],n)),e[a+1]=function u$(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=ov(a,0),0!==a&&(e[a+1]=cb(e[a+1],n)),a=n;else e[n+1]=ov(l,0),0===a?a=n:e[l+1]=cb(e[l+1],n),l=n;c&&(e[n+1]=lb(e[n+1])),gk(e,d,n,!0),gk(e,d,n,!1),function p$(e,t,i,n,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Wd(s,t)>=0&&(i[n+1]=db(i[n+1]))}(t,d,e,n,s),o=ov(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,i,o,n)}}function ub(e,t,i,n,r){let s=null;const o=i.directiveEnd;let a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(s=t[a],n=xf(n,s.hostAttrs,r),s!==e);)a++;return null!==e&&(i.directiveStylingLast=a),n}function xf(e,t,i){const n=i?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),zr(e,o,!!i||t[++s]))}return void 0===e?null:e}function A$(e,t,i){const n=String(t);""!==n&&!n.includes(" ")&&zr(e,n,i)}function Ek(e,t,i,n,r,s,o,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],d=function h$(e){return 1==(1&e)}(c)?Dk(l,t,i,r,pc(c),o):void 0;av(d)||(av(s)||function d$(e){return 2==(2&e)}(c)&&(s=Dk(l,null,i,r,a,o)),function d7(e,t,i,n,r){if(t)r?e.addClass(i,n):e.removeClass(i,n);else{let s=-1===n.indexOf("-")?void 0:Qa.DashCase;null==r?e.removeStyle(i,n,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Qa.Important),e.setStyle(i,n,r,s))}}(n,o,cm(rr(),i),r,s))}function Dk(e,t,i,n,r,s){const o=null===t;let a;for(;r>0;){const l=e[r],c=Array.isArray(l),d=c?l[1]:l,u=null===d;let h=i[r+1];h===st&&(h=u?Vt:void 0);let f=u?Ky(h,n):d===n?h:void 0;if(c&&!av(f)&&(f=Ky(l,n)),av(f)&&(a=f,o))return a;const g=e[r+1];r=o?Ja(g):pc(g)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=Ky(l,n))}return a}function av(e){return void 0!==e}function Tk(e,t){return 0!=(e.flags&(t?8:16))}function F(e,t=""){const i=me(),n=Ot(),r=e+xt,s=n.firstCreatePass?iu(n,r,1,t,null):n.data[r],o=Ak(n,i,s,t,e);i[r]=o,dm()&&Fm(n,i,o,s),Do(s,!1)}let Ak=(e,t,i,n,r)=>(Za(!0),function Dm(e,t){return e.createText(t)}(t[nt],n));function mi(e){return Xe("",e,""),mi}function Xe(e,t,i){const n=me(),r=ru(n,e,t,i);return r!==st&&va(n,rr(),r),Xe}function el(e,t,i,n,r){const s=me(),o=function su(e,t,i,n,r,s){const a=fc(e,ua(),i,r);return ha(2),a?t+it(i)+n+it(r)+s:st}(s,e,t,i,n,r);return o!==st&&va(s,rr(),o),el}function lv(e,t,i,n,r,s,o){const a=me(),l=function ou(e,t,i,n,r,s,o,a){const c=tv(e,ua(),i,r,o);return ha(3),c?t+it(i)+n+it(r)+s+it(o)+a:st}(a,e,t,i,n,r,s,o);return l!==st&&va(a,rr(),l),lv}function Ca(e,t,i){const n=me();return Nn(n,Od(),t)&&$r(Ot(),Ei(),n,e,t,n[nt],i,!0),Ca}function Sf(e,t,i){const n=me();if(Nn(n,Od(),t)){const s=Ot(),o=Ei();$r(s,o,n,e,t,EM(Oy(s.data),o,n),i,!0)}return Sf}const gc=void 0;var Q$=["en",[["a","p"],["AM","PM"],gc],[["AM","PM"],gc,gc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gc,"{1} 'at' {0}",gc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Z$(e){const i=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===n?1:5}];let gu={};function or(e){const t=function J$(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=jk(t);if(i)return i;const n=t.split("-")[0];if(i=jk(n),i)return i;if("en"===n)return Q$;throw new re(701,!1)}function jk(e){return e in gu||(gu[e]=hi.ng&&hi.ng.common&&hi.ng.common.locales&&hi.ng.common.locales[e]),gu[e]}var pi=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(pi||{});const mu="en-US";let $k=mu;function pb(e,t,i,n,r){if(e=Je(e),Array.isArray(e))for(let s=0;s<e.length;s++)pb(e[s],t,i,n,r);else{const s=Ot(),o=me(),a=Rn();let l=dc(e)?e:Je(e.provide);const c=OF(e),d=1048575&a.providerIndexes,u=a.directiveStart,h=a.providerIndexes>>20;if(dc(e)||!e.multi){const f=new jh(c,r,E),g=mb(l,t,r?d:d+h,u);-1===g?(Uy(gm(a,o),s,l),gb(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(f),o.push(f)):(i[g]=f,o[g]=f)}else{const f=mb(l,t,d+h,u),g=mb(l,t,d,d+h),m=g>=0&&i[g];if(r&&!m||!r&&!(f>=0&&i[f])){Uy(gm(a,o),s,l);const C=function ZK(e,t,i,n,r){const s=new jh(e,i,E);return s.multi=[],s.index=t,s.componentProviders=0,vI(s,r,n&&!i),s}(r?XK:YK,i.length,r,n,c);!r&&m&&(i[g].providerFactory=C),gb(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(C),o.push(C)}else gb(s,e,f>-1?f:g,vI(i[r?g:f],c,!r&&n));!r&&n&&m&&i[g].componentProviders++}}}function gb(e,t,i,n){const r=dc(t),s=function W7(e){return!!e.useClass}(t);if(r||s){const l=(s?Je(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const d=c.indexOf(i);-1===d?c.push(i,[n,l]):c[d+1].push(n,l)}else c.push(i,l)}}}function vI(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function mb(e,t,i,n){for(let r=i;r<n;r++)if(t[r]===e)return r;return-1}function YK(e,t,i,n){return vb(this.multi,[])}function XK(e,t,i,n){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=sc(i,i[Ve],this.providerFactory.index,n);s=a.slice(0,o),vb(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],vb(r,s);return s}function vb(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function Rt(e,t=[]){return i=>{i.providersResolver=(n,r)=>function qK(e,t,i){const n=Ot();if(n.firstCreatePass){const r=Qs(e);pb(i,n.data,n.blueprint,r,!0),pb(t,n.data,n.blueprint,r,!1)}}(n,r?r(e):e,t)}}class mc{}class CI{}class Cb extends mc{constructor(t,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new IM(this);const r=Hr(t);this._bootstrapComponents=ma(r.bootstrap),this._r3Injector=$F(t,i,[{provide:mc,useValue:this},{provide:uc,useValue:this.componentFactoryResolver},...n],an(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _b extends CI{constructor(t){super(),this.moduleType=t}create(t){return new Cb(this.moduleType,t,[])}}class _I extends mc{constructor(t){super(),this.componentFactoryResolver=new IM(this),this.instance=null;const i=new Yd([...t.providers,{provide:mc,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],t.parent||Hm(),t.debugName,new Set(["environment"]));this.injector=i,t.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function yb(e,t,i=null){return new _I({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}let eq=(()=>{class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const n=MF(0,i.type),r=n.length>0?yb([n],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,r)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pe({token:e,providedIn:"environment",factory:()=>new e(W(jr))})}return e})();function Ff(e){e.getStandaloneInjector=t=>t.get(eq).getOrCreateStandaloneInjector(e)}function qr(e,t,i){const n=nr()+e,r=me();return r[n]===st?ko(r,n,i?t.call(i):t()):function vf(e,t){return e[t]}(r,n)}function fv(e,t,i,n,r){return function AI(e,t,i,n,r,s,o){const a=t+i;return fc(e,a,r,s)?ko(e,a+2,o?n.call(o,r,s):n(r,s)):Mf(e,a+2)}(me(),nr(),e,t,i,n,r)}function DI(e,t,i,n,r,s){return function RI(e,t,i,n,r,s,o,a){const l=t+i;return tv(e,l,r,s,o)?ko(e,l+3,a?n.call(a,r,s,o):n(r,s,o)):Mf(e,l+3)}(me(),nr(),e,t,i,n,r,s)}function Mf(e,t){const i=e[t];return i===st?void 0:i}function II(e,t,i){const n=e+xt,r=me(),s=Id(r,n);return function kf(e,t){return e[Ve].data[t].pure}(r,n)?function TI(e,t,i,n,r,s){const o=t+i;return Nn(e,o,r)?ko(e,o+1,s?n.call(s,r):n(r)):Mf(e,o+1)}(r,nr(),t,s.transform,i,s):s.transform(i)}function wq(){return this._results[Symbol.iterator]()}class bb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ee)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=bb.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=wq)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,i){return this._results.reduce(t,i)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,i){const n=this;n.dirty=!1;const r=function Cs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function hU(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=t[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}(n._results,r,i))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function xq(e,t,i,n=!0){const r=t[Ve];if(function t7(e,t,i,n){const r=Tn+n,s=i.length;n>0&&(i[r-1][Zs]=t),n<s-Tn?(t[Zs]=i[r],kR(i,Tn+n,t)):(i.push(t),t[Zs]=null),t[bi]=i;const o=t[Bh];null!==o&&i!==o&&function n7(e,t){const i=e[Md];t[Vi]!==t[bi][bi][Vi]&&(e[IA]=!0),null===i?e[Md]=[t]:i.push(t)}(o,t);const a=t[xo];null!==a&&a.insertView(e),t[at]|=128}(r,t,e,i),n){const s=lw(i,e),o=t[nt],a=Rm(o,e[So]);null!==a&&function QU(e,t,i,n,r,s){n[Ri]=r,n[On]=t,nf(e,n,i,1,r,s)}(r,e[On],o,t,a,s)}}let io=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Dq}return e})();const Sq=io,Eq=class extends Sq{constructor(t,i,n){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,n){const r=function bq(e,t,i,n){const r=t.tView,a=Ym(e,r,i,4096&e[at]?4096:16,null,t,null,null,null,n?.injector??null,n?.hydrationInfo??null);a[Bh]=e[t.index];const c=e[xo];return null!==c&&(a[xo]=c.createEmbeddedView(r)),Qw(r,a,i),a}(this._declarationLView,this._declarationTContainer,t,{injector:i,hydrationInfo:n});return new gf(r)}};function Dq(){return pv(Rn(),me())}function pv(e,t){return 4&e.type?new Eq(t,e,Jd(e,t)):null}let Sr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=kq}return e})();function kq(){return HI(Rn(),me())}const Iq=Sr,BI=class extends Iq{constructor(t,i,n){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=n}get element(){return Jd(this._hostTNode,this._hostLView)}get injector(){return new sr(this._hostTNode,this._hostLView)}get parentInjector(){const t=mm(this._hostTNode,this._hostLView);if(Gy(t)){const i=Kh(t,this._hostLView),n=$h(t);return new sr(i[Ve].data[n+8],i)}return new sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const i=VI(this._lContainer);return null!==i&&i[t]||null}get length(){return this._lContainer.length-Tn}createEmbeddedView(t,i,n){let r,s;"number"==typeof n?r=n:null!=n&&(r=n.index,s=n.injector);const a=t.createEmbeddedViewImpl(i||{},s,null);return this.insertImpl(a,r,false),a}createComponent(t,i,n,r,s){const o=t&&!function Xh(e){return"function"==typeof e}(t);let a;if(o)a=i;else{const p=i||{};a=p.index,n=p.injector,r=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}const l=o?t:new mf(Pt(t)),c=n||this.parentInjector;if(!s&&null==l.ngModule){const m=(o?c:this.parentInjector).get(jr,null);m&&(s=m)}Pt(l.componentType??{});const f=l.create(c,r,null,s);return this.insertImpl(f.hostView,a,false),f}insert(t,i){return this.insertImpl(t,i,!1)}insertImpl(t,i,n){const r=t._lView;if(function AW(e){return ir(e[bi])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[bi],d=new BI(c,c[On],c[bi]);d.detach(d.indexOf(t))}}const o=this._adjustIndex(i),a=this._lContainer;return xq(a,r,o,!n),t.attachToViewContainerRef(),kR(xb(a),o,t),t}move(t,i){return this.insert(t,i)}indexOf(t){const i=VI(this._lContainer);return null!==i?i.indexOf(t):-1}remove(t){const i=this._adjustIndex(t,-1),n=Am(this._lContainer,i);n&&(Cm(xb(this._lContainer),i),rw(n[Ve],n))}detach(t){const i=this._adjustIndex(t,-1),n=Am(this._lContainer,i);return n&&null!=Cm(xb(this._lContainer),i)?new gf(n):null}_adjustIndex(t,i=0){return t??this.length+i}};function VI(e){return e[8]}function xb(e){return e[8]||(e[8]=[])}function HI(e,t){let i;const n=t[e.index];return ir(n)?i=n:(i=wM(n,t,null,e),t[e.index]=i,Xm(t,i)),GI(i,t,e,n),new BI(i,e,t)}let GI=function zI(e,t,i,n){if(e[So])return;let r;r=8&i.type?fi(n):function Pq(e,t){const i=e[nt],n=i.createComment(""),r=wr(t,e);return lc(i,Rm(i,r),n,function a7(e,t){return e.nextSibling(t)}(i,r),!1),n}(t,i),e[So]=r};class Sb{constructor(t){this.queryList=t,this.matches=null}clone(){return new Sb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Eb{constructor(t=[]){this.queries=t}createEmbeddedView(t){const i=t.queries;if(null!==i){const n=null!==t.contentQueries?t.contentQueries[0]:i.length,r=[];for(let s=0;s<n;s++){const o=i.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Eb(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let i=0;i<this.queries.length;i++)null!==KI(t,i).matches&&this.queries[i].setDirty()}}class WI{constructor(t,i,n=null){this.predicate=t,this.flags=i,this.read=n}}class Db{constructor(t=[]){this.queries=t}elementStart(t,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,i)}elementEnd(t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(t)}embeddedTView(t){let i=null;for(let n=0;n<this.length;n++){const r=null!==i?i.length:0,s=this.getByIndex(n).embeddedTView(t,r);s&&(s.indexInDeclarationView=n,null!==i?i.push(s):i=[s])}return null!==i?new Db(i):null}template(t,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,i)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Tb{constructor(t,i=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(t,i){this.isApplyingToNode(i)&&this.matchTNode(t,i)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,i){this.elementStart(t,i)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new Tb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==i;)n=n.parent;return i===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,i){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(t,i,Nq(i,s)),this.matchTNodeWithReadOption(t,i,vm(i,t,s,!1,!1))}else n===io?4&i.type&&this.matchTNodeWithReadOption(t,i,-1):this.matchTNodeWithReadOption(t,i,vm(i,t,n,!1,!1))}matchTNodeWithReadOption(t,i,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ct||r===Sr||r===io&&4&i.type)this.addMatch(i.index,-2);else{const s=vm(i,t,r,!1,!1);null!==s&&this.addMatch(i.index,s)}else this.addMatch(i.index,n)}}addMatch(t,i){null===this.matches?this.matches=[t,i]:this.matches.push(t,i)}}function Nq(e,t){const i=e.localNames;if(null!==i)for(let n=0;n<i.length;n+=2)if(i[n]===t)return i[n+1];return null}function Vq(e,t,i,n){return-1===i?function Bq(e,t){return 11&e.type?Jd(e,t):4&e.type?pv(e,t):null}(t,e):-2===i?function Hq(e,t,i){return i===ct?Jd(t,e):i===io?pv(t,e):i===Sr?HI(t,e):void 0}(e,t,n):sc(e,e[Ve],i,t)}function UI(e,t,i,n){const r=t[xo].queries[n];if(null===r.matches){const s=e.data,o=i.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Vq(t,s[c],o[l+1],i.metadata.read))}r.matches=a}return r.matches}function Ab(e,t,i,n){const r=e.queries.getByIndex(i),s=r.matches;if(null!==s){const o=UI(e,t,r,i);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)n.push(o[a/2]);else{const c=s[a+1],d=t[-l];for(let u=Tn;u<d.length;u++){const h=d[u];h[Bh]===h[bi]&&Ab(h[Ve],h,c,n)}if(null!==d[Md]){const u=d[Md];for(let h=0;h<u.length;h++){const f=u[h];Ab(f[Ve],f,c,n)}}}}}return n}function jt(e){const t=me(),i=Ot(),n=uR();Ly(n+1);const r=KI(i,n);if(e.dirty&&function DW(e){return 4==(4&e[at])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?Ab(i,t,n,[]):UI(i,t,r,n);e.reset(s,d9),e.notifyOnChanges()}return!0}return!1}function qi(e,t,i){const n=Ot();n.firstCreatePass&&($I(n,new WI(e,t,i),-1),2==(2&t)&&(n.staticViewQueries=!0)),jI(n,me(),t)}function ws(e,t,i,n){const r=Ot();if(r.firstCreatePass){const s=Rn();$I(r,new WI(t,i,n),s.index),function zq(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(r,e),2==(2&i)&&(r.staticContentQueries=!0)}jI(r,me(),i)}function $t(){return function Gq(e,t){return e[xo].queries[t].queryList}(me(),uR())}function jI(e,t,i){const n=new bb(4==(4&i));(function z9(e,t,i,n){const r=xM(t);r.push(i),e.firstCreatePass&&SM(e).push(n,r.length-1)})(e,t,n,n.destroy),null===t[xo]&&(t[xo]=new Eb),t[xo].queries.push(new Sb(n))}function $I(e,t,i){null===e.queries&&(e.queries=new Db),e.queries.track(new Tb(t,i))}function KI(e,t){return e.queries.getByIndex(t)}function qI(e,t){return pv(e,t)}const Pb=new ge("Application Initializer");let Ob=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,n)=>{this.resolve=i,this.reject=n}),this.appInits=De(Pb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const r of this.appInits){const s=r();if(bf(s))i.push(s);else if(nk(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});i.push(o)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{n()}).catch(r=>{this.reject(r)}),0===i.length&&n(),this.initialized=!0}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uP=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Lo=new ge("LocaleId",{providedIn:"root",factory:()=>De(Lo,bt.Optional|bt.SkipSelf)||function cY(){return typeof $localize<"u"&&$localize.locale||mu}()});let vv=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Cr(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class hY{constructor(t,i){this.ngModuleFactory=t,this.componentFactories=i}}let hP=(()=>{class e{compileModuleSync(i){return new _b(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const n=this.compileModuleSync(i),s=ma(Hr(i).declarations).reduce((o,a)=>{const l=Pt(a);return l&&o.push(new mf(l)),o},[]);return new hY(n,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const mP=new ge(""),_v=new ge("");let Hb,Bb=(()=>{class e{constructor(i,n,r){this._ngZone=i,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hb||(function PY(e){Hb=e}(r),r.addToWindow(n)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(i)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,n,r){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),i(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:i,timeoutId:s,updateCb:r})}whenStable(i,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,n,r){return[]}static#e=this.\u0275fac=function(n){return new(n||e)(W(ze),W(Vb),W(_v))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})(),Vb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(i,n){this._applications.set(i,n)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,n=!0){return Hb?.findTestabilityInTree(this,i,n)??null}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),tl=null;const vP=new ge("AllowMultipleToken"),Gb=new ge("PlatformDestroyListeners"),zb=new ge("appBootstrapListener");class _P{constructor(t,i){this.name=t,this.token=i}}function wP(e,t,i=[]){const n=`Platform: ${t}`,r=new ge(n);return(s=[])=>{let o=Wb();if(!o||o.injector.get(vP,!1)){const a=[...i,...s,{provide:r,useValue:!0}];e?e(a):function NY(e){if(tl&&!tl.get(vP,!1))throw new re(400,!1);(function CP(){!function fW(e){UA=e}(()=>{throw new re(600,!1)})})(),tl=e;const t=e.get(xP);(function yP(e){e.get(LF,null)?.forEach(i=>i())})(e)}(function bP(e=[],t){return ti.create({name:t,providers:[{provide:_w,useValue:"platform"},{provide:Gb,useValue:new Set([()=>tl=null])},...e]})}(a,n))}return function VY(e){const t=Wb();if(!t)throw new re(401,!1);return t}()}}function Wb(){return tl?.get(xP)??null}let xP=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,n){const r=function HY(e="zone.js",t){return"noop"===e?new E9:"zone.js"===e?new ze(t):e}(n?.ngZone,function SP(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{const s=function JK(e,t,i){return new Cb(e,t,i)}(i.moduleType,this.injector,function RP(e){return[{provide:ze,useFactory:e},{provide:af,multi:!0,useFactory:()=>{const t=De(zY,{optional:!0});return()=>t.initialize()}},{provide:AP,useFactory:GY},{provide:ZF,useFactory:QF}]}(()=>r)),o=s.injector.get(ga,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{yv(this._modules,s),a.unsubscribe()})}),function EP(e,t,i){try{const n=i();return bf(n)?n.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(o,r,()=>{const a=s.injector.get(Ob);return a.runInitializers(),a.donePromise.then(()=>(function Kk(e){ps(e,"Expected localeId to be defined"),"string"==typeof e&&($k=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Lo,mu)||mu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(i,n=[]){const r=DP({},n);return function OY(e,t,i){const n=new _b(i);return Promise.resolve(n)}(0,0,i).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(i){const n=i.injector.get(No);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!i.instance.ngDoBootstrap)throw new re(-403,!1);i.instance.ngDoBootstrap(n)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const i=this._injector.get(Gb,null);i&&(i.forEach(n=>n()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(n){return new(n||e)(W(ti))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function DP(e,t){return Array.isArray(t)?t.reduce(DP,e):{...e,...t}}let No=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=De(AP),this.zoneIsStable=De(ZF),this.componentTypes=[],this.components=[],this.isStable=De(vv).hasPendingTasks.pipe(Ys(i=>i?Ue(!1):this.zoneIsStable),cA(),ry()),this._injector=De(jr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,n){const r=i instanceof HF;if(!this._injector.get(Ob).done)throw!r&&function Dd(e){const t=Pt(e)||Dn(e)||tr(e);return null!==t&&t.standalone}(i),new re(405,!1);let o;o=r?i:this._injector.get(uc).resolveComponentFactory(i),this.componentTypes.push(o.componentType);const a=function LY(e){return e.isBoundToModule}(o)?void 0:this._injector.get(mc),c=o.create(ti.NULL,[],n||o.selector,a),d=c.location.nativeElement,u=c.injector.get(mP,null);return u?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),yv(this.components,c),u?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const n=i;this._views.push(n),n.attachToAppRef(this)}detachView(i){const n=i;yv(this._views,n),n.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const n=this._injector.get(zb,[]);n.push(...this._bootstrapListeners),n.forEach(r=>r(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>yv(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new re(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yv(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const AP=new ge("",{providedIn:"root",factory:()=>De(ga).handleError.bind(void 0)});function GY(){const e=De(ze),t=De(ga);return i=>e.runOutsideAngular(()=>t.handleError(i))}let zY=(()=>{class e{constructor(){this.zone=De(ze),this.applicationRef=De(No)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Bn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=UY}return e})();function UY(e){return function jY(e,t,i){if(ic(e)&&!i){const n=Gr(e.index,t);return new gf(n,n)}return 47&e.type?new gf(t[Vi],t):null}(Rn(),me(),16==(16&e))}class IP{constructor(){}supports(t){return ev(t)}create(t){return new ZY(t)}}const XY=(e,t)=>t;class ZY{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||XY}forEachItem(t){let i;for(i=this._itHead;null!==i;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,n=this._removalsHead,r=0,s=null;for(;i||n;){const o=!n||i&&i.currentIndex<OP(n,r,s)?i:n,a=OP(o,r,s),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(i=i._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,d=l-r;if(c!=d){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,g=f+h;d<=g&&g<c&&(s[h]=f+1)}s[o.previousIndex]=d-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)t(i)}diff(t){if(null==t&&(t=[]),!ev(t))throw new re(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,i=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==i&&Object.is(i.trackById,o)?(n&&(i=this._verifyReinsertion(i,s,o,a)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,o,a),n=!0),i=i._next}else r=0,function Pj(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Symbol.iterator]();let n;for(;!(n=i.next()).done;)t(n.value)}}(t,a=>{o=this._trackByFn(r,a),null!==i&&Object.is(i.trackById,o)?(n&&(i=this._verifyReinsertion(i,a,o,r)),Object.is(i.item,a)||this._addIdentityChange(i,a)):(i=this._mismatch(i,a,o,r),n=!0),i=i._next,r++}),this.length=r;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,n,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,s,r)):t=this._addAfter(new QY(i,n),s,r),t}_verifyReinsertion(t,i,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const i=t._next;this._addToRemovals(this._unlink(t)),t=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,i,n),this._addToMoves(t,n),t}_moveAfter(t,i,n){return this._unlink(t),this._insertAfter(t,i,n),this._addToMoves(t,n),t}_addAfter(t,i,n){return this._insertAfter(t,i,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,i,n){const r=null===i?this._itHead:i._next;return t._next=r,t._prev=i,null===r?this._itTail=t:r._prev=t,null===i?this._itHead=t:i._next=t,null===this._linkedRecords&&(this._linkedRecords=new PP),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const i=t._prev,n=t._next;return null===i?this._itHead=n:i._next=n,null===n?this._itTail=i:n._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PP),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class QY{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JY{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===i||i<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const i=t._prevDup,n=t._nextDup;return null===i?this._head=n:i._nextDup=n,null===n?this._tail=i:n._prevDup=i,null===this._head}}class PP{constructor(){this.map=new Map}put(t){const i=t.trackById;let n=this.map.get(i);n||(n=new JY,this.map.set(i,n)),n.add(t)}get(t,i){const r=this.map.get(t);return r?r.get(t,i):null}remove(t){const i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OP(e,t,i){const n=e.previousIndex;if(null===n)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+t+r}class LP{constructor(){}supports(t){return t instanceof Map||Jw(t)}create(){return new eX}}class eX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let i;for(i=this._mapHead;null!==i;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}diff(t){if(t){if(!(t instanceof Map||Jw(t)))throw new re(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,r)=>{if(i&&i.key===r)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{const s=this._getOrCreateRecordForKey(r,n);i=this._insertBeforeOrAppend(i,s)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){const n=t._prev;return i._next=t,i._prev=n,t._prev=i,n&&(n._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,i);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const n=new tX(t);return this._records.set(t,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(n=>i(t[n],n))}}class tX{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function NP(){return new xv([new IP])}let xv=(()=>{class e{static#e=this.\u0275prov=pe({token:e,providedIn:"root",factory:NP});constructor(i){this.factories=i}static create(i,n){if(null!=n){const r=n.factories.slice();i=i.concat(r)}return new e(i)}static extend(i){return{provide:e,useFactory:n=>e.create(i,n||NP()),deps:[[e,new ac,new oc]]}}find(i){const n=this.factories.find(r=>r.supports(i));if(null!=n)return n;throw new re(901,!1)}}return e})();function BP(){return new Of([new LP])}let Of=(()=>{class e{static#e=this.\u0275prov=pe({token:e,providedIn:"root",factory:BP});constructor(i){this.factories=i}static create(i,n){if(n){const r=n.factories.slice();i=i.concat(r)}return new e(i)}static extend(i){return{provide:e,useFactory:n=>e.create(i,n||BP()),deps:[[e,new ac,new oc]]}}find(i){const n=this.factories.find(r=>r.supports(i));if(n)return n;throw new re(901,!1)}}return e})();const rX=wP(null,"core",[]);let sX=(()=>{class e{constructor(i){}static#e=this.\u0275fac=function(n){return new(n||e)(W(No))};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({})}return e})();function _u(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Yb=null;function il(){return Yb}class _X{}const rt=new ge("DocumentToken");let Xb=(()=>{class e{historyGo(i){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:function(){return De(wX)},providedIn:"platform"})}return e})();const yX=new ge("Location Initialized");let wX=(()=>{class e extends Xb{constructor(){super(),this._doc=De(rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return il().getBaseHref(this._doc)}onPopState(i){const n=il().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",i,!1),()=>n.removeEventListener("popstate",i)}onHashChange(i){const n=il().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",i,!1),()=>n.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,n,r){this._history.pushState(i,n,r)}replaceState(i,n,r){this._history.replaceState(i,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function Zb(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function KP(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function _a(e){return e&&"?"!==e[0]?"?"+e:e}let nl=(()=>{class e{historyGo(i){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:function(){return De(YP)},providedIn:"root"})}return e})();const qP=new ge("appBaseHref");let YP=(()=>{class e extends nl{constructor(i,n){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??De(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Zb(this._baseHref,i)}path(i=!1){const n=this._platformLocation.pathname+_a(this._platformLocation.search),r=this._platformLocation.hash;return r&&i?`${n}${r}`:n}pushState(i,n,r,s){const o=this.prepareExternalUrl(r+_a(s));this._platformLocation.pushState(i,n,o)}replaceState(i,n,r,s){const o=this.prepareExternalUrl(r+_a(s));this._platformLocation.replaceState(i,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static#e=this.\u0275fac=function(n){return new(n||e)(W(Xb),W(qP,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),XP=(()=>{class e extends nl{constructor(i,n){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(i){const n=Zb(this._baseHref,i);return n.length>0?"#"+n:n}pushState(i,n,r,s){let o=this.prepareExternalUrl(r+_a(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(i,n,o)}replaceState(i,n,r,s){let o=this.prepareExternalUrl(r+_a(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(i,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static#e=this.\u0275fac=function(n){return new(n||e)(W(Xb),W(qP,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})(),Lf=(()=>{class e{constructor(i){this._subject=new ee,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const n=this._locationStrategy.getBaseHref();this._basePath=function SX(e){if(new RegExp("^(https?:)?//").test(e)){const[,i]=e.split(/\/\/[^\/]+/);return i}return e}(KP(ZP(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,n=""){return this.path()==this.normalize(i+_a(n))}normalize(i){return e.stripTrailingSlash(function xX(e,t){if(!e||!t.startsWith(e))return t;const i=t.substring(e.length);return""===i||["/",";","?","#"].includes(i[0])?i:t}(this._basePath,ZP(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,n="",r=null){this._locationStrategy.pushState(r,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+_a(n)),r)}replaceState(i,n="",r=null){this._locationStrategy.replaceState(r,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+_a(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",n){this._urlChangeListeners.forEach(r=>r(i,n))}subscribe(i,n,r){return this._subject.subscribe({next:i,error:n,complete:r})}static#e=this.normalizeQueryParams=_a;static#t=this.joinWithSlash=Zb;static#i=this.stripTrailingSlash=KP;static#n=this.\u0275fac=function(n){return new(n||e)(W(nl))};static#r=this.\u0275prov=pe({token:e,factory:function(){return function bX(){return new Lf(W(nl))}()},providedIn:"root"})}return e})();function ZP(e){return e.replace(/\/index.html$/,"")}var lr=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(lr||{}),ci=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(ci||{}),Yr=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Yr||{}),Gi=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(Gi||{});function Dv(e,t){return xs(or(e)[pi.DateFormat],t)}function Tv(e,t){return xs(or(e)[pi.TimeFormat],t)}function Av(e,t){return xs(or(e)[pi.DateTimeFormat],t)}function bs(e,t){const i=or(e),n=i[pi.NumberSymbols][t];if(typeof n>"u"){if(t===Gi.CurrencyDecimal)return i[pi.NumberSymbols][Gi.Decimal];if(t===Gi.CurrencyGroup)return i[pi.NumberSymbols][Gi.Group]}return n}function JP(e){if(!e[pi.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[pi.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xs(e,t){for(let i=t;i>-1;i--)if(typeof e[i]<"u")return e[i];throw new Error("Locale data API: locale data undefined")}function Jb(e){const[t,i]=e.split(":");return{hours:+t,minutes:+i}}const BX=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nf={},VX=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ya=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(ya||{}),Kt=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(Kt||{}),qt=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(qt||{});function HX(e,t,i,n){let r=function YX(e){if(iO(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,s=1,o=1]=e.split("-").map(a=>+a);return Rv(r,s-1,o)}const i=parseFloat(e);if(!isNaN(e-i))return new Date(i);let n;if(n=e.match(BX))return function XX(e){const t=new Date(0);let i=0,n=0;const r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-i,a=Number(e[5]||0)-n,l=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,l,c),t}(n)}const t=new Date(e);if(!iO(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=wa(i,t)||t;let a,o=[];for(;t;){if(a=VX.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const d=o.pop();if(!d)break;t=d}}let l=r.getTimezoneOffset();n&&(l=tO(n,l),r=function qX(e,t,i){const n=i?-1:1,r=e.getTimezoneOffset();return function KX(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,n*(tO(t,r)-r))}(r,n,!0));let c="";return o.forEach(d=>{const u=function $X(e){if(tx[e])return tx[e];let t;switch(e){case"G":case"GG":case"GGG":t=gi(qt.Eras,ci.Abbreviated);break;case"GGGG":t=gi(qt.Eras,ci.Wide);break;case"GGGGG":t=gi(qt.Eras,ci.Narrow);break;case"y":t=Yi(Kt.FullYear,1,0,!1,!0);break;case"yy":t=Yi(Kt.FullYear,2,0,!0,!0);break;case"yyy":t=Yi(Kt.FullYear,3,0,!1,!0);break;case"yyyy":t=Yi(Kt.FullYear,4,0,!1,!0);break;case"Y":t=Iv(1);break;case"YY":t=Iv(2,!0);break;case"YYY":t=Iv(3);break;case"YYYY":t=Iv(4);break;case"M":case"L":t=Yi(Kt.Month,1,1);break;case"MM":case"LL":t=Yi(Kt.Month,2,1);break;case"MMM":t=gi(qt.Months,ci.Abbreviated);break;case"MMMM":t=gi(qt.Months,ci.Wide);break;case"MMMMM":t=gi(qt.Months,ci.Narrow);break;case"LLL":t=gi(qt.Months,ci.Abbreviated,lr.Standalone);break;case"LLLL":t=gi(qt.Months,ci.Wide,lr.Standalone);break;case"LLLLL":t=gi(qt.Months,ci.Narrow,lr.Standalone);break;case"w":t=ex(1);break;case"ww":t=ex(2);break;case"W":t=ex(1,!0);break;case"d":t=Yi(Kt.Date,1);break;case"dd":t=Yi(Kt.Date,2);break;case"c":case"cc":t=Yi(Kt.Day,1);break;case"ccc":t=gi(qt.Days,ci.Abbreviated,lr.Standalone);break;case"cccc":t=gi(qt.Days,ci.Wide,lr.Standalone);break;case"ccccc":t=gi(qt.Days,ci.Narrow,lr.Standalone);break;case"cccccc":t=gi(qt.Days,ci.Short,lr.Standalone);break;case"E":case"EE":case"EEE":t=gi(qt.Days,ci.Abbreviated);break;case"EEEE":t=gi(qt.Days,ci.Wide);break;case"EEEEE":t=gi(qt.Days,ci.Narrow);break;case"EEEEEE":t=gi(qt.Days,ci.Short);break;case"a":case"aa":case"aaa":t=gi(qt.DayPeriods,ci.Abbreviated);break;case"aaaa":t=gi(qt.DayPeriods,ci.Wide);break;case"aaaaa":t=gi(qt.DayPeriods,ci.Narrow);break;case"b":case"bb":case"bbb":t=gi(qt.DayPeriods,ci.Abbreviated,lr.Standalone,!0);break;case"bbbb":t=gi(qt.DayPeriods,ci.Wide,lr.Standalone,!0);break;case"bbbbb":t=gi(qt.DayPeriods,ci.Narrow,lr.Standalone,!0);break;case"B":case"BB":case"BBB":t=gi(qt.DayPeriods,ci.Abbreviated,lr.Format,!0);break;case"BBBB":t=gi(qt.DayPeriods,ci.Wide,lr.Format,!0);break;case"BBBBB":t=gi(qt.DayPeriods,ci.Narrow,lr.Format,!0);break;case"h":t=Yi(Kt.Hours,1,-12);break;case"hh":t=Yi(Kt.Hours,2,-12);break;case"H":t=Yi(Kt.Hours,1);break;case"HH":t=Yi(Kt.Hours,2);break;case"m":t=Yi(Kt.Minutes,1);break;case"mm":t=Yi(Kt.Minutes,2);break;case"s":t=Yi(Kt.Seconds,1);break;case"ss":t=Yi(Kt.Seconds,2);break;case"S":t=Yi(Kt.FractionalSeconds,1);break;case"SS":t=Yi(Kt.FractionalSeconds,2);break;case"SSS":t=Yi(Kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Mv(ya.Short);break;case"ZZZZZ":t=Mv(ya.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Mv(ya.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Mv(ya.Long);break;default:return null}return tx[e]=t,t}(d);c+=u?u(r,i,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Rv(e,t,i){const n=new Date(0);return n.setFullYear(e,t,i),n.setHours(0,0,0),n}function wa(e,t){const i=function DX(e){return or(e)[pi.LocaleId]}(e);if(Nf[i]=Nf[i]||{},Nf[i][t])return Nf[i][t];let n="";switch(t){case"shortDate":n=Dv(e,Yr.Short);break;case"mediumDate":n=Dv(e,Yr.Medium);break;case"longDate":n=Dv(e,Yr.Long);break;case"fullDate":n=Dv(e,Yr.Full);break;case"shortTime":n=Tv(e,Yr.Short);break;case"mediumTime":n=Tv(e,Yr.Medium);break;case"longTime":n=Tv(e,Yr.Long);break;case"fullTime":n=Tv(e,Yr.Full);break;case"short":const r=wa(e,"shortTime"),s=wa(e,"shortDate");n=Fv(Av(e,Yr.Short),[r,s]);break;case"medium":const o=wa(e,"mediumTime"),a=wa(e,"mediumDate");n=Fv(Av(e,Yr.Medium),[o,a]);break;case"long":const l=wa(e,"longTime"),c=wa(e,"longDate");n=Fv(Av(e,Yr.Long),[l,c]);break;case"full":const d=wa(e,"fullTime"),u=wa(e,"fullDate");n=Fv(Av(e,Yr.Full),[d,u])}return n&&(Nf[i][t]=n),n}function Fv(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(i,n){return null!=t&&n in t?t[n]:i})),e}function no(e,t,i="-",n,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=i));let o=String(e);for(;o.length<t;)o="0"+o;return n&&(o=o.slice(o.length-t)),s+o}function Yi(e,t,i=0,n=!1,r=!1){return function(s,o){let a=function zX(e,t){switch(e){case Kt.FullYear:return t.getFullYear();case Kt.Month:return t.getMonth();case Kt.Date:return t.getDate();case Kt.Hours:return t.getHours();case Kt.Minutes:return t.getMinutes();case Kt.Seconds:return t.getSeconds();case Kt.FractionalSeconds:return t.getMilliseconds();case Kt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((i>0||a>-i)&&(a+=i),e===Kt.Hours)0===a&&-12===i&&(a=12);else if(e===Kt.FractionalSeconds)return function GX(e,t){return no(e,3).substring(0,t)}(a,t);const l=bs(o,Gi.MinusSign);return no(a,t,l,n,r)}}function gi(e,t,i=lr.Format,n=!1){return function(r,s){return function WX(e,t,i,n,r,s){switch(i){case qt.Months:return function RX(e,t,i){const n=or(e),s=xs([n[pi.MonthsFormat],n[pi.MonthsStandalone]],t);return xs(s,i)}(t,r,n)[e.getMonth()];case qt.Days:return function AX(e,t,i){const n=or(e),s=xs([n[pi.DaysFormat],n[pi.DaysStandalone]],t);return xs(s,i)}(t,r,n)[e.getDay()];case qt.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(s){const c=function IX(e){const t=or(e);return JP(t),(t[pi.ExtraData][2]||[]).map(n=>"string"==typeof n?Jb(n):[Jb(n[0]),Jb(n[1])])}(t),d=function PX(e,t,i){const n=or(e);JP(n);const s=xs([n[pi.ExtraData][0],n[pi.ExtraData][1]],t)||[];return xs(s,i)||[]}(t,r,n),u=c.findIndex(h=>{if(Array.isArray(h)){const[f,g]=h,p=o>=f.hours&&a>=f.minutes,m=o<g.hours||o===g.hours&&a<g.minutes;if(f.hours<g.hours){if(p&&m)return!0}else if(p||m)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==u)return d[u]}return function TX(e,t,i){const n=or(e),s=xs([n[pi.DayPeriodsFormat],n[pi.DayPeriodsStandalone]],t);return xs(s,i)}(t,r,n)[o<12?0:1];case qt.Eras:return function FX(e,t){return xs(or(e)[pi.Eras],t)}(t,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(r,s,e,t,i,n)}}function Mv(e){return function(t,i,n){const r=-1*n,s=bs(i,Gi.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case ya.Short:return(r>=0?"+":"")+no(o,2,s)+no(Math.abs(r%60),2,s);case ya.ShortGMT:return"GMT"+(r>=0?"+":"")+no(o,1,s);case ya.Long:return"GMT"+(r>=0?"+":"")+no(o,2,s)+":"+no(Math.abs(r%60),2,s);case ya.Extended:return 0===n?"Z":(r>=0?"+":"")+no(o,2,s)+":"+no(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const UX=0,kv=4;function eO(e){return Rv(e.getFullYear(),e.getMonth(),e.getDate()+(kv-e.getDay()))}function ex(e,t=!1){return function(i,n){let r;if(t){const s=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,o=i.getDate();r=1+Math.floor((o+s)/7)}else{const s=eO(i),o=function jX(e){const t=Rv(e,UX,1).getDay();return Rv(e,0,1+(t<=kv?kv:kv+7)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return no(r,e,bs(n,Gi.MinusSign))}}function Iv(e,t=!1){return function(i,n){return no(eO(i).getFullYear(),e,bs(n,Gi.MinusSign),t)}}const tx={};function tO(e,t){e=e.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function iO(e){return e instanceof Date&&!isNaN(e.valueOf())}function oO(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const n=i.indexOf("="),[r,s]=-1==n?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const ax=/\s+/,aO=[];let wu=(()=>{class e{constructor(i,n,r,s){this._iterableDiffers=i,this._keyValueDiffers=n,this._ngEl=r,this._renderer=s,this.initialClasses=aO,this.stateMap=new Map}set klass(i){this.initialClasses=null!=i?i.trim().split(ax):aO}set ngClass(i){this.rawClass="string"==typeof i?i.trim().split(ax):i}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(const n of i)this._updateState(n,!0);else if(null!=i)for(const n of Object.keys(i))this._updateState(n,!!i[n]);this._applyStateDiff()}_updateState(i,n){const r=this.stateMap.get(i);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(i,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const i of this.stateMap){const n=i[0],r=i[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(i,n){(i=i.trim()).length>0&&i.split(ax).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(n){return new(n||e)(E(xv),E(Of),E(ct),E(Fo))};static#t=this.\u0275dir=Me({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class cZ{constructor(t,i,n,r){this.$implicit=t,this.ngForOf=i,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bo=(()=>{class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,n,r){this._viewContainer=i,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const n=this._viewContainer;i.forEachOperation((r,s,o)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new cZ(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===s?void 0:s);else if(null!==s){const a=n.get(s);n.move(a,o),cO(a,r)}});for(let r=0,s=n.length;r<s;r++){const a=n.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}i.forEachIdentityChange(r=>{cO(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(i,n){return!0}static#e=this.\u0275fac=function(n){return new(n||e)(E(Sr),E(io),E(xv))};static#t=this.\u0275dir=Me({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function cO(e,t){e.context.$implicit=t.item}let Dr=(()=>{class e{constructor(i,n){this._viewContainer=i,this._context=new dZ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){dO("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){dO("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,n){return!0}static#e=this.\u0275fac=function(n){return new(n||e)(E(Sr),E(io))};static#t=this.\u0275dir=Me({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class dZ{constructor(){this.$implicit=null,this.ngIf=null}}function dO(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${an(t)}'.`)}class lx{constructor(t,i){this._viewContainerRef=t,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let bu=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews.push(i)}_matchCase(i){const n=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(i){if(this._defaultViews.length>0&&i!==this._defaultUsed){this._defaultUsed=i;for(const n of this._defaultViews)n.enforceState(i)}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return e})(),Ov=(()=>{class e{constructor(i,n,r){this.ngSwitch=r,r._addCase(),this._view=new lx(i,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(n){return new(n||e)(E(Sr),E(io),E(bu,9))};static#t=this.\u0275dir=Me({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return e})(),uO=(()=>{class e{constructor(i,n,r){r._addDefault(new lx(i,n))}static#e=this.\u0275fac=function(n){return new(n||e)(E(Sr),E(io),E(bu,9))};static#t=this.\u0275dir=Me({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return e})(),fO=(()=>{class e{constructor(i,n,r){this._ngEl=i,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){const i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,n){const[r,s]=i.split("."),o=-1===r.indexOf("-")?void 0:Qa.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${n}${s}`:n,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(i){i.forEachRemovedItem(n=>this._setStyle(n.key,null)),i.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),i.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(Of),E(Fo))};static#t=this.\u0275dir=Me({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})(),pO=(()=>{class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(i.ngTemplateOutlet||i.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=n.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&i.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(n){return new(n||e)(E(Sr))};static#t=this.\u0275dir=Me({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Si]})}return e})();const bZ=new ge("DATE_PIPE_DEFAULT_TIMEZONE"),xZ=new ge("DATE_PIPE_DEFAULT_OPTIONS");let cx=(()=>{class e{constructor(i,n,r){this.locale=i,this.defaultTimezone=n,this.defaultOptions=r}transform(i,n,r,s){if(null==i||""===i||i!=i)return null;try{return HX(i,n??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function ro(e,t){return new re(2100,!1)}()}}static#e=this.\u0275fac=function(n){return new(n||e)(E(Lo,16),E(bZ,24),E(xZ,24))};static#t=this.\u0275pipe=er({name:"date",type:e,pure:!0,standalone:!0})}return e})(),ba=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({})}return e})();const mO="browser";function vO(e){return e===mO}function CO(e){return"server"===e}let LZ=(()=>{class e{static#e=this.\u0275prov=pe({token:e,providedIn:"root",factory:()=>new NZ(W(rt),window)})}return e})();class NZ{constructor(t,i){this.document=t,this.window=i,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const i=function BZ(e,t){const i=e.getElementById(t)||e.getElementsByName(t)[0];if(i)return i;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=n.nextNode()}}return null}(this.document,t);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const i=t.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class _O{}class aQ extends _X{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class px extends aQ{static makeCurrent(){!function CX(e){Yb||(Yb=e)}(new px)}onAndCancel(t,i,n){return t.addEventListener(i,n),()=>{t.removeEventListener(i,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return(i=i||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return"window"===i?window:"document"===i?t:"body"===i?t.body:null}getBaseHref(t){const i=function lQ(){return Hf=Hf||document.querySelector("base"),Hf?Hf.getAttribute("href"):null}();return null==i?null:function cQ(e){Bv=Bv||document.createElement("a"),Bv.setAttribute("href",e);const t=Bv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(i)}resetBaseElement(){Hf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return oO(document.cookie,t)}}let Bv,Hf=null,uQ=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();const gx=new ge("EventManagerPlugins");let SO=(()=>{class e{constructor(i,n){this._zone=n,this._eventNameToPlugin=new Map,i.forEach(r=>{r.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,n,r){return this._findPluginFor(n).addEventListener(i,n,r)}getZone(){return this._zone}_findPluginFor(i){let n=this._eventNameToPlugin.get(i);if(n)return n;if(n=this._plugins.find(s=>s.supports(i)),!n)throw new re(5101,!1);return this._eventNameToPlugin.set(i,n),n}static#e=this.\u0275fac=function(n){return new(n||e)(W(gx),W(ze))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();class EO{constructor(t){this._doc=t}}const mx="ng-app-id";let DO=(()=>{class e{constructor(i,n,r,s={}){this.doc=i,this.appId=n,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=CO(s),this.resetHostNodes()}addStyles(i){for(const n of i)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(i){for(const n of i)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(n=>n.remove()),i.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const n of this.getAllStyles())this.addStyleToHost(i,n)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const n of this.hostNodes)this.addStyleToHost(n,i)}onStyleRemoved(i){const n=this.styleRef;n.get(i)?.elements?.forEach(r=>r.remove()),n.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${mx}="${this.appId}"]`);if(i?.length){const n=new Map;return i.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(i,n){const r=this.styleRef;if(r.has(i)){const s=r.get(i);return s.usage+=n,s.usage}return r.set(i,{usage:n,elements:[]}),n}getStyleElement(i,n){const r=this.styleNodesInDOM,s=r?.get(n);if(s?.parentNode===i)return r.delete(n),s.removeAttribute(mx),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute(mx,this.appId),o}}addStyleToHost(i,n){const r=this.getStyleElement(i,n);i.appendChild(r);const s=this.styleRef,o=s.get(n)?.elements;o?o.push(r):s.set(n,{elements:[r],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||e)(W(rt),W(Gm),W(xw,8),W(pa))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();const vx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cx=/%COMP%/g,gQ=new ge("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function AO(e,t){return t.map(i=>i.replace(Cx,e))}let _x=(()=>{class e{constructor(i,n,r,s,o,a,l,c=null){this.eventManager=i,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=CO(a),this.defaultRenderer=new yx(i,o,l,this.platformIsServer)}createRenderer(i,n){if(!i||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===gs.ShadowDom&&(n={...n,encapsulation:gs.Emulated});const r=this.getOrCreateRenderer(i,n);return r instanceof FO?r.applyToHost(i):r instanceof wx&&r.applyStyles(),r}getOrCreateRenderer(i,n){const r=this.rendererByCompId;let s=r.get(n.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(n.encapsulation){case gs.Emulated:s=new FO(l,c,n,this.appId,d,o,a,u);break;case gs.ShadowDom:return new _Q(l,c,i,n,o,a,this.nonce,u);default:s=new wx(l,c,n,d,o,a,u)}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||e)(W(SO),W(DO),W(Gm),W(gQ),W(rt),W(pa),W(ze),W(xw))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();class yx{constructor(t,i,n,r){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(vx[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(RO(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(RO(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new re(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,r){if(r){i=r+":"+i;const s=vx[r];s?t.setAttributeNS(s,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){const r=vx[n];r?t.removeAttributeNS(r,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,r){r&(Qa.DashCase|Qa.Important)?t.style.setProperty(i,n,r&Qa.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&Qa.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t[i]=n}setValue(t,i){t.nodeValue=i}listen(t,i,n){if("string"==typeof t&&!(t=il().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(n))}decoratePreventDefault(t){return i=>{if("__ngUnwrap__"===i)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))&&i.preventDefault()}}}function RO(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class _Q extends yx{constructor(t,i,n,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=AO(r.id,r.styles);for(const d of c){const u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wx extends yx{constructor(t,i,n,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?AO(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class FO extends wx{constructor(t,i,n,r,s,o,a,l){const c=r+"-"+n.id;super(t,i,n,s,o,a,l,c),this.contentAttr=function mQ(e){return"_ngcontent-%COMP%".replace(Cx,e)}(c),this.hostAttr=function vQ(e){return"_nghost-%COMP%".replace(Cx,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){const n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}}let yQ=(()=>{class e extends EO{constructor(i){super(i)}supports(i){return!0}addEventListener(i,n,r){return i.addEventListener(n,r,!1),()=>this.removeEventListener(i,n,r)}removeEventListener(i,n,r){return i.removeEventListener(n,r)}static#e=this.\u0275fac=function(n){return new(n||e)(W(rt))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();const MO=["alt","control","meta","shift"],wQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bQ={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let xQ=(()=>{class e extends EO{constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,n,r){const s=e.parseEventName(n),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>il().onAndCancel(i,s.domEventName,o))}static parseEventName(i){const n=i.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(n.pop());let o="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),o="code."),MO.forEach(c=>{const d=n.indexOf(c);d>-1&&(n.splice(d,1),o+=c+".")}),o+=s,0!=n.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(i,n){let r=wQ[i.key]||i.key,s="";return n.indexOf("code.")>-1&&(r=i.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),MO.forEach(o=>{o!==r&&(0,bQ[o])(i)&&(s+=o+".")}),s+=r,s===n)}static eventCallback(i,n,r){return s=>{e.matchEventFullKeyCode(s,i)&&r.runGuarded(()=>n(s))}}static _normalizeKey(i){return"esc"===i?"escape":i}static#e=this.\u0275fac=function(n){return new(n||e)(W(rt))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();const TQ=wP(rX,"browser",[{provide:pa,useValue:mO},{provide:LF,useValue:function SQ(){px.makeCurrent()},multi:!0},{provide:rt,useFactory:function DQ(){return function g7(e){uw=e}(document),document},deps:[]}]),AQ=new ge(""),PO=[{provide:_v,useClass:class dQ{addToWindow(t){hi.getAngularTestability=(n,r=!0)=>{const s=t.findTestabilityInTree(n,r);if(null==s)throw new re(5103,!1);return s},hi.getAllAngularTestabilities=()=>t.getAllTestabilities(),hi.getAllAngularRootElements=()=>t.getAllRootElements(),hi.frameworkStabilizers||(hi.frameworkStabilizers=[]),hi.frameworkStabilizers.push(n=>{const r=hi.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&n(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,i,n){return null==i?null:t.getTestability(i)??(n?il().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},deps:[]},{provide:mP,useClass:Bb,deps:[ze,Vb,_v]},{provide:Bb,useClass:Bb,deps:[ze,Vb,_v]}],OO=[{provide:_w,useValue:"root"},{provide:ga,useFactory:function EQ(){return new ga},deps:[]},{provide:gx,useClass:yQ,multi:!0,deps:[rt,ze,pa]},{provide:gx,useClass:xQ,multi:!0,deps:[rt]},_x,DO,SO,{provide:df,useExisting:_x},{provide:_O,useClass:uQ,deps:[]},[]];let LO=(()=>{class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Gm,useValue:i.appId}]}}static#e=this.\u0275fac=function(n){return new(n||e)(W(AQ,12))};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({providers:[...OO,...PO],imports:[ba,sX]})}return e})(),NO=(()=>{class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}static#e=this.\u0275fac=function(n){return new(n||e)(W(rt))};static#t=this.\u0275prov=pe({token:e,factory:function(n){let r=null;return r=n?new n:function FQ(){return new NO(W(rt))}(),r},providedIn:"root"})}return e})();typeof window<"u"&&window;let xx=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:function(n){let r=null;return r=n?new(n||e):W(HO),r},providedIn:"root"})}return e})(),HO=(()=>{class e extends xx{constructor(i){super(),this._doc=i}sanitize(i,n){if(null==n)return null;switch(i){case Ur.NONE:return n;case Ur.HTML:return Ao(n,"HTML")?Wr(n):EF(this._doc,String(n)).toString();case Ur.STYLE:return Ao(n,"Style")?Wr(n):n;case Ur.SCRIPT:if(Ao(n,"Script"))return Wr(n);throw new re(5200,!1);case Ur.URL:return Ao(n,"URL")?Wr(n):Pm(String(n));case Ur.RESOURCE_URL:if(Ao(n,"ResourceURL"))return Wr(n);throw new re(5201,!1);default:throw new re(5202,!1)}}bypassSecurityTrustHtml(i){return function b7(e){return new m7(e)}(i)}bypassSecurityTrustStyle(i){return function x7(e){return new v7(e)}(i)}bypassSecurityTrustScript(i){return function S7(e){return new C7(e)}(i)}bypassSecurityTrustUrl(i){return function E7(e){return new _7(e)}(i)}bypassSecurityTrustResourceUrl(i){return function D7(e){return new y7(e)}(i)}static#e=this.\u0275fac=function(n){return new(n||e)(W(rt))};static#t=this.\u0275prov=pe({token:e,factory:function(n){let r=null;return r=n?new n:function PQ(e){return new HO(e.get(rt))}(W(ti)),r},providedIn:"root"})}return e})();const{isArray:OQ}=Array,{getPrototypeOf:LQ,prototype:NQ,keys:BQ}=Object;function zO(e){if(1===e.length){const t=e[0];if(OQ(t))return{args:t,keys:null};if(function VQ(e){return e&&"object"==typeof e&&LQ(e)===NQ}(t)){const i=BQ(t);return{args:i.map(n=>t[n]),keys:i}}}return{args:e,keys:null}}const{isArray:HQ}=Array;function Sx(e){return Nt(t=>function GQ(e,t){return HQ(t)?e(...t):e(t)}(e,t))}function WO(e,t){return e.reduce((i,n,r)=>(i[n]=t[r],i),{})}let UO=(()=>{class e{constructor(i,n){this._renderer=i,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(i,n){this._renderer.setProperty(this._elementRef.nativeElement,i,n)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static#e=this.\u0275fac=function(n){return new(n||e)(E(Fo),E(ct))};static#t=this.\u0275dir=Me({type:e})}return e})(),Cc=(()=>{class e extends UO{static#e=this.\u0275fac=function(){let i;return function(r){return(i||(i=Hi(e)))(r||e)}}();static#t=this.\u0275dir=Me({type:e,features:[tt]})}return e})();const Xr=new ge("NgValueAccessor"),UQ={provide:Xr,useExisting:ei(()=>Vo),multi:!0},$Q=new ge("CompositionEventMode");let Vo=(()=>{class e extends UO{constructor(i,n,r){super(i,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jQ(){const e=il()?il().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static#e=this.\u0275fac=function(n){return new(n||e)(E(Fo),E(ct),E($Q,8))};static#t=this.\u0275dir=Me({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ye("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Rt([UQ]),tt]})}return e})();function sl(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function $O(e){return null!=e&&"number"==typeof e.length}const dn=new ge("NgValidators"),ol=new ge("NgAsyncValidators"),KQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oi{static min(t){return function KO(e){return t=>{if(sl(t.value)||sl(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function qO(e){return t=>{if(sl(t.value)||sl(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return YO(t)}static requiredTrue(t){return function XO(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function ZO(e){return sl(e.value)||KQ.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function QO(e){return t=>sl(t.value)||!$O(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function JO(e){return t=>$O(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function e2(e){if(!e)return Vv;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(sl(n.value))return null;const r=n.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return a2(t)}static composeAsync(t){return l2(t)}}function YO(e){return sl(e.value)?{required:!0}:null}function Vv(e){return null}function t2(e){return null!=e}function n2(e){return bf(e)?on(e):e}function r2(e){let t={};return e.forEach(i=>{t=null!=i?{...t,...i}:t}),0===Object.keys(t).length?null:t}function s2(e,t){return t.map(i=>i(e))}function o2(e){return e.map(t=>function qQ(e){return!e.validate}(t)?t:i=>t.validate(i))}function a2(e){if(!e)return null;const t=e.filter(t2);return 0==t.length?null:function(i){return r2(s2(i,t))}}function Ex(e){return null!=e?a2(o2(e)):null}function l2(e){if(!e)return null;const t=e.filter(t2);return 0==t.length?null:function(i){return function zQ(...e){const t=sA(e),{args:i,keys:n}=zO(e),r=new ui(s=>{const{length:o}=i;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let d=0;d<o;d++){let u=!1;Pn(i[d]).subscribe(wi(s,h=>{u||(u=!0,c--),a[d]=h},()=>l--,void 0,()=>{(!l||!u)&&(c||s.next(n?WO(n,a):a),s.complete())}))}});return t?r.pipe(Sx(t)):r}(s2(i,t).map(n2)).pipe(Nt(r2))}}function Dx(e){return null!=e?l2(o2(e)):null}function c2(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function d2(e){return e._rawValidators}function u2(e){return e._rawAsyncValidators}function Tx(e){return e?Array.isArray(e)?e:[e]:[]}function Hv(e,t){return Array.isArray(e)?e.includes(t):e===t}function h2(e,t){const i=Tx(t);return Tx(e).forEach(r=>{Hv(i,r)||i.push(r)}),i}function f2(e,t){return Tx(t).filter(i=>!Hv(e,i))}class p2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ex(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Dx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return!!this.control&&this.control.hasError(t,i)}getError(t,i){return this.control?this.control.getError(t,i):null}}class Vn extends p2{get formDirective(){return null}get path(){return null}}class Ho extends p2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class g2{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let al=(()=>{class e extends g2{constructor(i){super(i)}static#e=this.\u0275fac=function(n){return new(n||e)(E(Ho,2))};static#t=this.\u0275dir=Me({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&si("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[tt]})}return e})(),ll=(()=>{class e extends g2{constructor(i){super(i)}static#e=this.\u0275fac=function(n){return new(n||e)(E(Vn,10))};static#t=this.\u0275dir=Me({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&si("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[tt]})}return e})();const Gf="VALID",zv="INVALID",xu="PENDING",zf="DISABLED";function Fx(e){return(Wv(e)?e.validators:e)||null}function Mx(e,t){return(Wv(t)?t.asyncValidators:e)||null}function Wv(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function v2(e,t,i){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new re(1e3,"");if(!n[i])throw new re(1001,"")}function C2(e,t,i){e._forEachChild((n,r)=>{if(void 0===i[r])throw new re(1002,"")})}class Uv{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Gf}get invalid(){return this.status===zv}get pending(){return this.status==xu}get disabled(){return this.status===zf}get enabled(){return this.status!==zf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(h2(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(h2(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(f2(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(f2(t,this._rawAsyncValidators))}hasValidator(t){return Hv(this._rawValidators,t)}hasAsyncValidator(t){return Hv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=xu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=zf,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:i}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=Gf,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:i}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gf||this.status===xu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zf:Gf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=xu,this._hasOwnPendingAsyncValidator=!0;const i=n2(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(!1!==i.emitEvent)}get(t){let i=t;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(t,i){const n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ee,this.statusChanges=new ee}_calculateStatus(){return this._allControlsDisabled()?zf:this.errors?zv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xu)?xu:this._anyControlsHaveStatus(zv)?zv:Gf}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Wv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function QQ(e){return Array.isArray(e)?Ex(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function JQ(e){return Array.isArray(e)?Dx(e):e||null}(this._rawAsyncValidators)}}class Su extends Uv{constructor(t,i,n){super(Fx(i),Mx(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){C2(this,0,t),Object.keys(t).forEach(n=>{v2(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>!!n._syncPendingControls()||i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{const n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((r,s)=>{n=i(n,r,s)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class _2 extends Su{}const _c=new ge("CallSetDisabledState",{providedIn:"root",factory:()=>Wf}),Wf="always";function jv(e,t){return[...t.path,e]}function Uf(e,t,i=Wf){kx(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===i)&&t.valueAccessor.setDisabledState?.(e.disabled),function tJ(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&y2(e,t)})}(e,t),function nJ(e,t){const i=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}(e,t),function iJ(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&y2(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function eJ(e,t){if(t.valueAccessor.setDisabledState){const i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}(e,t)}function $v(e,t,i=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),qv(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Kv(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function kx(e,t){const i=d2(e);null!==t.validator?e.setValidators(c2(i,t.validator)):"function"==typeof i&&e.setValidators([i]);const n=u2(e);null!==t.asyncValidator?e.setAsyncValidators(c2(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const r=()=>e.updateValueAndValidity();Kv(t._rawValidators,r),Kv(t._rawAsyncValidators,r)}function qv(e,t){let i=!1;if(null!==e){if(null!==t.validator){const r=d2(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(i=!0,e.setValidators(s))}}if(null!==t.asyncValidator){const r=u2(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(i=!0,e.setAsyncValidators(s))}}}const n=()=>{};return Kv(t._rawValidators,n),Kv(t._rawAsyncValidators,n),i}function y2(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function w2(e,t){kx(e,t)}function Px(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}function b2(e,t){e._syncPendingControls(),t.forEach(i=>{const n=i.control;"submit"===n.updateOn&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Ox(e,t){if(!t)return null;let i,n,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Vo?i=s:function oJ(e){return Object.getPrototypeOf(e.constructor)===Cc}(s)?n=s:r=s}),r||n||i||null}const lJ={provide:Vn,useExisting:ei(()=>cl)},jf=(()=>Promise.resolve())();let cl=(()=>{class e extends Vn{constructor(i,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ee,this.form=new Su({},Ex(i),Dx(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){jf.then(()=>{const n=this._findContainer(i.path);i.control=n.registerControl(i.name,i.control),Uf(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){jf.then(()=>{const n=this._findContainer(i.path);n&&n.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){jf.then(()=>{const n=this._findContainer(i.path),r=new Su({});w2(r,i),n.registerControl(i.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){jf.then(()=>{const n=this._findContainer(i.path);n&&n.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,n){jf.then(()=>{this.form.get(i.path).setValue(n)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,b2(this.form,this._directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}static#e=this.\u0275fac=function(n){return new(n||e)(E(dn,10),E(ol,10),E(_c,8))};static#t=this.\u0275dir=Me({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&ye("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Rt([lJ]),tt]})}return e})();function x2(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}function S2(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const yc=class extends Uv{constructor(t=null,i,n){super(Fx(i),Mx(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wv(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=S2(t)?t.value:t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){x2(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){x2(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){S2(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},uJ={provide:Ho,useExisting:ei(()=>$f)},T2=(()=>Promise.resolve())();let $f=(()=>{class e extends Ho{constructor(i,n,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new yc,this._registered=!1,this.name="",this.update=new ee,this._parent=i,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Ox(0,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const n=i.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Px(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Uf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){T2.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){const n=i.isDisabled.currentValue,r=0!==n&&_u(n);T2.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?jv(i,this._parent):[i]}static#e=this.\u0275fac=function(n){return new(n||e)(E(Vn,9),E(dn,10),E(ol,10),E(Xr,10),E(Bn,8),E(_c,8))};static#t=this.\u0275dir=Me({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Rt([uJ]),tt,Si]})}return e})(),wc=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const hJ={provide:Xr,useExisting:ei(()=>Lx),multi:!0};let Lx=(()=>{class e extends Cc{writeValue(i){this.setProperty("value",i??"")}registerOnChange(i){this.onChange=n=>{i(""==n?null:parseFloat(n))}}static#e=this.\u0275fac=function(){let i;return function(r){return(i||(i=Hi(e)))(r||e)}}();static#t=this.\u0275dir=Me({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&ye("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[Rt([hJ]),tt]})}return e})();const fJ={provide:Xr,useExisting:ei(()=>Yv),multi:!0};let A2=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({})}return e})(),pJ=(()=>{class e{constructor(){this._accessors=[]}add(i,n){this._accessors.push([i,n])}remove(i){for(let n=this._accessors.length-1;n>=0;--n)if(this._accessors[n][1]===i)return void this._accessors.splice(n,1)}select(i){this._accessors.forEach(n=>{this._isSameGroup(n,i)&&n[1]!==i&&n[1].fireUncheck(i.value)})}_isSameGroup(i,n){return!!i[0].control&&i[0]._parent===n._control._parent&&i[1].name===n.name}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:A2})}return e})(),Yv=(()=>{class e extends Cc{constructor(i,n,r,s){super(i,n),this._registry=r,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=De(_c,{optional:!0})??Wf}ngOnInit(){this._control=this._injector.get(Ho),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(i){this._state=i===this.value,this.setProperty("checked",this._state)}registerOnChange(i){this._fn=i,this.onChange=()=>{i(this.value),this._registry.select(this)}}setDisabledState(i){(this.setDisabledStateFired||i||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",i),this.setDisabledStateFired=!0}fireUncheck(i){this.writeValue(i)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(n){return new(n||e)(E(Fo),E(ct),E(pJ),E(ti))};static#t=this.\u0275dir=Me({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(n,r){1&n&&ye("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Rt([fJ]),tt]})}return e})();const Nx=new ge("NgModelWithFormControlWarning"),vJ={provide:Vn,useExisting:ei(()=>Zr)};let Zr=(()=>{class e extends Vn{constructor(i,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ee,this._setValidators(i),this._setAsyncValidators(n)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const n=this.form.get(i.path);return Uf(n,i,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),n}getControl(i){return this.form.get(i.path)}removeControl(i){$v(i.control||null,i,!1),function aJ(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,n){this.form.get(i.path).setValue(n)}onSubmit(i){return this.submitted=!0,b2(this.form,this.directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const n=i.control,r=this.form.get(i.path);n!==r&&($v(n||null,i),(e=>e instanceof yc)(r)&&(Uf(r,i,this.callSetDisabledState),i.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const n=this.form.get(i.path);w2(n,i),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const n=this.form.get(i.path);n&&function rJ(e,t){return qv(e,t)}(n,i)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kx(this.form,this),this._oldForm&&qv(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(n){return new(n||e)(E(dn,10),E(ol,10),E(_c,8))};static#t=this.\u0275dir=Me({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&ye("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Rt([vJ]),tt,Si]})}return e})();const yJ={provide:Ho,useExisting:ei(()=>Eu)};let Eu=(()=>{class e extends Ho{set isDisabled(i){}static#e=this._ngModelWarningSentOnce=!1;constructor(i,n,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new ee,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Ox(0,s)}ngOnChanges(i){this._added||this._setUpControl(),Px(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return jv(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(n){return new(n||e)(E(Vn,13),E(dn,10),E(ol,10),E(Xr,10),E(Nx,8))};static#i=this.\u0275dir=Me({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Rt([yJ]),tt,Si]})}return e})();const wJ={provide:Xr,useExisting:ei(()=>Xv),multi:!0};function k2(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Xv=(()=>{class e extends Cc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;const r=k2(this._getOptionId(i),i);this.setProperty("value",r)}registerOnChange(i){this.onChange=n=>{this.value=this._getOptionValue(n),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(const n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),i))return n;return null}_getOptionValue(i){const n=function bJ(e){return e.split(":")[0]}(i);return this._optionMap.has(n)?this._optionMap.get(n):i}static#e=this.\u0275fac=function(){let i;return function(r){return(i||(i=Hi(e)))(r||e)}}();static#t=this.\u0275dir=Me({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&ye("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Rt([wJ]),tt]})}return e})(),Hx=(()=>{class e{constructor(i,n,r){this._element=i,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(i){null!=this._select&&(this._select._optionMap.set(this.id,i),this._setElementValue(k2(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(Fo),E(Xv,9))};static#t=this.\u0275dir=Me({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();const xJ={provide:Xr,useExisting:ei(()=>Gx),multi:!0};function I2(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Gx=(()=>{class e extends Cc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){let n;if(this.value=i,Array.isArray(i)){const r=i.map(s=>this._getOptionId(s));n=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else n=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(i){this.onChange=n=>{const r=[],s=n.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);r.push(c)}}else{const o=n.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,i(r)}}_registerOption(i){const n=(this._idCounter++).toString();return this._optionMap.set(n,i),n}_getOptionId(i){for(const n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,i))return n;return null}_getOptionValue(i){const n=function SJ(e){return e.split(":")[0]}(i);return this._optionMap.has(n)?this._optionMap.get(n)._value:i}static#e=this.\u0275fac=function(){let i;return function(r){return(i||(i=Hi(e)))(r||e)}}();static#t=this.\u0275dir=Me({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&ye("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Rt([xJ]),tt]})}return e})(),zx=(()=>{class e{constructor(i,n,r){this._element=i,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){null!=this._select&&(this._value=i,this._setElementValue(I2(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(I2(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(Fo),E(Gx,9))};static#t=this.\u0275dir=Me({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})(),bc=(()=>{class e{constructor(){this._validator=Vv}ngOnChanges(i){if(this.inputName in i){const n=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Vv,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return null!=i}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,features:[Si]})}return e})();const TJ={provide:dn,useExisting:ei(()=>dl),multi:!0};let dl=(()=>{class e extends bc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_u,this.createValidator=i=>YO}enabled(i){return i}static#e=this.\u0275fac=function(){let i;return function(r){return(i||(i=Hi(e)))(r||e)}}();static#t=this.\u0275dir=Me({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&At("required",r._enabled?"":null)},inputs:{required:"required"},features:[Rt([TJ]),tt]})}return e})(),W2=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[A2]})}return e})();class U2 extends Uv{constructor(t,i,n){super(Fx(i),Mx(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,i={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(t,i,n={}){this.controls.splice(t,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(t,i,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,i={}){C2(this,0,t),t.forEach((n,r)=>{v2(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){null!=t&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t=[],i={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((i,n)=>!!n._syncPendingControls()||i,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((i,n)=>{t(i,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(i=>i.enabled&&t(i))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function j2(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let Kf=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const i=new e;return i.useNonNullable=!0,i}group(i,n=null){const r=this._reduceControls(i);let s={};return j2(n)?s=n:null!==n&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new Su(r,s)}record(i,n=null){const r=this._reduceControls(i);return new _2(r,n)}control(i,n,r){let s={};return this.useNonNullable?(j2(n)?s=n:(s.validators=n,s.asyncValidators=r),new yc(i,{...s,nonNullable:!0})):new yc(i,n,r)}array(i,n,r){const s=i.map(o=>this._createControl(o));return new U2(s,n,r)}_reduceControls(i){const n={};return Object.keys(i).forEach(r=>{n[r]=this._createControl(i[r])}),n}_createControl(i){return i instanceof yc||i instanceof Uv?i:Array.isArray(i)?this.control(i[0],i.length>1?i[1]:null,i.length>2?i[2]:null):this.control(i)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IJ=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:_c,useValue:i.callSetDisabledState??Wf}]}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[W2]})}return e})(),PJ=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:Nx,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:_c,useValue:i.callSetDisabledState??Wf}]}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[W2]})}return e})();function Du(e,t){return wt(t)?sn(e,t,1):sn(e,1)}function un(e,t){return Ai((i,n)=>{let r=0;i.subscribe(wi(n,s=>e.call(t,s,r++)&&n.next(s)))})}function xc(e){return Ai((t,i)=>{try{t.subscribe(i)}finally{i.add(e)}})}class Zv{}class Qv{}class so{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(i=>{const n=i.indexOf(":");if(n>0){const r=i.slice(0,n),s=r.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof so?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){const i=new so;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof so?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){const i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,i);const r=("a"===t.op?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(i);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}else this.headers.delete(i),this.normalizedNames.delete(i)}}setHeaderEntries(t,i){const n=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}}class OJ{encodeKey(t){return $2(t)}encodeValue(t){return $2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const NJ=/%(\d[a-f0-9])/gi,BJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $2(e){return encodeURIComponent(e).replace(NJ,(t,i)=>BJ[i]??t)}function Jv(e){return`${e}`}class ul{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new OJ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function LJ(e,t){const i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=i.get(o)||[];l.push(a),i.set(o,l)}),i}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{const n=t.fromObject[i],r=Array.isArray(n)?n.map(Jv):[Jv(n)];this.map.set(i,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){const i=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(s=>{i.push({param:n,value:s,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const i=this.encoder.encodeKey(t);return this.map.get(t).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const i=new ul({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const i=("a"===t.op?this.map.get(t.param):void 0)||[];i.push(Jv(t.value)),this.map.set(t.param,i);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(Jv(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class VJ{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function K2(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function q2(e){return typeof Blob<"u"&&e instanceof Blob}function Y2(e){return typeof FormData<"u"&&e instanceof FormData}class qf{constructor(t,i,n,r){let s;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function HJ(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new so),this.context||(this.context=new VJ),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=i;else{const a=i.indexOf("?");this.urlWithParams=i+(-1===a?"?":a<i.length-1?"&":"")+o}}else this.params=new ul,this.urlWithParams=i}serializeBody(){return null===this.body?null:K2(this.body)||q2(this.body)||Y2(this.body)||function GJ(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ul?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Y2(this.body)?null:q2(this.body)?this.body.type||null:K2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ul?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const i=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((u,h)=>u.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((u,h)=>u.set(h,t.setParams[h]),c)),new qf(i,n,s,{params:c,headers:l,context:d,reportProgress:a,responseType:r,withCredentials:o})}}var Tu=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Tu||{});class Wx{constructor(t,i=200,n="OK"){this.headers=t.headers||new so,this.status=void 0!==t.status?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ux extends Wx{constructor(t={}){super(t),this.type=Tu.ResponseHeader}clone(t={}){return new Ux({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Sc extends Wx{constructor(t={}){super(t),this.type=Tu.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Sc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class X2 extends Wx{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function jx(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let oo=(()=>{class e{constructor(i){this.handler=i}request(i,n,r={}){let s;if(i instanceof qf)s=i;else{let l,c;l=r.headers instanceof so?r.headers:new so(r.headers),r.params&&(c=r.params instanceof ul?r.params:new ul({fromObject:r.params})),s=new qf(i,n,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Ue(s).pipe(Du(l=>this.handler.handle(l)));if(i instanceof qf||"events"===r.observe)return o;const a=o.pipe(un(l=>l instanceof Sc));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Nt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Nt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Nt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Nt(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(i,n={}){return this.request("DELETE",i,n)}get(i,n={}){return this.request("GET",i,n)}head(i,n={}){return this.request("HEAD",i,n)}jsonp(i,n){return this.request("JSONP",i,{params:(new ul).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,n={}){return this.request("OPTIONS",i,n)}patch(i,n,r={}){return this.request("PATCH",i,jx(r,n))}post(i,n,r={}){return this.request("POST",i,jx(r,n))}put(i,n,r={}){return this.request("PUT",i,jx(r,n))}static#e=this.\u0275fac=function(n){return new(n||e)(W(Zv))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();function J2(e,t){return t(e)}function WJ(e,t){return(i,n)=>t.intercept(i,{handle:r=>e(r,n)})}const $x=new ge(""),Yf=new ge(""),eL=new ge("");function jJ(){let e=null;return(t,i)=>{null===e&&(e=(De($x,{optional:!0})??[]).reduceRight(WJ,J2));const n=De(vv),r=n.add();return e(t,i).pipe(xc(()=>n.remove(r)))}}let tL=(()=>{class e extends Zv{constructor(i,n){super(),this.backend=i,this.injector=n,this.chain=null,this.pendingTasks=De(vv)}handle(i){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Yf),...this.injector.get(eL,[])]));this.chain=r.reduceRight((s,o)=>function UJ(e,t,i){return(n,r)=>i.runInContext(()=>t(n,s=>e(s,r)))}(s,o,this.injector),J2)}const n=this.pendingTasks.add();return this.chain(i,r=>this.backend.handle(r)).pipe(xc(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||e)(W(Qv),W(jr))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();const YJ=/^\)\]\}',?\n/;let nL=(()=>{class e{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new re(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?on(n.\u0275loadImpl()):Ue(null)).pipe(Ys(()=>new ui(s=>{const o=n.build();if(o.open(i.method,i.urlWithParams),i.withCredentials&&(o.withCredentials=!0),i.headers.forEach((p,m)=>o.setRequestHeader(p,m.join(","))),i.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const p=i.detectContentTypeHeader();null!==p&&o.setRequestHeader("Content-Type",p)}if(i.responseType){const p=i.responseType.toLowerCase();o.responseType="json"!==p?p:"text"}const a=i.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const p=o.statusText||"OK",m=new so(o.getAllResponseHeaders()),C=function XJ(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||i.url;return l=new Ux({headers:m,status:o.status,statusText:p,url:C}),l},d=()=>{let{headers:p,status:m,statusText:C,url:v}=c(),_=null;204!==m&&(_=typeof o.response>"u"?o.responseText:o.response),0===m&&(m=_?200:0);let x=m>=200&&m<300;if("json"===i.responseType&&"string"==typeof _){const R=_;_=_.replace(YJ,"");try{_=""!==_?JSON.parse(_):null}catch(M){_=R,x&&(x=!1,_={error:M,text:_})}}x?(s.next(new Sc({body:_,headers:p,status:m,statusText:C,url:v||void 0})),s.complete()):s.error(new X2({error:_,headers:p,status:m,statusText:C,url:v||void 0}))},u=p=>{const{url:m}=c(),C=new X2({error:p,status:o.status||0,statusText:o.statusText||"Unknown Error",url:m||void 0});s.error(C)};let h=!1;const f=p=>{h||(s.next(c()),h=!0);let m={type:Tu.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),"text"===i.responseType&&o.responseText&&(m.partialText=o.responseText),s.next(m)},g=p=>{let m={type:Tu.UploadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),s.next(m)};return o.addEventListener("load",d),o.addEventListener("error",u),o.addEventListener("timeout",u),o.addEventListener("abort",u),i.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",g)),o.send(a),s.next({type:Tu.Sent}),()=>{o.removeEventListener("error",u),o.removeEventListener("abort",u),o.removeEventListener("load",d),o.removeEventListener("timeout",u),i.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",g)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||e)(W(_O))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();const Kx=new ge("XSRF_ENABLED"),rL=new ge("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),sL=new ge("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class oL{}let JJ=(()=>{class e{constructor(i,n,r){this.doc=i,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=oO(i,this.cookieName),this.lastCookieString=i),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||e)(W(rt),W(pa),W(rL))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();function eee(e,t){const i=e.url.toLowerCase();if(!De(Kx)||"GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return t(e);const n=De(oL).getToken(),r=De(sL);return null!=n&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}var hl=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(hl||{});function tee(...e){const t=[oo,nL,tL,{provide:Zv,useExisting:tL},{provide:Qv,useExisting:nL},{provide:Yf,useValue:eee,multi:!0},{provide:Kx,useValue:!0},{provide:oL,useClass:JJ}];for(const i of e)t.push(...i.\u0275providers);return Nm(t)}const aL=new ge("LEGACY_INTERCEPTOR_FN");function iee(){return function Ec(e,t){return{\u0275kind:e,\u0275providers:t}}(hl.LegacyInterceptors,[{provide:aL,useFactory:jJ},{provide:Yf,useExisting:aL,multi:!0}])}let nee=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({providers:[tee(iee())]})}return e})();class lL{}class cee{}const xa="*";function ao(e,t){return{type:7,name:e,definitions:t,options:{}}}function hn(e,t=null){return{type:4,styles:t,timings:e}}function dL(e,t=null){return{type:2,steps:e,options:t}}function Bt(e){return{type:6,styles:e,offset:null}}function Tr(e,t,i){return{type:0,name:e,styles:t,options:i}}function uL(e){return{type:5,steps:e}}function Xi(e,t,i=null){return{type:1,expr:e,animation:t,options:i}}class Xf{constructor(t=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const i="start"==t?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}}class hL{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let i=0,n=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++i==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const i=t*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,i/n.totalTime):1;n.setPosition(r)})}getPosition(){const t=this.players.reduce((i,n)=>null===i||n.totalTime>i.totalTime?n:i,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const i="start"==t?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}}function fL(e){return new re(3e3,!1)}function fl(e){switch(e.length){case 0:return new Xf;case 1:return e[0];default:return new hL(e)}}function pL(e,t,i=new Map,n=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),d=c==o,u=d&&a||new Map;l.forEach((h,f)=>{let g=f,p=h;if("offset"!==f)switch(g=e.normalizePropertyName(g,r),p){case"!":p=i.get(f);break;case xa:p=n.get(f);break;default:p=e.normalizeStyleValue(f,g,p,r)}u.set(g,p)}),d||s.push(u),a=u,o=c}),r.length)throw function kee(e){return new re(3502,!1)}();return s}function Zx(e,t,i,n){switch(t){case"start":e.onStart(()=>n(i&&Qx(i,"start",e)));break;case"done":e.onDone(()=>n(i&&Qx(i,"done",e)));break;case"destroy":e.onDestroy(()=>n(i&&Qx(i,"destroy",e)))}}function Qx(e,t,i){const s=Jx(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,i.totalTime??e.totalTime,!!i.disabled),o=e._data;return null!=o&&(s._data=o),s}function Jx(e,t,i,n,r="",s=0,o){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function Qr(e,t,i){let n=e.get(t);return n||e.set(t,n=i),n}function gL(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const Uee=(()=>typeof document>"u"?null:document.documentElement)();function eS(e){const t=e.parentNode||e.host||null;return t===Uee?null:t}let Dc=null,mL=!1;function vL(e,t){for(;t;){if(t===e)return!0;t=eS(t)}return!1}function CL(e,t,i){if(i)return Array.from(e.querySelectorAll(t));const n=e.querySelector(t);return n?[n]:[]}let _L=(()=>{class e{validateStyleProperty(i){return function $ee(e){Dc||(Dc=function Kee(){return typeof document<"u"?document.body:null}()||{},mL=!!Dc.style&&"WebkitAppearance"in Dc.style);let t=!0;return Dc.style&&!function jee(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Dc.style,!t&&mL&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Dc.style)),t}(i)}matchesElement(i,n){return!1}containsElement(i,n){return vL(i,n)}getParentElement(i){return eS(i)}query(i,n,r){return CL(i,n,r)}computeStyle(i,n,r){return r||""}animate(i,n,r,s,o,a=[],l){return new Xf(r,s)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})(),tS=(()=>{class e{static#e=this.NOOP=new _L}return e})();const qee=1e3,iS="ng-enter",t0="ng-leave",n0="ng-trigger",r0=".ng-trigger",wL="ng-animating",nS=".ng-animating";function Sa(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:rS(parseFloat(t[1]),t[2])}function rS(e,t){return"s"===t?e*qee:e}function s0(e,t,i){return e.hasOwnProperty("duration")?e:function Xee(e,t,i){let r,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(fL()),{duration:0,delay:0,easing:""};r=rS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=rS(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=e;if(!i){let a=!1,l=t.length;r<0&&(t.push(function dee(){return new re(3100,!1)}()),a=!0),s<0&&(t.push(function uee(){return new re(3101,!1)}()),a=!0),a&&t.splice(l,0,fL())}return{duration:r,delay:s,easing:o}}(e,t,i)}function Zf(e,t={}){return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}function bL(e){const t=new Map;return Object.keys(e).forEach(i=>{t.set(i,e[i])}),t}function pl(e,t=new Map,i){if(i)for(let[n,r]of i)t.set(n,r);for(let[n,r]of e)t.set(n,r);return t}function Go(e,t,i){t.forEach((n,r)=>{const s=oS(r);i&&!i.has(r)&&i.set(r,e.style[s]),e.style[s]=n})}function Tc(e,t){t.forEach((i,n)=>{const r=oS(n);e.style[r]=""})}function Qf(e){return Array.isArray(e)?1==e.length?e[0]:dL(e):e}const sS=new RegExp("{{\\s*(.+?)\\s*}}","g");function SL(e){let t=[];if("string"==typeof e){let i;for(;i=sS.exec(e);)t.push(i[1]);sS.lastIndex=0}return t}function Jf(e,t,i){const n=e.toString(),r=n.replace(sS,(s,o)=>{let a=t[o];return null==a&&(i.push(function fee(e){return new re(3003,!1)}()),a=""),a.toString()});return r==n?e:r}function o0(e){const t=[];let i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}const Jee=/-+([a-z0-9])/g;function oS(e){return e.replace(Jee,(...t)=>t[1].toUpperCase())}function Jr(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw function pee(e){return new re(3004,!1)}()}}function EL(e,t){return window.getComputedStyle(e)[t]}const a0="*";function ite(e,t){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(n=>function nte(e,t,i){if(":"==e[0]){const l=function rte(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,n)=>parseFloat(n)>parseFloat(i);case":decrement":return(i,n)=>parseFloat(n)<parseFloat(i);default:return t.push(function Aee(e){return new re(3016,!1)}()),"* => *"}}(e,i);if("function"==typeof l)return void t.push(l);e=l}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(function Tee(e){return new re(3015,!1)}()),t;const r=n[1],s=n[2],o=n[3];t.push(DL(r,o));"<"==s[0]&&!(r==a0&&o==a0)&&t.push(DL(o,r))}(n,i,t)):i.push(e),i}const l0=new Set(["true","1"]),c0=new Set(["false","0"]);function DL(e,t){const i=l0.has(e)||c0.has(e),n=l0.has(t)||c0.has(t);return(r,s)=>{let o=e==a0||e==r,a=t==a0||t==s;return!o&&i&&"boolean"==typeof r&&(o=r?l0.has(e):c0.has(e)),!a&&n&&"boolean"==typeof s&&(a=s?l0.has(t):c0.has(t)),o&&a}}const ste=new RegExp("s*:selfs*,?","g");function aS(e,t,i,n){return new ote(e).build(t,i,n)}class ote{constructor(t){this._driver=t}build(t,i,n){const r=new cte(i);return this._resetContextStyleTimingState(r),Jr(this,Qf(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,i){let n=i.queryCount=0,r=i.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&i.errors.push(function mee(){return new re(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(i),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,i))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,i);n+=l.queryCount,r+=l.depCount,o.push(l)}else i.errors.push(function vee(){return new re(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,i){const n=this.visitStyle(t.styles,i),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const s=new Set,o=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{SL(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(o0(s.values()),i.errors.push(function Cee(e,t){return new re(3008,!1)}()))}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,i){i.queryCount=0,i.depCount=0;const n=Jr(this,Qf(t.animation),i);return{type:1,matchers:ite(t.expr,i.errors),animation:n,queryCount:i.queryCount,depCount:i.depCount,options:Ac(t.options)}}visitSequence(t,i){return{type:2,steps:t.steps.map(n=>Jr(this,n,i)),options:Ac(t.options)}}visitGroup(t,i){const n=i.currentTime;let r=0;const s=t.steps.map(o=>{i.currentTime=n;const a=Jr(this,o,i);return r=Math.max(r,i.currentTime),a});return i.currentTime=r,{type:3,steps:s,options:Ac(t.options)}}visitAnimate(t,i){const n=function ute(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return lS(s0(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=lS(0,0,"");return s.dynamic=!0,s.strValue=i,s}const r=s0(i,t);return lS(r.duration,r.delay,r.easing)}(t.timings,i.errors);i.currentAnimateTimings=n;let r,s=t.styles?t.styles:Bt({});if(5==s.type)r=this.visitKeyframes(s,i);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};n.easing&&(c.easing=n.easing),o=Bt(c)}i.currentTime+=n.duration+n.delay;const l=this.visitStyle(o,i);l.isEmptyStep=a,r=l}return i.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,i){const n=this._makeStyleAst(t,i);return this._validateStyleAst(n,i),n}_makeStyleAst(t,i){const n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===xa?n.push(a):i.errors.push(new re(3002,!1)):n.push(bL(a));let s=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:n,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,i){const n=i.currentAnimateTimings;let r=i.currentTime,s=i.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=i.collectedStyles.get(i.currentQuerySelector),d=c.get(l);let u=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(i.errors.push(function yee(e,t,i,n,r){return new re(3010,!1)}()),u=!1),s=d.startTime),u&&c.set(l,{startTime:s,endTime:r}),i.options&&function Qee(e,t,i){const n=t.params||{},r=SL(e);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||i.push(function hee(e){return new re(3001,!1)}())})}(a,i.options,i.errors)})})}visitKeyframes(t,i){const n={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function wee(){return new re(3011,!1)}()),n;let s=0;const o=[];let a=!1,l=!1,c=0;const d=t.steps.map(C=>{const v=this._makeStyleAst(C,i);let _=null!=v.offset?v.offset:function dte(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(i=>{if(i instanceof Map&&i.has("offset")){const n=i;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}return t}(v.styles),x=0;return null!=_&&(s++,x=v.offset=_),l=l||x<0||x>1,a=a||x<c,c=x,o.push(x),v});l&&i.errors.push(function bee(){return new re(3012,!1)}()),a&&i.errors.push(function xee(){return new re(3200,!1)}());const u=t.steps.length;let h=0;s>0&&s<u?i.errors.push(function See(){return new re(3202,!1)}()):0==s&&(h=1/(u-1));const f=u-1,g=i.currentTime,p=i.currentAnimateTimings,m=p.duration;return d.forEach((C,v)=>{const _=h>0?v==f?1:h*v:o[v],x=_*m;i.currentTime=g+p.delay+x,p.duration=x,this._validateStyleAst(C,i),C.offset=_,n.styles.push(C)}),n}visitReference(t,i){return{type:8,animation:Jr(this,Qf(t.animation),i),options:Ac(t.options)}}visitAnimateChild(t,i){return i.depCount++,{type:9,options:Ac(t.options)}}visitAnimateRef(t,i){return{type:10,animation:this.visitReference(t.animation,i),options:Ac(t.options)}}visitQuery(t,i){const n=i.currentQuerySelector,r=t.options||{};i.queryCount++,i.currentQuery=t;const[s,o]=function ate(e){const t=!!e.split(/\s*,\s*/).find(i=>":self"==i);return t&&(e=e.replace(ste,"")),e=e.replace(/@\*/g,r0).replace(/@\w+/g,i=>r0+"-"+i.slice(1)).replace(/:animating/g,nS),[e,t]}(t.selector);i.currentQuerySelector=n.length?n+" "+s:s,Qr(i.collectedStyles,i.currentQuerySelector,new Map);const a=Jr(this,Qf(t.animation),i);return i.currentQuery=null,i.currentQuerySelector=n,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Ac(t.options)}}visitStagger(t,i){i.currentQuery||i.errors.push(function Eee(){return new re(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:s0(t.timings,i.errors,!0);return{type:12,animation:Jr(this,Qf(t.animation),i),timings:n,options:null}}}class cte{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ac(e){return e?(e=Zf(e)).params&&(e.params=function lte(e){return e?Zf(e):null}(e.params)):e={},e}function lS(e,t,i){return{duration:e,delay:t,easing:i}}function cS(e,t,i,n,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class d0{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,i){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...i)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const pte=new RegExp(":enter","g"),mte=new RegExp(":leave","g");function dS(e,t,i,n,r,s=new Map,o=new Map,a,l,c=[]){return(new vte).buildKeyframes(e,t,i,n,r,s,o,a,l,c)}class vte{buildKeyframes(t,i,n,r,s,o,a,l,c,d=[]){c=c||new d0;const u=new uS(t,i,c,r,s,d,[]);u.options=l;const h=l.delay?Sa(l.delay):0;u.currentTimeline.delayNextStep(h),u.currentTimeline.setStyles([o],null,u.errors,l),Jr(this,n,u);const f=u.timelines.filter(g=>g.containsAnimation());if(f.length&&a.size){let g;for(let p=f.length-1;p>=0;p--){const m=f[p];if(m.element===i){g=m;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,u.errors,l)}return f.length?f.map(g=>g.buildKeyframes()):[cS(i,[],[],[],0,h,"",!1)]}visitTrigger(t,i){}visitState(t,i){}visitTransition(t,i){}visitAnimateChild(t,i){const n=i.subInstructions.get(i.element);if(n){const r=i.createSubContext(t.options),s=i.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&i.transformIntoNewTimeline(o)}i.previousNode=t}visitAnimateRef(t,i){const n=i.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],i,n),this.visitReference(t.animation,n),i.transformIntoNewTimeline(n.currentTimeline.currentTime),i.previousNode=t}_applyAnimationRefDelays(t,i,n){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:Sa(Jf(s,r?.params??{},i.errors));n.delayNextStep(o)}}}_visitSubInstructions(t,i,n){let s=i.currentTimeline.currentTime;const o=null!=n.duration?Sa(n.duration):null,a=null!=n.delay?Sa(n.delay):null;return 0!==o&&t.forEach(l=>{const c=i.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,i){i.updateOptions(t.options,!0),Jr(this,t.animation,i),i.previousNode=t}visitSequence(t,i){const n=i.subContextCount;let r=i;const s=t.options;if(s&&(s.params||s.delay)&&(r=i.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=u0);const o=Sa(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Jr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),i.previousNode=t}visitGroup(t,i){const n=[];let r=i.currentTimeline.currentTime;const s=t.options&&t.options.delay?Sa(t.options.delay):0;t.steps.forEach(o=>{const a=i.createSubContext(t.options);s&&a.delayNextStep(s),Jr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>i.currentTimeline.mergeTimelineCollectedStyles(o)),i.transformIntoNewTimeline(r),i.previousNode=t}_visitTiming(t,i){if(t.dynamic){const n=t.strValue;return s0(i.params?Jf(n,i.params,i.errors):n,i.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,i){const n=i.currentAnimateTimings=this._visitTiming(t.timings,i),r=i.currentTimeline;n.delay&&(i.incrementTime(n.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,i):(i.incrementTime(n.duration),this.visitStyle(s,i),r.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=t}visitStyle(t,i){const n=i.currentTimeline,r=i.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,i.errors,i.options),i.previousNode=t}visitKeyframes(t,i){const n=i.currentAnimateTimings,r=i.currentTimeline.duration,s=n.duration,a=i.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,i.errors,i.options),a.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(a),i.transformIntoNewTimeline(r+s),i.previousNode=t}visitQuery(t,i){const n=i.currentTimeline.currentTime,r=t.options||{},s=r.delay?Sa(r.delay):0;s&&(6===i.previousNode.type||0==n&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=u0);let o=n;const a=i.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,i.errors);i.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{i.currentQueryIndex=d;const u=i.createSubContext(t.options,c);s&&u.delayNextStep(s),c===i.element&&(l=u.currentTimeline),Jr(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,u.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(o),l&&(i.currentTimeline.mergeTimelineCollectedStyles(l),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=t}visitStagger(t,i){const n=i.parentContext,r=i.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(i.currentQueryTotal-1);let l=o*i.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}const d=i.currentTimeline;l&&d.delayNextStep(l);const u=d.currentTime;Jr(this,t.animation,i),i.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const u0={};class uS{constructor(t,i,n,r,s,o,a,l){this._driver=t,this.element=i,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=u0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new h0(this._driver,i,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,i){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Sa(n.duration)),null!=n.delay&&(r.delay=Sa(n.delay));const s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!i||!o.hasOwnProperty(a))&&(o[a]=Jf(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const i=this.options.params;if(i){const n=t.params={};Object.keys(i).forEach(r=>{n[r]=i[r]})}}return t}createSubContext(t=null,i,n){const r=i||this.element,s=new uS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=u0,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,i,n){const r={duration:i??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},s=new Cte(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,i,n,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(pte,"."+this._enterClassName)).replace(mte,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&0==a.length&&o.push(function Dee(e){return new re(3014,!1)}()),a}}class h0{constructor(t,i,n,r){this._driver=t,this.element=i,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+t),i&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,i){return this.applyStylesToKeyframe(),new h0(this._driver,t,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,i){this._localTimelineStyles.set(t,i),this._globalTimelineStyles.set(t,i),this._styleSummary.set(t,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[i,n]of this._globalTimelineStyles)this._backFill.set(i,n||xa),this._currentKeyframe.set(i,xa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,i,n,r){i&&this._previousKeyframe.set("easing",i);const s=r&&r.params||{},o=function _te(e,t){const i=new Map;let n;return e.forEach(r=>{if("*"===r){n=n||t.keys();for(let s of n)i.set(s,xa)}else pl(r,i)}),i}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=Jf(l,s,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??xa),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,i)=>{this._currentKeyframe.set(i,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,t)}))}snapshotCurrentStyles(){for(let[t,i]of this._localTimelineStyles)this._pendingStyles.set(t,i),this._updateStyle(t,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let i in this._currentKeyframe)t.push(i);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((i,n)=>{const r=this._styleSummary.get(n);(!r||i.time>r.time)&&this._updateStyle(n,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,i=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=pl(a,new Map,this._backFill);c.forEach((d,u)=>{"!"===d?t.add(u):d===xa&&i.add(u)}),n||c.set("offset",l/this.duration),r.push(c)});const s=t.size?o0(t.values()):[],o=i.size?o0(i.values()):[];if(n){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return cS(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Cte extends h0{constructor(t,i,n,r,s,o,a=!1){super(t,i,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:i,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&i){const s=[],o=n+i,a=i/o,l=pl(t[0]);l.set("offset",0),s.push(l);const c=pl(t[0]);c.set("offset",RL(a)),s.push(c);const d=t.length-1;for(let u=1;u<=d;u++){let h=pl(t[u]);const f=h.get("offset");h.set("offset",RL((i+f*n)/o)),s.push(h)}n=o,i=0,r="",t=s}return cS(this.element,t,this.preStyleProps,this.postStyleProps,n,i,r,!0)}}function RL(e,t=3){const i=Math.pow(10,t-1);return Math.round(e*i)/i}class hS{}const yte=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wte extends hS{normalizePropertyName(t,i){return oS(t)}normalizeStyleValue(t,i,n,r){let s="";const o=n.toString().trim();if(yte.has(i)&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function gee(e,t){return new re(3005,!1)}())}return o+s}}function FL(e,t,i,n,r,s,o,a,l,c,d,u,h){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:i,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:h}}const fS={};class ML{constructor(t,i,n){this._triggerName=t,this.ast=i,this._stateStyles=n}match(t,i,n,r){return function bte(e,t,i,n,r){return e.some(s=>s(t,i,n,r))}(this.ast.matchers,t,i,n,r)}buildStyles(t,i,n){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(i,n):new Map}build(t,i,n,r,s,o,a,l,c,d){const u=[],h=this.ast.options&&this.ast.options.params||fS,g=this.buildStyles(n,a&&a.params||fS,u),p=l&&l.params||fS,m=this.buildStyles(r,p,u),C=new Set,v=new Map,_=new Map,x="void"===r,R={params:xte(p,h),delay:this.ast.options?.delay},M=d?[]:dS(t,i,this.ast.animation,s,o,g,m,R,c,u);let S=0;if(M.forEach(B=>{S=Math.max(B.duration+B.delay,S)}),u.length)return FL(i,this._triggerName,n,r,x,g,m,[],[],v,_,S,u);M.forEach(B=>{const j=B.element,K=Qr(v,j,new Set);B.preStyleProps.forEach(Ce=>K.add(Ce));const z=Qr(_,j,new Set);B.postStyleProps.forEach(Ce=>z.add(Ce)),j!==i&&C.add(j)});const N=o0(C.values());return FL(i,this._triggerName,n,r,x,g,m,M,N,v,_,S)}}function xte(e,t){const i=Zf(t);for(const n in e)e.hasOwnProperty(n)&&null!=e[n]&&(i[n]=e[n]);return i}class Ste{constructor(t,i,n){this.styles=t,this.defaultParams=i,this.normalizer=n}buildStyles(t,i){const n=new Map,r=Zf(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Jf(o,r,i));const l=this.normalizer.normalizePropertyName(a,i);o=this.normalizer.normalizeStyleValue(a,l,o,i),n.set(a,o)})}),n}}class Dte{constructor(t,i,n){this.name=t,this.ast=i,this._normalizer=n,this.transitionFactories=[],this.states=new Map,i.states.forEach(r=>{this.states.set(r.name,new Ste(r.style,r.options&&r.options.params||{},n))}),kL(this.states,"true","1"),kL(this.states,"false","0"),i.transitions.forEach(r=>{this.transitionFactories.push(new ML(t,r,this.states))}),this.fallbackTransition=function Tte(e,t,i){return new ML(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,i,n,r){return this.transitionFactories.find(o=>o.match(t,i,n,r))||null}matchStyles(t,i,n){return this.fallbackTransition.buildStyles(t,i,n)}}function kL(e,t,i){e.has(t)?e.has(i)||e.set(i,e.get(t)):e.has(i)&&e.set(t,e.get(i))}const Ate=new d0;class Rte{constructor(t,i,n){this.bodyNode=t,this._driver=i,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,i){const n=[],s=aS(this._driver,i,n,[]);if(n.length)throw function Iee(e){return new re(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,i,n){const r=t.element,s=pL(this._normalizer,t.keyframes,i,n);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,i,n={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=dS(this._driver,i,s,iS,t0,new Map,new Map,n,Ate,r),o.forEach(d=>{const u=Qr(a,d.element,new Map);d.postStyleProps.forEach(h=>u.set(h,null))})):(r.push(function Pee(){return new re(3300,!1)}()),o=[]),r.length)throw function Oee(e){return new re(3504,!1)}();a.forEach((d,u)=>{d.forEach((h,f)=>{d.set(f,this._driver.computeStyle(u,f,xa))})});const c=fl(o.map(d=>{const u=a.get(d.element);return this._buildPlayer(d,new Map,u)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const i=this._getPlayer(t);i.destroy(),this._playersById.delete(t);const n=this.players.indexOf(i);n>=0&&this.players.splice(n,1)}_getPlayer(t){const i=this._playersById.get(t);if(!i)throw function Lee(e){return new re(3301,!1)}();return i}listen(t,i,n,r){const s=Jx(i,"","","");return Zx(this._getPlayer(t),n,s,r),()=>{}}command(t,i,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,i,r[0]||{});const s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const IL="ng-animate-queued",pS="ng-animate-disabled",Pte=[],PL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ote={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},lo="__ng_removed";class gS{get params(){return this.options.params}constructor(t,i=""){this.namespaceId=i;const n=t&&t.hasOwnProperty("value");if(this.value=function Vte(e){return e??null}(n?t.value:t),n){const s=Zf(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const i=t.params;if(i){const n=this.options.params;Object.keys(i).forEach(r=>{null==n[r]&&(n[r]=i[r])})}}}const ep="void",mS=new gS(ep);class Lte{constructor(t,i,n){this.id=t,this.hostElement=i,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ss(i,this._hostClassName)}listen(t,i,n,r){if(!this._triggers.has(i))throw function Nee(e,t){return new re(3302,!1)}();if(null==n||0==n.length)throw function Bee(e){return new re(3303,!1)}();if(!function Hte(e){return"start"==e||"done"==e}(n))throw function Vee(e,t){return new re(3400,!1)}();const s=Qr(this._elementListeners,t,[]),o={name:i,phase:n,callback:r};s.push(o);const a=Qr(this._engine.statesByElement,t,new Map);return a.has(i)||(Ss(t,n0),Ss(t,n0+"-"+i),a.set(i,mS)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(i)||a.delete(i)})}}register(t,i){return!this._triggers.has(t)&&(this._triggers.set(t,i),!0)}_getTrigger(t){const i=this._triggers.get(t);if(!i)throw function Hee(e){return new re(3401,!1)}();return i}trigger(t,i,n,r=!0){const s=this._getTrigger(i),o=new vS(this.id,i,t);let a=this._engine.statesByElement.get(t);a||(Ss(t,n0),Ss(t,n0+"-"+i),this._engine.statesByElement.set(t,a=new Map));let l=a.get(i);const c=new gS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(i,c),l||(l=mS),c.value!==ep&&l.value===c.value){if(!function Wte(e,t){const i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let r=0;r<i.length;r++){const s=i[r];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(l.params,c.params)){const p=[],m=s.matchStyles(l.value,l.params,p),C=s.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(()=>{Tc(t,m),Go(t,C)})}return}const h=Qr(this._engine.playersByElement,t,[]);h.forEach(p=>{p.namespaceId==this.id&&p.triggerName==i&&p.queued&&p.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),g=!1;if(!f){if(!r)return;f=s.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:g}),g||(Ss(t,IL),o.onStart(()=>{Au(t,IL)})),o.onDone(()=>{let p=this.players.indexOf(o);p>=0&&this.players.splice(p,1);const m=this._engine.playersByElement.get(t);if(m){let C=m.indexOf(o);C>=0&&m.splice(C,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(i=>i.delete(t)),this._elementListeners.forEach((i,n)=>{this._elementListeners.set(n,i.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const i=this._engine.playersByElement.get(t);i&&(i.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,i){const n=this._engine.driver.query(t,r0,!0);n.forEach(r=>{if(r[lo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,i,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,i,n,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const d=this.trigger(t,c,ep,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,i,o),n&&fl(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const i=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(i&&n){const r=new Set;i.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=n.get(o)||mS,d=new gS(ep),u=new vS(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(t,i){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,i),this.triggerLeaveAnimation(t,i,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,i);else{const s=t[lo];(!s||s===PL)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,i))}}insertNode(t,i){Ss(t,this._hostClassName)}drainQueuedTransitions(t){const i=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){const l=Jx(s,n.triggerName,n.fromState.value,n.toState.value);l._data=t,Zx(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):i.push(n)}),this._queue=[],i.sort((n,r)=>{const s=n.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Nte{_onRemovalComplete(t,i){this.onRemovalComplete(t,i)}constructor(t,i,n){this.bodyNode=t,this.driver=i,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(i=>{i.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,i){const n=new Lte(t,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(n,i):(this.newHostElements.set(i,n),this.collectEnterElement(i)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,i){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(i);for(;a;){const l=r.get(a);if(l){const c=n.indexOf(l);n.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(t)}else n.push(t);return r.set(i,t),t}register(t,i){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,i)),n}registerTrigger(t,i,n){let r=this._namespaceLookup[t];r&&r.register(i,n)&&this.totalAnimations++}destroy(t,i){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(i),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const i=new Set,n=this.statesByElement.get(t);if(n)for(let r of n.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&i.add(s)}return i}trigger(t,i,n,r){if(f0(i)){const s=this._fetchNamespace(t);if(s)return s.trigger(i,n,r),!0}return!1}insertNode(t,i,n,r){if(!f0(i))return;const s=i[lo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(i);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(i,n)}r&&this.collectEnterElement(i)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,i){i?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ss(t,pS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Au(t,pS))}removeNode(t,i,n){if(f0(i)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(i,n):this.markElementAsRemoved(t,i,!1,n);const s=this.namespacesByHostElement.get(i);s&&s.id!==t&&s.removeNode(i,n)}else this._onRemovalComplete(i,n)}markElementAsRemoved(t,i,n,r,s){this.collectedLeaveElements.push(i),i[lo]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,i,n,r,s){return f0(i)?this._fetchNamespace(t).listen(i,n,r,s):()=>{}}_buildInstruction(t,i,n,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,i,s)}destroyInnerAnimations(t){let i=this.driver.query(t,r0,!0);i.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(t,nS,!0),i.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const i=this.playersByElement.get(t);i&&i.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const i=this.playersByQueriedElement.get(t);i&&i.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return fl(this.players).onDone(()=>t());t()})}processLeaveNode(t){const i=t[lo];if(i&&i.setForRemoval){if(t[lo]=PL,i.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(i.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}t.classList?.contains(pS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ss(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{i=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],i.length?fl(i).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw function Gee(e){return new re(3402,!1)}()}_flushAnimations(t,i){const n=new d0,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(ae=>{d.add(ae);const le=this.driver.query(ae,".ng-animate-queued",!0);for(let Ae=0;Ae<le.length;Ae++)d.add(le[Ae])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=NL(h,this.collectedEnterElements),g=new Map;let p=0;f.forEach((ae,le)=>{const Ae=iS+p++;g.set(le,Ae),ae.forEach(he=>Ss(he,Ae))});const m=[],C=new Set,v=new Set;for(let ae=0;ae<this.collectedLeaveElements.length;ae++){const le=this.collectedLeaveElements[ae],Ae=le[lo];Ae&&Ae.setForRemoval&&(m.push(le),C.add(le),Ae.hasAnimation?this.driver.query(le,".ng-star-inserted",!0).forEach(he=>C.add(he)):v.add(le))}const _=new Map,x=NL(h,Array.from(C));x.forEach((ae,le)=>{const Ae=t0+p++;_.set(le,Ae),ae.forEach(he=>Ss(he,Ae))}),t.push(()=>{f.forEach((ae,le)=>{const Ae=g.get(le);ae.forEach(he=>Au(he,Ae))}),x.forEach((ae,le)=>{const Ae=_.get(le);ae.forEach(he=>Au(he,Ae))}),m.forEach(ae=>{this.processLeaveNode(ae)})});const R=[],M=[];for(let ae=this._namespaceList.length-1;ae>=0;ae--)this._namespaceList[ae].drainQueuedTransitions(i).forEach(Ae=>{const he=Ae.player,He=Ae.element;if(R.push(he),this.collectedEnterElements.length){const Ee=He[lo];if(Ee&&Ee.setForMove){if(Ee.previousTriggersValues&&Ee.previousTriggersValues.has(Ae.triggerName)){const be=Ee.previousTriggersValues.get(Ae.triggerName),we=this.statesByElement.get(Ae.element);if(we&&we.has(Ae.triggerName)){const fe=we.get(Ae.triggerName);fe.value=be,we.set(Ae.triggerName,fe)}}return void he.destroy()}}const ue=!u||!this.driver.containsElement(u,He),O=_.get(He),q=g.get(He),V=this._buildInstruction(Ae,n,q,O,ue);if(V.errors&&V.errors.length)return void M.push(V);if(ue)return he.onStart(()=>Tc(He,V.fromStyles)),he.onDestroy(()=>Go(He,V.toStyles)),void r.push(he);if(Ae.isFallbackTransition)return he.onStart(()=>Tc(He,V.fromStyles)),he.onDestroy(()=>Go(He,V.toStyles)),void r.push(he);const G=[];V.timelines.forEach(Ee=>{Ee.stretchStartingKeyframe=!0,this.disabledNodes.has(Ee.element)||G.push(Ee)}),V.timelines=G,n.append(He,V.timelines),o.push({instruction:V,player:he,element:He}),V.queriedElements.forEach(Ee=>Qr(a,Ee,[]).push(he)),V.preStyleProps.forEach((Ee,be)=>{if(Ee.size){let we=l.get(be);we||l.set(be,we=new Set),Ee.forEach((fe,Qe)=>we.add(Qe))}}),V.postStyleProps.forEach((Ee,be)=>{let we=c.get(be);we||c.set(be,we=new Set),Ee.forEach((fe,Qe)=>we.add(Qe))})});if(M.length){const ae=[];M.forEach(le=>{ae.push(function zee(e,t){return new re(3505,!1)}())}),R.forEach(le=>le.destroy()),this.reportError(ae)}const S=new Map,N=new Map;o.forEach(ae=>{const le=ae.element;n.has(le)&&(N.set(le,le),this._beforeAnimationBuild(ae.player.namespaceId,ae.instruction,S))}),r.forEach(ae=>{const le=ae.element;this._getPreviousPlayers(le,!1,ae.namespaceId,ae.triggerName,null).forEach(he=>{Qr(S,le,[]).push(he),he.destroy()})});const B=m.filter(ae=>VL(ae,l,c)),j=new Map;LL(j,this.driver,v,c,xa).forEach(ae=>{VL(ae,l,c)&&B.push(ae)});const z=new Map;f.forEach((ae,le)=>{LL(z,this.driver,new Set(ae),l,"!")}),B.forEach(ae=>{const le=j.get(ae),Ae=z.get(ae);j.set(ae,new Map([...le?.entries()??[],...Ae?.entries()??[]]))});const Ce=[],Oe=[],Re={};o.forEach(ae=>{const{element:le,player:Ae,instruction:he}=ae;if(n.has(le)){if(d.has(le))return Ae.onDestroy(()=>Go(le,he.toStyles)),Ae.disabled=!0,Ae.overrideTotalTime(he.totalTime),void r.push(Ae);let He=Re;if(N.size>1){let O=le;const q=[];for(;O=O.parentNode;){const V=N.get(O);if(V){He=V;break}q.push(O)}q.forEach(V=>N.set(V,He))}const ue=this._buildAnimation(Ae.namespaceId,he,S,s,z,j);if(Ae.setRealPlayer(ue),He===Re)Ce.push(Ae);else{const O=this.playersByElement.get(He);O&&O.length&&(Ae.parentPlayer=fl(O)),r.push(Ae)}}else Tc(le,he.fromStyles),Ae.onDestroy(()=>Go(le,he.toStyles)),Oe.push(Ae),d.has(le)&&r.push(Ae)}),Oe.forEach(ae=>{const le=s.get(ae.element);if(le&&le.length){const Ae=fl(le);ae.setRealPlayer(Ae)}}),r.forEach(ae=>{ae.parentPlayer?ae.syncPlayerEvents(ae.parentPlayer):ae.destroy()});for(let ae=0;ae<m.length;ae++){const le=m[ae],Ae=le[lo];if(Au(le,t0),Ae&&Ae.hasAnimation)continue;let he=[];if(a.size){let ue=a.get(le);ue&&ue.length&&he.push(...ue);let O=this.driver.query(le,nS,!0);for(let q=0;q<O.length;q++){let V=a.get(O[q]);V&&V.length&&he.push(...V)}}const He=he.filter(ue=>!ue.destroyed);He.length?Gte(this,le,He):this.processLeaveNode(le)}return m.length=0,Ce.forEach(ae=>{this.players.push(ae),ae.onDone(()=>{ae.destroy();const le=this.players.indexOf(ae);this.players.splice(le,1)}),ae.play()}),Ce}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,i,n,r,s){let o=[];if(i){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==ep;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,i,n){const s=i.element,o=i.isRemovalTransition?void 0:t,a=i.isRemovalTransition?void 0:i.triggerName;for(const l of i.timelines){const c=l.element,d=c!==s,u=Qr(n,c,[]);this._getPreviousPlayers(c,d,o,a,i.toState).forEach(f=>{const g=f.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),f.destroy(),u.push(f)})}Tc(s,i.fromStyles)}_buildAnimation(t,i,n,r,s,o){const a=i.triggerName,l=i.element,c=[],d=new Set,u=new Set,h=i.timelines.map(g=>{const p=g.element;d.add(p);const m=p[lo];if(m&&m.removedBeforeQueried)return new Xf(g.duration,g.delay);const C=p!==l,v=function zte(e){const t=[];return BL(e,t),t}((n.get(p)||Pte).map(S=>S.getRealPlayer())).filter(S=>!!S.element&&S.element===p),_=s.get(p),x=o.get(p),R=pL(this._normalizer,g.keyframes,_,x),M=this._buildPlayer(g,R,v);if(g.subTimeline&&r&&u.add(p),C){const S=new vS(t,a,p);S.setRealPlayer(M),c.push(S)}return M});c.forEach(g=>{Qr(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function Bte(e,t,i){let n=e.get(t);if(n){if(n.length){const r=n.indexOf(i);n.splice(r,1)}0==n.length&&e.delete(t)}return n}(this.playersByQueriedElement,g.element,g))}),d.forEach(g=>Ss(g,wL));const f=fl(h);return f.onDestroy(()=>{d.forEach(g=>Au(g,wL)),Go(l,i.toStyles)}),u.forEach(g=>{Qr(r,g,[]).push(f)}),f}_buildPlayer(t,i,n){return i.length>0?this.driver.animate(t.element,i,t.duration,t.delay,t.easing,n):new Xf(t.duration,t.delay)}}class vS{constructor(t,i,n){this.namespaceId=t,this.triggerName=i,this.element=n,this._player=new Xf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((i,n)=>{i.forEach(r=>Zx(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const i=this._player;i.triggerCallback&&t.onStart(()=>i.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,i){Qr(this._queuedCallbacks,t,[]).push(i)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const i=this._player;i.triggerCallback&&i.triggerCallback(t)}}function f0(e){return e&&1===e.nodeType}function OL(e,t){const i=e.style.display;return e.style.display=t??"none",i}function LL(e,t,i,n,r){const s=[];i.forEach(l=>s.push(OL(l)));const o=[];n.forEach((l,c)=>{const d=new Map;l.forEach(u=>{const h=t.computeStyle(c,u,r);d.set(u,h),(!h||0==h.length)&&(c[lo]=Ote,o.push(c))}),e.set(c,d)});let a=0;return i.forEach(l=>OL(l,s[a++])),o}function NL(e,t){const i=new Map;if(e.forEach(a=>i.set(a,[])),0==t.length)return i;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=i.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&i.get(l).push(a)}),i}function Ss(e,t){e.classList?.add(t)}function Au(e,t){e.classList?.remove(t)}function Gte(e,t,i){fl(i).onDone(()=>e.processLeaveNode(t))}function BL(e,t){for(let i=0;i<e.length;i++){const n=e[i];n instanceof hL?BL(n.players,t):t.push(n)}}function VL(e,t,i){const n=i.get(e);if(!n)return!1;let r=t.get(e);return r?n.forEach(s=>r.add(s)):t.set(e,n),i.delete(e),!0}class p0{constructor(t,i,n){this.bodyNode=t,this._driver=i,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Nte(t,i,n),this._timelineEngine=new Rte(t,i,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,i,n,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],d=aS(this._driver,s,l,[]);if(l.length)throw function Mee(e,t){return new re(3404,!1)}();a=function Ete(e,t,i){return new Dte(e,t,i)}(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(i,r,a)}register(t,i){this._transitionEngine.register(t,i)}destroy(t,i){this._transitionEngine.destroy(t,i)}onInsert(t,i,n,r){this._transitionEngine.insertNode(t,i,n,r)}onRemove(t,i,n){this._transitionEngine.removeNode(t,i,n)}disableAnimations(t,i){this._transitionEngine.markElementAsDisabled(t,i)}process(t,i,n,r){if("@"==n.charAt(0)){const[s,o]=gL(n);this._timelineEngine.command(s,i,o,r)}else this._transitionEngine.trigger(t,i,n,r)}listen(t,i,n,r,s){if("@"==n.charAt(0)){const[o,a]=gL(n);return this._timelineEngine.listen(o,i,a,s)}return this._transitionEngine.listen(t,i,n,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let jte=(()=>{class e{static#e=this.initialStylesByElement=new WeakMap;constructor(i,n,r){this._element=i,this._startStyles=n,this._endStyles=r,this._state=0;let s=e.initialStylesByElement.get(i);s||e.initialStylesByElement.set(i,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Go(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Go(this._element,this._initialStyles),this._endStyles&&(Go(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Tc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tc(this._element,this._endStyles),this._endStyles=null),Go(this._element,this._initialStyles),this._state=3)}}return e})();function CS(e){let t=null;return e.forEach((i,n)=>{(function $te(e){return"display"===e||"position"===e})(n)&&(t=t||new Map,t.set(n,i))}),t}class HL{constructor(t,i,n,r){this.element=t,this.keyframes=i,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const i=[];return t.forEach(n=>{i.push(Object.fromEntries(n))}),i}_triggerWebAnimation(t,i,n){return t.animate(this._convertKeyframesToObject(i),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&t.set(r,this._finished?n:EL(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const i="start"===t?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}}class Kte{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,i){return!1}containsElement(t,i){return vL(t,i)}getParentElement(t){return eS(t)}query(t,i,n){return CL(t,i,n)}computeStyle(t,i,n){return window.getComputedStyle(t)[i]}animate(t,i,n,r,s,o=[]){const l={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,d=o.filter(f=>f instanceof HL);(function ete(e,t){return 0===e||0===t})(n,r)&&d.forEach(f=>{f.currentSnapshot.forEach((g,p)=>c.set(p,g))});let u=function Zee(e){return e.length?e[0]instanceof Map?e:e.map(t=>bL(t)):[]}(i).map(f=>pl(f));u=function tte(e,t,i){if(i.size&&t.length){let n=t[0],r=[];if(i.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,EL(e,a)))}}return t}(t,u,c);const h=function Ute(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=CS(t[0]),t.length>1&&(n=CS(t[t.length-1]))):t instanceof Map&&(i=CS(t)),i||n?new jte(e,i,n):null}(t,u);return new HL(t,u,l,h)}}let qte=(()=>{class e extends lL{constructor(i,n){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(n.body,{id:"0",encapsulation:gs.None,styles:[],data:{animation:[]}})}build(i){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(i)?dL(i):i;return GL(this._renderer,null,n,"register",[r]),new Yte(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||e)(W(df),W(rt))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();class Yte extends cee{constructor(t,i){super(),this._id=t,this._renderer=i}create(t,i){return new Xte(this._id,t,i||{},this._renderer)}}class Xte{constructor(t,i,n,r){this.id=t,this.element=i,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,i){return this._renderer.listen(this.element,`@@${this.id}:${t}`,i)}_command(t,...i){return GL(this._renderer,this.element,this.id,t,i)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function GL(e,t,i,n,r){return e.setProperty(t,`@@${i}:${n}`,r)}const zL="@.disabled";let Zte=(()=>{class e{constructor(i,n,r){this.delegate=i,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(i,n){const s=this.delegate.createRenderer(i,n);if(!(i&&n&&n.data&&n.data.animation)){let d=this._rendererCache.get(s);return d||(d=new WL("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,d)),d}const o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,i);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(o,a,i,d.name,d)};return n.data.animation.forEach(l),new Qte(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,n,r){i>=0&&i<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(n){return new(n||e)(W(df),W(p0),W(ze))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();class WL{constructor(t,i,n,r){this.namespaceId=t,this.delegate=i,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,i){this.delegate.appendChild(t,i),this.engine.onInsert(this.namespaceId,i,t,!1)}insertBefore(t,i,n,r=!0){this.delegate.insertBefore(t,i,n),this.engine.onInsert(this.namespaceId,i,t,r)}removeChild(t,i,n){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,r){this.delegate.setAttribute(t,i,n,r)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,r){this.delegate.setStyle(t,i,n,r)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){"@"==i.charAt(0)&&i==zL?this.disableAnimations(t,!!n):this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n){return this.delegate.listen(t,i,n)}disableAnimations(t,i){this.engine.disableAnimations(t,i)}}class Qte extends WL{constructor(t,i,n,r,s){super(i,n,r,s),this.factory=t,this.namespaceId=i}setProperty(t,i,n){"@"==i.charAt(0)?"."==i.charAt(1)&&i==zL?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,i.slice(1),n):this.delegate.setProperty(t,i,n)}listen(t,i,n){if("@"==i.charAt(0)){const r=function Jte(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=i.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function eie(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(t,i,n)}}const UL=[{provide:lL,useClass:qte},{provide:hS,useFactory:function iie(){return new wte}},{provide:p0,useClass:(()=>{class e extends p0{constructor(i,n,r,s){super(i.body,n,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||e)(W(rt),W(tS),W(hS),W(No))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})()},{provide:df,useFactory:function nie(e,t,i){return new Zte(e,t,i)},deps:[_x,p0,ze]}],_S=[{provide:tS,useFactory:()=>new Kte},{provide:Ro,useValue:"BrowserAnimations"},...UL],jL=[{provide:tS,useClass:_L},{provide:Ro,useValue:"NoopAnimations"},...UL];let yS,rie=(()=>{class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?jL:_S}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({providers:_S,imports:[LO]})}return e})();try{yS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yS=!1}let Ru,Zi=(()=>{class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?vO(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||e)(W(pa))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $L=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function KL(){if(Ru)return Ru;if("object"!=typeof document||!document)return Ru=new Set($L),Ru;let e=document.createElement("input");return Ru=new Set($L.filter(t=>(e.setAttribute("type",t),e.type===t))),Ru}let tp,Rc,wS;function gl(e){return function sie(){if(null==tp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>tp=!0}))}finally{tp=tp||!1}return tp}()?e:!!e.capture}function oie(){if(null==Rc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Rc=!1,Rc;if("scrollBehavior"in document.documentElement.style)Rc=!0;else{const e=Element.prototype.scrollTo;Rc=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return Rc}function ip(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function ml(e){return e.composedPath?e.composedPath()[0]:e.target}function bS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function vl(e,...t){return t.length?t.some(i=>e[i]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function gn(e){return e<=0?()=>qs:Ai((t,i)=>{let n=0;t.subscribe(wi(i,r=>{++n<=e&&(i.next(r),e<=n&&i.complete())}))})}function qL(e){return un((t,i)=>e<=i)}function zo(e){return Ai((t,i)=>{Pn(e).subscribe(wi(i,()=>i.complete(),Qn)),!i.closed&&t.subscribe(i)})}function mn(e){return null!=e&&"false"!=`${e}`}function YL(e,t=0){return function gie(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function y0(e){return Array.isArray(e)?e:[e]}function Qi(e){return null==e?"":"string"==typeof e?e:`${e}px`}function Cl(e){return e instanceof ct?e.nativeElement:e}let vie=(()=>{class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),XL=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({providers:[vie]})}return e})();function w0(...e){const t=Mh(e),i=sA(e),{args:n,keys:r}=zO(e);if(0===n.length)return on([],t);const s=new ui(function Cie(e,t,i=Wa){return n=>{ZL(t,()=>{const{length:r}=e,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)ZL(t,()=>{const c=on(e[l],t);let d=!1;c.subscribe(wi(n,u=>{s[l]=u,d||(d=!0,a--),a||n.next(i(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}(n,t,r?o=>WO(r,o):Wa));return i?s.pipe(Sx(i)):s}function ZL(e,t,i){e?aa(i,e,t):t()}function sp(...e){return function _ie(){return Sd(1)}()(on(e,Mh(e)))}class yie extends Wt{constructor(t,i){super()}schedule(t,i=0){return this}}const b0={setInterval(e,t,...i){const{delegate:n}=b0;return n?.setInterval?n.setInterval(e,t,...i):setInterval(e,t,...i)},clearInterval(e){const{delegate:t}=b0;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class ES extends yie{constructor(t,i){super(t,i),this.scheduler=t,this.work=i,this.pending=!1}schedule(t,i=0){var n;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,i)),this.pending=!0,this.delay=i,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,i),this}requestAsyncId(t,i,n=0){return b0.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,i,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return i;null!=i&&b0.clearInterval(i)}execute(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,i);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,i){let r,n=!1;try{this.work(t)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,wo(n,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,super.unsubscribe()}}}const DS={now:()=>(DS.delegate||Date).now(),delegate:void 0};class op{constructor(t,i=op.now){this.schedulerActionCtor=t,this.now=i}schedule(t,i=0,n){return new this.schedulerActionCtor(this,t).schedule(n,i)}}op.now=DS.now;class TS extends op{constructor(t,i=op.now){super(t,i),this.actions=[],this._active=!1}flush(t){const{actions:i}=this;if(this._active)return void i.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=i.shift());if(this._active=!1,n){for(;t=i.shift();)t.unsubscribe();throw n}}}const x0=new TS(ES),wie=x0;function Fc(...e){const t=Mh(e);return Ai((i,n)=>{(t?sp(e,i,t):sp(e,i)).subscribe(n)})}const QL=new Set;let Mc,xie=(()=>{class e{constructor(i,n){this._platform=i,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Eie}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function Sie(e,t){if(!QL.has(e))try{Mc||(Mc=document.createElement("style"),t&&(Mc.nonce=t),Mc.setAttribute("type","text/css"),document.head.appendChild(Mc)),Mc.sheet&&(Mc.sheet.insertRule(`@media ${e} {body{ }}`,0),QL.add(e))}catch(i){console.error(i)}}(i,this._nonce),this._matchMedia(i)}static#e=this.\u0275fac=function(n){return new(n||e)(W(Zi),W(xw,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Eie(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let AS=(()=>{class e{constructor(i,n){this._mediaMatcher=i,this._zone=n,this._queries=new Map,this._destroySubject=new We}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return JL(y0(i)).some(r=>this._registerQuery(r).mql.matches)}observe(i){let s=w0(JL(y0(i)).map(o=>this._registerQuery(o).observable));return s=sp(s.pipe(gn(1)),s.pipe(qL(1),function bie(e,t=x0){return Ai((i,n)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,n.next(c)}};function l(){const c=o+e,d=t.now();if(d<c)return r=this.schedule(void 0,c-d),void n.add(r);a()}i.subscribe(wi(n,c=>{s=c,o=t.now(),r||(r=t.schedule(l,e),n.add(r))},()=>{a(),n.complete()},void 0,()=>{s=r=null}))})}(0))),s.pipe(Nt(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const n=this._mediaMatcher.matchMedia(i),s={observable:new ui(o=>{const a=l=>this._zone.run(()=>o.next(l));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(Fc(n),Nt(({matches:o})=>({query:i,matches:o})),zo(this._destroySubject)),mql:n};return this._queries.set(i,s),s}static#e=this.\u0275fac=function(n){return new(n||e)(W(xie),W(ze))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function JL(e){return e.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}let S0=(()=>{class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function Fie(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const n=function Rie(e){try{return e.frameElement}catch{return null}}(function Bie(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(i));if(n&&(-1===nN(n)||!this.isVisible(n)))return!1;let r=i.nodeName.toLowerCase(),s=nN(i);return i.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Lie(e){let t=e.nodeName.toLowerCase(),i="input"===t&&e.type;return"text"===i||"password"===i||"select"===t||"textarea"===t}(i))&&("audio"===r?!!i.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,n){return function Nie(e){return!function kie(e){return function Pie(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function Mie(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function Iie(e){return function Oie(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||iN(e))}(i)&&!this.isDisabled(i)&&(n?.ignoreVisibility||this.isVisible(i))}static#e=this.\u0275fac=function(n){return new(n||e)(W(Zi))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iN(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function nN(e){if(!iN(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Vie{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,i,n,r,s=!1){this._element=t,this._checker=i,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){const n=this._getFirstTabbableElement(i);return n?.focus(t),!!n}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){const i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const i=t.children;for(let n=0;n<i.length;n++){const r=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const i=t.children;for(let n=i.length-1;n>=0;n--){const r=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(gn(1)).subscribe(t)}}let E0=(()=>{class e{constructor(i,n,r){this._checker=i,this._ngZone=n,this._document=r}create(i,n=!1){return new Vie(i,this._checker,this._ngZone,this._document,n)}static#e=this.\u0275fac=function(n){return new(n||e)(W(S0),W(ze),W(rt))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hie=(()=>{class e{get enabled(){return this.focusTrap.enabled}set enabled(i){this.focusTrap.enabled=mn(i)}get autoCapture(){return this._autoCapture}set autoCapture(i){this._autoCapture=mn(i)}constructor(i,n,r){this._elementRef=i,this._focusTrapFactory=n,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(i){const n=i.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=ip(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(E0),E(rt))};static#t=this.\u0275dir=Me({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Si]})}return e})();function rN(e){return 0===e.buttons||0===e.detail}function sN(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Gie=new ge("cdk-input-modality-detector-options"),zie={ignoreKeys:[18,17,224,91,16]},Pu=gl({passive:!0,capture:!0});let Wie=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(i,n,r,s){this._platform=i,this._mostRecentTarget=null,this._modality=new Cr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ml(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(rN(o)?"keyboard":"mouse"),this._mostRecentTarget=ml(o))},this._onTouchstart=o=>{sN(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ml(o))},this._options={...zie,...s},this.modalityDetected=this._modality.pipe(qL(1)),this.modalityChanged=this.modalityDetected.pipe(cA()),i.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Pu),r.addEventListener("mousedown",this._onMousedown,Pu),r.addEventListener("touchstart",this._onTouchstart,Pu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Pu),document.removeEventListener("mousedown",this._onMousedown,Pu),document.removeEventListener("touchstart",this._onTouchstart,Pu))}static#e=this.\u0275fac=function(n){return new(n||e)(W(Zi),W(ze),W(rt),W(Gie,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Uie=new ge("liveAnnouncerElement",{providedIn:"root",factory:function jie(){return null}}),$ie=new ge("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Kie=0,aN=(()=>{class e{constructor(i,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=i||this._createLiveElement()}announce(i,...n){const r=this._defaultOptions;let s,o;return 1===n.length&&"number"==typeof n[0]?o=n[0]:[s,o]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const i="cdk-live-announcer-element",n=this._document.getElementsByClassName(i),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(i),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+Kie++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(i){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(i)&&s.setAttribute("aria-owns",o+" "+i):s.setAttribute("aria-owns",i)}}static#e=this.\u0275fac=function(n){return new(n||e)(W(Uie,8),W(ze),W(rt),W($ie,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const qie=new ge("cdk-focus-monitor-default-options"),D0=gl({passive:!0,capture:!0});let ap=(()=>{class e{constructor(i,n,r,s,o){this._ngZone=i,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new We,this._rootNodeFocusAndBlurListener=a=>{for(let c=ml(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(i,n=!1){const r=Cl(i);if(!this._platform.isBrowser||1!==r.nodeType)return Ue();const s=function lie(e){if(function aie(){if(null==wS){const e=typeof document<"u"?document.head:null;wS=!(!e||!e.createShadowRoot&&!e.attachShadow)}return wS}()){const t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;const a={checkChildren:n,subject:new We,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(i){const n=Cl(i),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(i,n,r){const s=Cl(i);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((i,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,n){i.classList.toggle("cdk-focused",!!n),i.classList.toggle("cdk-touch-focused","touch"===n),i.classList.toggle("cdk-keyboard-focused","keyboard"===n),i.classList.toggle("cdk-mouse-focused","mouse"===n),i.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(i,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,n){const r=this._elementInfo.get(n),s=ml(i);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(i,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&i.relatedTarget instanceof Node&&n.contains(i.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(i,n){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(n))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const n=i.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,D0),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,D0)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(zo(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){const n=i.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,D0),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,D0),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,n,r){this._setClasses(i,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(i){const n=[];return this._elementInfo.forEach((r,s)=>{(s===i||r.checkChildren&&s.contains(i))&&n.push([s,r])}),n}_isLastInteractionFromInputLabel(i){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===i||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName||i.disabled)return!1;const s=i.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(n))return!0;return!1}static#e=this.\u0275fac=function(n){return new(n||e)(W(ze),W(Zi),W(Wie),W(rt,8),W(qie,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lN=(()=>{class e{constructor(i,n){this._elementRef=i,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new ee}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,1===i.nodeType&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(ap))};static#t=this.\u0275dir=Me({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return e})();const cN="cdk-high-contrast-black-on-white",dN="cdk-high-contrast-white-on-black",RS="cdk-high-contrast-active";let uN=(()=>{class e{constructor(i,n){this._platform=i,this._document=n,this._breakpointSubscription=De(AS).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(i):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(RS,cN,dN),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?i.add(RS,cN):2===n&&i.add(RS,dN)}}static#e=this.\u0275fac=function(n){return new(n||e)(W(Zi),W(rt))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hN=(()=>{class e{constructor(i){i._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(n){return new(n||e)(W(uN))};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[XL]})}return e})();const Yie=["addListener","removeListener"],Xie=["addEventListener","removeEventListener"],Zie=["on","off"];function FS(e,t,i,n){if(wt(i)&&(n=i,i=void 0),n)return FS(e,t,i).pipe(Sx(n));const[r,s]=function ene(e){return wt(e.addEventListener)&&wt(e.removeEventListener)}(e)?Xie.map(o=>a=>e[o](t,a,i)):function Qie(e){return wt(e.addListener)&&wt(e.removeListener)}(e)?Yie.map(fN(e,t)):function Jie(e){return wt(e.on)&&wt(e.off)}(e)?Zie.map(fN(e,t)):[];if(!r&&iy(e))return sn(o=>FS(o,t,i))(Pn(e));if(!r)throw new TypeError("Invalid event target");return new ui(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function fN(e,t){return i=>n=>e[i](t,n)}const lp={schedule(e){let t=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:n}=lp;n&&(t=n.requestAnimationFrame,i=n.cancelAnimationFrame);const r=t(s=>{i=void 0,e(s)});return new Wt(()=>i?.(r))},requestAnimationFrame(...e){const{delegate:t}=lp;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=lp;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};new class ine extends TS{flush(t){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===i&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===i&&n.shift();)t.unsubscribe();throw r}}}(class tne extends ES{constructor(t,i){super(t,i),this.scheduler=t,this.work=i}requestAsyncId(t,i,n=0){return null!==n&&n>0?super.requestAsyncId(t,i,n):(t.actions.push(this),t._scheduled||(t._scheduled=lp.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,i,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,i,n);const{actions:s}=t;null!=i&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==i&&(lp.cancelAnimationFrame(i),t._scheduled=void 0)}});let MS,rne=1;const T0={};function pN(e){return e in T0&&(delete T0[e],!0)}const sne={setImmediate(e){const t=rne++;return T0[t]=!0,MS||(MS=Promise.resolve()),MS.then(()=>pN(t)&&e()),t},clearImmediate(e){pN(e)}},{setImmediate:one,clearImmediate:ane}=sne,A0={setImmediate(...e){const{delegate:t}=A0;return(t?.setImmediate||one)(...e)},clearImmediate(e){const{delegate:t}=A0;return(t?.clearImmediate||ane)(e)},delegate:void 0};new class cne extends TS{flush(t){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===i&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===i&&n.shift();)t.unsubscribe();throw r}}}(class lne extends ES{constructor(t,i){super(t,i),this.scheduler=t,this.work=i}requestAsyncId(t,i,n=0){return null!==n&&n>0?super.requestAsyncId(t,i,n):(t.actions.push(this),t._scheduled||(t._scheduled=A0.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,i,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,i,n);const{actions:s}=t;null!=i&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==i&&(A0.clearImmediate(i),t._scheduled===i&&(t._scheduled=void 0))}});function gN(e=0,t,i=wie){let n=-1;return null!=t&&(rA(t)?i=t:n=t),new ui(r=>{let s=function hne(e){return e instanceof Date&&!isNaN(e)}(e)?+e-i.now():e;s<0&&(s=0);let o=0;return i.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function mN(e,t=x0){return function une(e){return Ai((t,i)=>{let n=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,n){n=!1;const c=r;r=null,i.next(c)}o&&i.complete()},l=()=>{s=null,o&&i.complete()};t.subscribe(wi(i,c=>{n=!0,r=c,s||Pn(e(c)).subscribe(s=wi(i,a,l))},()=>{o=!0,(!n||!s||s.closed)&&i.complete()}))})}(()=>gN(e,t))}const fne=new ge("cdk-dir-doc",{providedIn:"root",factory:function pne(){return De(rt)}}),gne=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ea=(()=>{class e{constructor(i){this.value="ltr",this.change=new ee,i&&(this.value=function mne(e){const t=e?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?gne.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((i.body?i.body.dir:null)||(i.documentElement?i.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||e)(W(fne,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cp=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({})}return e})(),Cne=(()=>{class e{constructor(i,n,r){this._ngZone=i,this._platform=n,this._scrolled=new We,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const n=this.scrollContainers.get(i);n&&(n.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new ui(n=>{this._globalSubscription||this._addGlobalListener();const r=i>0?this._scrolled.pipe(mN(i)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ue()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(i,n){const r=this.getAncestorScrollContainers(i);return this.scrolled(n).pipe(un(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(i){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,i)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,n){let r=Cl(n),s=i.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>FS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||e)(W(ze),W(Zi),W(rt,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vN=(()=>{class e{constructor(i,n,r){this._platform=i,this._change=new We,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(i.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+r,right:i.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,n=this._getWindow(),r=i.documentElement,s=r.getBoundingClientRect();return{top:-s.top||i.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||i.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(mN(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||e)(W(Zi),W(ze),W(rt,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),R0=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({})}return e})(),CN=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[cp,R0,cp,R0]})}return e})();class kS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class kc extends kS{constructor(t,i,n,r,s){super(),this.component=t,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=s}}class IS extends kS{constructor(t,i,n,r){super(),this.templateRef=t,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class yne extends kS{constructor(t){super(),this.element=t instanceof ct?t.nativeElement:t}}class F0{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof kc?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof IS?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof yne?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class wne extends F0{constructor(t,i,n,r,s){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||ti.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let i=t.viewContainerRef,n=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);-1!==r&&i.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Ic=(()=>{class e extends F0{constructor(i,n,r){super(),this._componentFactoryResolver=i,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new ee,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);const n=null!=i.viewContainerRef?i.viewContainerRef:this._viewContainerRef,s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),o=n.createComponent(s,n.length,i.injector||n.injector,i.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=i,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(i){i.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}static#e=this.\u0275fac=function(n){return new(n||e)(E(uc),E(Sr),E(rt))};static#t=this.\u0275dir=Me({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[tt]})}return e})(),Ou=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({})}return e})();const _N=oie();class bne{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Qi(-this._previousScrollPosition.left),t.style.top=Qi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,s=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),_N&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_N&&(n.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}}class xne{constructor(t,i,n,r){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(un(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class yN{enable(){}disable(){}attach(){}}function PS(e,t){return t.some(i=>e.bottom<i.top||e.top>i.bottom||e.right<i.left||e.left>i.right)}function wN(e,t){return t.some(i=>e.top<i.top||e.bottom>i.bottom||e.left<i.left||e.right>i.right)}class Sne{constructor(t,i,n,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();PS(i,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ene=(()=>{class e{constructor(i,n,r,s){this._scrollDispatcher=i,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new yN,this.close=o=>new xne(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new bne(this._viewportRuler,this._document),this.reposition=o=>new Sne(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(n){return new(n||e)(W(Cne),W(vN),W(ze),W(rt))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class M0{constructor(t){if(this.scrollStrategy=new yN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const i=Object.keys(t);for(const n of i)void 0!==t[n]&&(this[n]=t[n])}}}class Dne{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}}let bN=(()=>{class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const n=this._attachedOverlays.indexOf(i);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(n){return new(n||e)(W(rt))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Tne=(()=>{class e extends bN{constructor(i,n){super(i),this._ngZone=n,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(n){return new(n||e)(W(rt),W(ze,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ane=(()=>{class e extends bN{constructor(i,n,r){super(i),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ml(s)},this._clickListener=s=>{const o=ml(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const d=l[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(o)||d.overlayElement.contains(a))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(s)):u.next(s)}}}add(i){if(super.add(i),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(n){return new(n||e)(W(rt),W(Zi),W(ze,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),k0=(()=>{class e{constructor(i,n){this._platform=n,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||bS()){const r=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(i),bS()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#e=this.\u0275fac=function(n){return new(n||e)(W(rt),W(Zi))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class dp{constructor(t,i,n,r,s,o,a,l,c,d=!1){this._portalOutlet=t,this._host=i,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new We,this._attachments=new We,this._detachments=new We,this._locationChanges=Wt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new We,this._outsidePointerEvents=new We,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(gn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof i?.onDestroy&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Qi(this._config.width),t.height=Qi(this._config.height),t.minWidth=Qi(this._config.minWidth),t.minHeight=Qi(this._config.minHeight),t.maxWidth=Qi(this._config.maxWidth),t.maxHeight=Qi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,n){const r=y0(i||[]).filter(s=>!!s);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(zo(ja(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const xN="cdk-overlay-connected-position-bounding-box",Rne=/([A-Za-z%]+)$/;class SN{get positions(){return this._preferredPositions}constructor(t,i,n,r,s){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new We,this._resizeSubscription=Wt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(xN),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,i=this._overlayRect,n=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,i,a),d=this._getOverlayFit(c,i,n,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(d,c,n)?s.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:i})}if(s.length){let a=null,l=-1;for(const c of s){const d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Pc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,n){let r,s;if("center"==n.originX)r=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==n.originX?o:a}return i.left<0&&(r-=i.left),s="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,i.top<0&&(s-=i.top),{x:r,y:s}}_getOverlayPoint(t,i,n){let r,s;return r="center"==n.overlayX?-i.width/2:"start"===n.overlayX?this._isRtl()?-i.width:0:this._isRtl()?0:-i.width,s="center"==n.overlayY?-i.height/2:"top"==n.overlayY?0:-i.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,i,n,r){const s=DN(i);let{x:o,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-n.height,g=this._subtractOverflows(s.width,0-o,o+s.width-n.width),p=this._subtractOverflows(s.height,h,f),m=g*p;return{visibleArea:m,isCompletelyWithinViewport:s.width*s.height===m,fitsInViewportVertically:p===s.height,fitsInViewportHorizontally:g==s.width}}_canFitWithFlexibleDimensions(t,i,n){if(this._hasFlexibleDimensions){const r=n.bottom-i.y,s=n.right-i.x,o=EN(this._overlayRef.getConfig().minHeight),a=EN(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(t,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=DN(i),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),l=Math.max(s.top-n.top-t.y,0),c=Math.max(s.left-n.left-t.x,0);let d=0,u=0;return d=r.width<=s.width?c||-o:t.x<this._viewportMargin?s.left-n.left-t.x:0,u=r.height<=s.height?l||-a:t.y<this._viewportMargin?s.top-n.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new Dne(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const i=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<i.length;s++)i[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,i){const n=this._viewportRect,r=this._isRtl();let s,o,a,d,u,h;if("top"===i.overlayY)o=t.y,s=n.height-o+this._viewportMargin;else if("bottom"===i.overlayY)a=n.height-t.y+2*this._viewportMargin,s=n.height-a+this._viewportMargin;else{const f=Math.min(n.bottom-t.y+n.top,t.y),g=this._lastBoundingBoxSize.height;s=2*f,o=t.y-f,s>g&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-g/2)}if("end"===i.overlayX&&!r||"start"===i.overlayX&&r)h=n.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===i.overlayX&&!r||"end"===i.overlayX&&r)u=t.x,d=n.right-t.x;else{const f=Math.min(n.right-t.x+n.left,t.x),g=this._lastBoundingBoxSize.width;d=2*f,u=t.x-f,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-g/2)}return{top:o,left:u,bottom:a,right:h,width:d,height:s}}_setBoundingBoxStyles(t,i){const n=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Qi(n.height),r.top=Qi(n.top),r.bottom=Qi(n.bottom),r.width=Qi(n.width),r.left=Qi(n.left),r.right=Qi(n.right),r.alignItems="center"===i.overlayX?"center":"end"===i.overlayX?"flex-end":"flex-start",r.justifyContent="center"===i.overlayY?"center":"bottom"===i.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Qi(s)),o&&(r.maxWidth=Qi(o))}this._lastBoundingBoxSize=n,Pc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Pc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Pc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();Pc(n,this._getExactOverlayY(i,t,d)),Pc(n,this._getExactOverlayX(i,t,d))}else n.position="static";let a="",l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),o.maxHeight&&(r?n.maxHeight=Qi(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=Qi(o.maxWidth):s&&(n.maxWidth="")),Pc(this._pane.style,n)}_getExactOverlayY(t,i,n){let r={top:"",bottom:""},s=this._getOverlayPoint(i,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Qi(s.y),r}_getExactOverlayX(t,i,n){let o,r={left:"",right:""},s=this._getOverlayPoint(i,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Qi(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wN(t,n),isOriginOutsideView:PS(t,n),isOverlayClipped:wN(i,n),isOverlayOutsideView:PS(i,n)}}_subtractOverflows(t,...i){return i.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return"x"===i?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&y0(t).forEach(i=>{""!==i&&-1===this._appliedPanelClasses.indexOf(i)&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ct)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const i=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+i,height:n,width:i}}}function Pc(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function EN(e){if("number"!=typeof e&&null!=e){const[t,i]=e.split(Rne);return i&&"px"!==i?null:parseFloat(t)}return e||null}function DN(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const TN="cdk-global-overlay-wrapper";class Fne{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(TN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=n,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,u=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",g="",p="";l?p="flex-start":"center"===d?(p="center",h?g=u:f=u):h?"left"===d||"end"===d?(p="flex-end",f=u):("right"===d||"start"===d)&&(p="flex-start",g=u):"left"===d||"start"===d?(p="flex-start",f=u):("right"===d||"end"===d)&&(p="flex-end",g=u),t.position=this._cssPosition,t.marginLeft=l?"0":f,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":g,i.justifyContent=p,i.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(TN),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Mne=(()=>{class e{constructor(i,n,r,s){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new Fne}flexibleConnectedTo(i){return new SN(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(n){return new(n||e)(W(vN),W(rt),W(Zi),W(k0))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kne=0,co=(()=>{class e{constructor(i,n,r,s,o,a,l,c,d,u,h,f){this.scrollStrategies=i,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=d,this._location=u,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(i){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),o=new M0(i);return o.direction=o.direction||this._directionality.value,new dp(s,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(i){const n=this._document.createElement("div");return n.id="cdk-overlay-"+kne++,n.classList.add("cdk-overlay-pane"),i.appendChild(n),n}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(No)),new wne(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(n){return new(n||e)(W(Ene),W(k0),W(uc),W(Mne),W(Tne),W(ti),W(ze),W(rt),W(Ea),W(Lf),W(Ane),W(Ro,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const One={provide:new ge("cdk-connected-overlay-scroll-strategy"),deps:[co],useFactory:function Pne(e){return()=>e.scrollStrategies.reposition()}};let up=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({providers:[co,One],imports:[cp,Ou,CN,CN]})}return e})();const Nne=new ge("mat-sanity-checks",{providedIn:"root",factory:function Lne(){return!0}});let fn=(()=>{class e{constructor(i,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!bS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}static#e=this.\u0275fac=function(n){return new(n||e)(W(uN),W(Nne,8),W(rt))};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[cp,cp]})}return e})();function Bne(e){return class extends e{get disabled(){return this._disabled}set disabled(t){this._disabled=mn(t)}constructor(...t){super(...t),this._disabled=!1}}}function FN(e,t){return class extends e{get color(){return this._color}set color(i){const n=i||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...i){super(...i),this.defaultColor=t,this.color=t}}}function Vne(e){return class extends e{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function MN(e){return class extends e{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const Hne=new ge("MAT_DATE_LOCALE",{providedIn:"root",factory:function Gne(){return De(Lo)}});class zi{constructor(){this._localeChanges=new We,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,i){return this.getYear(t)-this.getYear(i)||this.getMonth(t)-this.getMonth(i)||this.getDate(t)-this.getDate(i)}sameDate(t,i){if(t&&i){let n=this.isValid(t),r=this.isValid(i);return n&&r?!this.compareDate(t,i):n==r}return t==i}clampDate(t,i,n){return i&&this.compareDate(t,i)<0?i:n&&this.compareDate(t,n)>0?n:t}}const Wo=new ge("mat-date-formats"),zne=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function OS(e,t){const i=Array(e);for(let n=0;n<e;n++)i[n]=t(n);return i}let Wne=(()=>{class e extends zi{constructor(i,n){super(),this.useUtcForDisplay=!1,super.setLocale(i)}getYear(i){return i.getFullYear()}getMonth(i){return i.getMonth()}getDate(i){return i.getDate()}getDayOfWeek(i){return i.getDay()}getMonthNames(i){const n=new Intl.DateTimeFormat(this.locale,{month:i,timeZone:"utc"});return OS(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){const i=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return OS(31,n=>this._format(i,new Date(2017,0,n+1)))}getDayOfWeekNames(i){const n=new Intl.DateTimeFormat(this.locale,{weekday:i,timeZone:"utc"});return OS(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(i){const n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,i)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(i){return this.getDate(this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+1,0))}clone(i){return new Date(i.getTime())}createDate(i,n,r){let s=this._createDateWithOverflow(i,n,r);return s.getMonth(),s}today(){return new Date}parse(i,n){return"number"==typeof i?new Date(i):i?new Date(Date.parse(i)):null}format(i,n){if(!this.isValid(i))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...n,timeZone:"utc"});return this._format(r,i)}addCalendarYears(i,n){return this.addCalendarMonths(i,12*n)}addCalendarMonths(i,n){let r=this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+n,this.getDate(i));return this.getMonth(r)!=((this.getMonth(i)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(i,n){return this._createDateWithOverflow(this.getYear(i),this.getMonth(i),this.getDate(i)+n)}toIso8601(i){return[i.getUTCFullYear(),this._2digit(i.getUTCMonth()+1),this._2digit(i.getUTCDate())].join("-")}deserialize(i){if("string"==typeof i){if(!i)return null;if(zne.test(i)){let n=new Date(i);if(this.isValid(n))return n}}return super.deserialize(i)}isDateInstance(i){return i instanceof Date}isValid(i){return!isNaN(i.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(i,n,r){const s=new Date;return s.setFullYear(i,n,r),s.setHours(0,0,0,0),s}_2digit(i){return("00"+i).slice(-2)}_format(i,n){const r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),i.format(r)}static#e=this.\u0275fac=function(n){return new(n||e)(W(Hne,8),W(Zi))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();const Une={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let jne=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({providers:[{provide:zi,useClass:Wne}]})}return e})(),$ne=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({providers:[{provide:Wo,useValue:Une}],imports:[jne]})}return e})(),I0=(()=>{class e{isErrorState(i,n){return!!(i&&i.invalid&&(i.touched||n&&n.submitted))}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Kne{constructor(t,i,n,r=!1){this._renderer=t,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kN=gl({passive:!0,capture:!0});class qne{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const i=ml(t);i&&this._events.get(t.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(s=>s.handleEvent(t))})}}addHandler(t,i,n,r){const s=this._events.get(i);if(s){const o=s.get(n);o?o.add(r):s.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,kN)})}removeHandler(t,i,n){const r=this._events.get(t);if(!r)return;const s=r.get(i);s&&(s.delete(n),0===s.size&&r.delete(i),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,kN)))}}const IN={enterDuration:225,exitDuration:150},PN=gl({passive:!0,capture:!0}),ON=["mousedown","touchstart"],LN=["mouseup","mouseleave","touchend","touchcancel"];class P0{static#e=this._eventManager=new qne;constructor(t,i,n,r){this._target=t,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Cl(n))}fadeInRipple(t,i,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...IN,...n.animation};n.centered&&(t=r.left+r.width/2,i=r.top+r.height/2);const o=n.radius||function Xne(e,t,i){const n=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),r=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(n*n+r*r)}(t,i,r),a=t-r.left,l=i-r.top,c=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-o+"px",d.style.top=l-o+"px",d.style.height=2*o+"px",d.style.width=2*o+"px",null!=n.color&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);const u=window.getComputedStyle(d),f=u.transitionDuration,g="none"===u.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,p=new Kne(this,d,n,g);d.style.transform="scale3d(1, 1, 1)",p.state=0,n.persistent||(this._mostRecentTransientRipple=p);let m=null;return!g&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const C=()=>this._finishRippleTransition(p),v=()=>this._destroyRipple(p);d.addEventListener("transitionend",C),d.addEventListener("transitioncancel",v),m={onTransitionEnd:C,onTransitionCancel:v}}),this._activeRipples.set(p,m),(g||!c)&&this._finishRippleTransition(p),p}fadeOutRipple(t){if(2===t.state||3===t.state)return;const i=t.element,n={...IN,...t.config.animation};i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const i=Cl(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,ON.forEach(n=>{P0._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{LN.forEach(i=>{this._triggerElement.addEventListener(i,this,PN)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const i=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==i&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel)),t.element.remove()}_onMousedown(t){const i=rN(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!sN(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=t.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(ON.forEach(i=>P0._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&LN.forEach(i=>t.removeEventListener(i,this,PN)))}}const NN=new ge("mat-ripple-global-options");let Zne=(()=>{class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,n,r,s,o){this._elementRef=i,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new P0(this,n,i,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,n=0,r){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...i})}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(ze),E(Zi),E(NN,8),E(Ro,8))};static#t=this.\u0275dir=Me({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&si("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})(),BN=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[fn,fn]})}return e})(),Qne=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[fn]})}return e})(),VN=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[BN,ba,fn,Qne]})}return e})();const HN={capture:!0},GN=["focus","click","mouseenter","touchstart"],LS="mat-ripple-loader-uninitialized",NS="mat-ripple-loader-class-name",zN="mat-ripple-loader-centered",O0="mat-ripple-loader-disabled";let Jne=(()=>{class e{constructor(){this._document=De(rt,{optional:!0}),this._animationMode=De(Ro,{optional:!0}),this._globalRippleOptions=De(NN,{optional:!0}),this._platform=De(Zi),this._ngZone=De(ze),this._hosts=new Map,this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;const r=i.target.closest(`[${LS}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const i of GN)this._document?.addEventListener(i,this._onInteraction,HN)})}ngOnDestroy(){const i=this._hosts.keys();for(const n of i)this.destroyRipple(n);for(const n of GN)this._document?.removeEventListener(n,this._onInteraction,HN)}configureRipple(i,n){i.setAttribute(LS,""),(n.className||!i.hasAttribute(NS))&&i.setAttribute(NS,n.className||""),n.centered&&i.setAttribute(zN,""),n.disabled&&i.setAttribute(O0,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,n){const r=this._hosts.get(i);r?r.disabled=n:n?i.setAttribute(O0,""):i.removeAttribute(O0)}_createRipple(i){if(!this._document)return;const n=this._hosts.get(i);if(n)return n;i.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",i.getAttribute(NS)),i.append(r);const s=new Zne(new ct(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(zN),s.disabled=i.hasAttribute(O0),this.attachRipple(i,s),s}attachRipple(i,n){i.removeAttribute(LS),this._hosts.set(i,n)}destroyRipple(i){const n=this._hosts.get(i);n&&(n.ngOnDestroy(),this._hosts.delete(i))}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ere=["mat-button",""],tre=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],ire=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],rre=["mat-icon-button",""],sre=["*"],ore=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],are=FN(Bne(Vne(class{constructor(e){this._elementRef=e}})));let WN=(()=>{class e extends are{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=mn(i),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=mn(i),this._updateRippleDisabled()}constructor(i,n,r,s){super(i),this._platform=n,this._ngZone=r,this._animationMode=s,this._focusMonitor=De(ap),this._rippleLoader=De(Jne),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const o=i.nativeElement.classList;for(const a of ore)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{o.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",n){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...i){return i.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(n){hf()};static#t=this.\u0275dir=Me({type:e,features:[tt]})}return e})(),BS=(()=>{class e extends WN{constructor(i,n,r,s){super(i,n,r,s)}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(Zi),E(ze),E(Ro,8))};static#t=this.\u0275cmp=et({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(At("disabled",r.disabled||null),si("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[tt],attrs:ere,ngContentSelectors:ire,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(ys(tre),ie(0,"span",0),li(1),y(2,"span",1),li(3,1),w(),li(4,2),ie(5,"span",2)(6,"span",3)),2&n&&si("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),UN=(()=>{class e extends WN{constructor(i,n,r,s){super(i,n,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(Zi),E(ze),E(Ro,8))};static#t=this.\u0275cmp=et({type:e,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(At("disabled",r.disabled||null),si("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[tt],attrs:rre,ngContentSelectors:sre,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(ys(),ie(0,"span",0),li(1),ie(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),jN=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[fn,BN,fn]})}return e})();class dre extends We{constructor(t=1/0,i=1/0,n=DS){super(),this._bufferSize=t,this._windowTime=i,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,i)}next(t){const{isStopped:i,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;i||(n.push(t),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=n?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),i}_trimBuffer(){const{_bufferSize:t,_timestampProvider:i,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<n.length&&n.splice(0,n.length-s),!r){const o=i.now();let a=0;for(let l=1;l<n.length&&n[l]<=o;l+=2)a=l;a&&n.splice(0,a+1)}}}class hre{constructor(t){this._box=t,this._destroyed=new We,this._resizeSubject=new We,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new ui(i=>{const n=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(un(i=>i.some(n=>n.target===t)),function ure(e,t,i){let n,r=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:i}=e):n=e??1/0,ry({connector:()=>new dre(n,t,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0}),zo(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let fre=(()=>{class e{constructor(){this._observers=new Map,this._ngZone=De(ze)}ngOnDestroy(){for(const[,i]of this._observers)i.destroy();this._observers.clear()}observe(i,n){const r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new hre(r)),this._observers.get(r).observe(i)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pre=["notch"],gre=["matFormFieldNotchedOutline",""],mre=["*"],vre=["textField"],Cre=["iconPrefixContainer"],_re=["textPrefixContainer"];function yre(e,t){1&e&&ie(0,"span",19)}function wre(e,t){if(1&e&&(y(0,"label",17),li(1,1),xe(2,yre,1,0,"span",18),w()),2&e){const i=Se(2);U("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),At("for",i._control.id),L(2),U("ngIf",!i.hideRequiredMarker&&i._control.required)}}function bre(e,t){1&e&&xe(0,wre,3,5,"label",16),2&e&&U("ngIf",Se()._hasFloatingLabel())}function xre(e,t){1&e&&ie(0,"div",20)}function Sre(e,t){}function Ere(e,t){1&e&&xe(0,Sre,0,0,"ng-template",22),2&e&&(Se(2),U("ngTemplateOutlet",wf(1)))}function Dre(e,t){if(1&e&&(y(0,"div",21),xe(1,Ere,1,1,"ng-template",9),w()),2&e){const i=Se();U("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),L(1),U("ngIf",!i._forceDisplayInfixLabel())}}function Tre(e,t){1&e&&(y(0,"div",23,24),li(2,2),w())}function Are(e,t){1&e&&(y(0,"div",25,26),li(2,3),w())}function Rre(e,t){}function Fre(e,t){1&e&&xe(0,Rre,0,0,"ng-template",22),2&e&&(Se(),U("ngTemplateOutlet",wf(1)))}function Mre(e,t){1&e&&(y(0,"div",27),li(1,4),w())}function kre(e,t){1&e&&(y(0,"div",28),li(1,5),w())}function Ire(e,t){1&e&&ie(0,"div",29)}function Pre(e,t){1&e&&(y(0,"div",30),li(1,6),w()),2&e&&U("@transitionMessages",Se()._subscriptAnimationState)}function Ore(e,t){if(1&e&&(y(0,"mat-hint",34),F(1),w()),2&e){const i=Se(2);U("id",i._hintLabelId),L(1),mi(i.hintLabel)}}function Lre(e,t){if(1&e&&(y(0,"div",31),xe(1,Ore,2,2,"mat-hint",32),li(2,7),ie(3,"div",33),li(4,8),w()),2&e){const i=Se();U("@transitionMessages",i._subscriptAnimationState),L(1),U("ngIf",i.hintLabel)}}const Nre=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Bre=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let fp=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,selectors:[["mat-label"]]})}return e})();const Vre=new ge("MatError");let Hre=0,VS=(()=>{class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+Hre++}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){2&n&&(Ca("id",r.id),At("align",null),si("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return e})();const Gre=new ge("MatPrefix"),$N=new ge("MatSuffix");let KN=(()=>{class e{constructor(){this._isText=!1}set _isTextSelector(i){this._isText=!0}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Rt([{provide:$N,useExisting:e}])]})}return e})();const qN=new ge("FloatingLabelParent");let YN=(()=>{class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=De(fre),this._ngZone=De(ze),this._parent=De(qN),this._resizeSubscription=new Wt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function zre(e){if(null!==e.offsetParent)return e.scrollWidth;const i=e.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);const n=i.scrollWidth;return i.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct))};static#t=this.\u0275dir=Me({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){2&n&&si("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return e})();const XN="mdc-line-ripple--active",L0="mdc-line-ripple--deactivating";let ZN=(()=>{class e{constructor(i,n){this._elementRef=i,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(L0);"opacity"===r.propertyName&&o&&s.remove(XN,L0)},n.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const i=this._elementRef.nativeElement.classList;i.remove(L0),i.add(XN)}deactivate(){this._elementRef.nativeElement.classList.add(L0)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(ze))};static#t=this.\u0275dir=Me({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return e})(),QN=(()=>{class e{constructor(i,n){this._elementRef=i,this._ngZone=n,this.open=!1}ngAfterViewInit(){const i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){this._notch.nativeElement.style.width=this.open&&i?`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(ze))};static#t=this.\u0275cmp=et({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(1&n&&qi(pre,5),2&n){let s;jt(s=$t())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){2&n&&si("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:gre,ngContentSelectors:mre,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(n,r){1&n&&(ys(),ie(0,"div",0),y(1,"div",1,2),li(3),w(),ie(4,"div",3))},encapsulation:2,changeDetection:0})}return e})();const Wre={transitionMessages:ao("transitionMessages",[Tr("enter",Bt({opacity:1,transform:"translateY(0%)"})),Xi("void => enter",[Bt({opacity:0,transform:"translateY(-5px)"}),hn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let HS=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e})}return e})();const N0=new ge("MatFormField"),Ure=new ge("MAT_FORM_FIELD_DEFAULT_OPTIONS");let JN=0,GS=(()=>{class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=mn(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){const n=this._appearance;this._appearance=i||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,n,r,s,o,a,l,c){this._elementRef=i,this._changeDetectorRef=n,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+JN++,this._hintLabelId="mat-mdc-hint-"+JN++,this._subscriptAnimationState="",this._destroyed=new We,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${i.controlType}`),i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(zo(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ja(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zo(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(zo(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(i){const n=this._control?this._control.ngControl:null;return n&&n[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&i.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?i.push(n.id):this._hintLabel&&i.push(this._hintLabelId),r&&i.push(r.id)}else this._errorChildren&&i.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const i=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(i.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=n?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;i.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const i=this._elementRef.nativeElement;if(i.getRootNode){const n=i.getRootNode();return n&&n!==i}return document.documentElement.contains(i)}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(Bn),E(ze),E(Ea),E(Zi),E(Ure,8),E(Ro,8),E(rt))};static#t=this.\u0275cmp=et({type:e,selectors:[["mat-form-field"]],contentQueries:function(n,r,s){if(1&n&&(ws(s,fp,5),ws(s,fp,7),ws(s,HS,5),ws(s,Gre,5),ws(s,$N,5),ws(s,Vre,5),ws(s,VS,5)),2&n){let o;jt(o=$t())&&(r._labelChildNonStatic=o.first),jt(o=$t())&&(r._labelChildStatic=o.first),jt(o=$t())&&(r._formFieldControl=o.first),jt(o=$t())&&(r._prefixChildren=o),jt(o=$t())&&(r._suffixChildren=o),jt(o=$t())&&(r._errorChildren=o),jt(o=$t())&&(r._hintChildren=o)}},viewQuery:function(n,r){if(1&n&&(qi(vre,5),qi(Cre,5),qi(_re,5),qi(YN,5),qi(QN,5),qi(ZN,5)),2&n){let s;jt(s=$t())&&(r._textField=s.first),jt(s=$t())&&(r._iconPrefixContainer=s.first),jt(s=$t())&&(r._textPrefixContainer=s.first),jt(s=$t())&&(r._floatingLabel=s.first),jt(s=$t())&&(r._notchedOutline=s.first),jt(s=$t())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){2&n&&si("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Rt([{provide:N0,useExisting:e},{provide:qN,useExisting:e}])],ngContentSelectors:Bre,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(n,r){1&n&&(ys(Nre),xe(0,bre,1,1,"ng-template",null,0,qI),y(2,"div",1,2),ye("click",function(o){return r._control.onContainerClick(o)}),xe(4,xre,1,0,"div",3),y(5,"div",4),xe(6,Dre,2,2,"div",5),xe(7,Tre,3,0,"div",6),xe(8,Are,3,0,"div",7),y(9,"div",8),xe(10,Fre,1,1,"ng-template",9),li(11),w(),xe(12,Mre,2,0,"div",10),xe(13,kre,2,0,"div",11),w(),xe(14,Ire,1,0,"div",12),w(),y(15,"div",13),xe(16,Pre,2,1,"div",14),xe(17,Lre,5,2,"div",15),w()),2&n&&(L(2),si("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),L(2),U("ngIf",!r._hasOutline()&&!r._control.disabled),L(2),U("ngIf",r._hasOutline()),L(1),U("ngIf",r._hasIconPrefix),L(1),U("ngIf",r._hasTextPrefix),L(2),U("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),L(2),U("ngIf",r._hasTextSuffix),L(1),U("ngIf",r._hasIconSuffix),L(1),U("ngIf",!r._hasOutline()),L(1),si("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),U("ngSwitch",r._getDisplayedMessages()),L(1),U("ngSwitchCase","error"),L(1),U("ngSwitchCase","hint"))},dependencies:[Dr,pO,bu,Ov,VS,YN,QN,ZN],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Wre.transitionMessages]},changeDetection:0})}return e})(),B0=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[fn,ba,XL,fn]})}return e})();const iB=gl({passive:!0});let Kre=(()=>{class e{constructor(i,n){this._platform=i,this._ngZone=n,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return qs;const n=Cl(i),r=this._monitoredElements.get(n);if(r)return r.subject;const s=new We,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(n.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,iB),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",a,iB)}}),s}stopMonitoring(i){const n=Cl(i),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((i,n)=>this.stopMonitoring(n))}static#e=this.\u0275fac=function(n){return new(n||e)(W(Zi),W(ze))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qre=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({})}return e})();const nB=new ge("MAT_INPUT_VALUE_ACCESSOR"),Yre=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Xre=0;const Zre=MN(class{constructor(e,t,i,n){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=n,this.stateChanges=new We}});let rB=(()=>{class e extends Zre{get disabled(){return this._disabled}set disabled(i){this._disabled=mn(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(oi.required)??!1}set required(i){this._required=mn(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&KL().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=mn(i)}constructor(i,n,r,s,o,a,l,c,d,u){super(a,s,o,r),this._elementRef=i,this._platform=n,this._autofillMonitor=c,this._formField=u,this._uid="mat-input-"+Xre++,this.focused=!1,this.stateChanges=new We,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(g=>KL().has(g)),this._iOSKeyupListener=g=>{const p=g.target;!p.value&&0===p.selectionStart&&0===p.selectionEnd&&(p.setSelectionRange(1,1),p.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&d.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){const i=this._getPlaceholder();if(i!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=i,i?n.setAttribute("placeholder",i):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Yre.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const i=this._elementRef.nativeElement,n=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(Zi),E(Ho,10),E(cl,8),E(Zr,8),E(I0),E(nB,10),E(Kre),E(ze),E(N0,8))};static#t=this.\u0275dir=Me({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){1&n&&ye("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&n&&(Ca("id",r.id)("disabled",r.disabled)("required",r.required),At("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),si("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Rt([{provide:HS,useExisting:e}]),tt,Si]})}return e})(),Qre=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[fn,B0,B0,qre,fn]})}return e})();const Jre=["mat-calendar-body",""];function ese(e,t){if(1&e&&(y(0,"tr",3)(1,"td",4),F(2),w()()),2&e){const i=Se();L(1),Kr("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),At("colspan",i.numCols),L(1),Xe(" ",i.label," ")}}function tse(e,t){if(1&e&&(y(0,"td",4),F(1),w()),2&e){const i=Se(2);Kr("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),At("colspan",i._firstRowOffset),L(1),Xe(" ",i._firstRowOffset>=i.labelMinRequiredCells?i.label:""," ")}}function ise(e,t){if(1&e){const i=Fi();y(0,"td",8)(1,"button",9),ye("click",function(r){const o=Dt(i).$implicit;return Tt(Se(2)._cellClicked(o,r))})("focus",function(r){const o=Dt(i).$implicit;return Tt(Se(2)._emitActiveDateChange(o,r))}),y(2,"span",10),F(3),w(),ie(4,"span",11),w()()}if(2&e){const i=t.$implicit,n=t.index,r=Se().index,s=Se();Kr("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),At("data-mat-row",r)("data-mat-col",n),L(1),si("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",s._isActiveCell(r,n))("mat-calendar-body-range-start",s._isRangeStart(i.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",s._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(i.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(i.compareValue,r,n))("mat-calendar-body-comparison-start",s._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",s._isInPreview(i.compareValue)),U("ngClass",i.cssClasses)("tabindex",s._isActiveCell(r,n)?0:-1),At("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-pressed",s._isSelected(i.compareValue))("aria-current",s.todayValue===i.compareValue?"date":null)("aria-describedby",s._getDescribedby(i.compareValue)),L(1),si("mat-calendar-body-selected",s._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",s.todayValue===i.compareValue),L(1),Xe(" ",i.displayValue," ")}}function nse(e,t){if(1&e&&(y(0,"tr",5),xe(1,tse,2,6,"td",6),xe(2,ise,5,48,"td",7),w()),2&e){const i=t.$implicit,n=t.index,r=Se();L(1),U("ngIf",0===n&&r._firstRowOffset),L(1),U("ngForOf",i)}}function rse(e,t){if(1&e&&(y(0,"th",5)(1,"span",6),F(2),w(),y(3,"span",7),F(4),w()()),2&e){const i=t.$implicit;L(2),mi(i.long),L(2),mi(i.narrow)}}const sse=["*"];function ose(e,t){}function ase(e,t){if(1&e){const i=Fi();y(0,"mat-month-view",5),ye("activeDateChange",function(r){return Dt(i),Tt(Se().activeDate=r)})("_userSelection",function(r){return Dt(i),Tt(Se()._dateSelected(r))})("dragStarted",function(r){return Dt(i),Tt(Se()._dragStarted(r))})("dragEnded",function(r){return Dt(i),Tt(Se()._dragEnded(r))}),w()}if(2&e){const i=Se();U("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName)("activeDrag",i._activeDrag)}}function lse(e,t){if(1&e){const i=Fi();y(0,"mat-year-view",6),ye("activeDateChange",function(r){return Dt(i),Tt(Se().activeDate=r)})("monthSelected",function(r){return Dt(i),Tt(Se()._monthSelectedInYearView(r))})("selectedChange",function(r){return Dt(i),Tt(Se()._goToDateInView(r,"month"))}),w()}if(2&e){const i=Se();U("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function cse(e,t){if(1&e){const i=Fi();y(0,"mat-multi-year-view",7),ye("activeDateChange",function(r){return Dt(i),Tt(Se().activeDate=r)})("yearSelected",function(r){return Dt(i),Tt(Se()._yearSelectedInMultiYearView(r))})("selectedChange",function(r){return Dt(i),Tt(Se()._goToDateInView(r,"year"))}),w()}if(2&e){const i=Se();U("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function dse(e,t){}const use=["button"];function hse(e,t){1&e&&(vs(),y(0,"svg",3),ie(1,"path",4),w())}const fse=[[["","matDatepickerToggleIcon",""]]],pse=["[matDatepickerToggleIcon]"],gse=[[["input","matStartDate",""]],[["input","matEndDate",""]]],mse=["input[matStartDate]","input[matEndDate]"];let pp=(()=>{class e{constructor(){this.changes=new We,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(i,n){return`${i} \u2013 ${n}`}formatYearRangeLabel(i,n){return`${i} to ${n}`}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class zS{constructor(t,i,n,r,s={},o=t,a){this.value=t,this.displayValue=i,this.ariaLabel=n,this.enabled=r,this.cssClasses=s,this.compareValue=o,this.rawValue=a}}let vse=1;const sB=gl({passive:!1,capture:!0}),_l=gl({passive:!0,capture:!0}),V0=gl({passive:!0});let Lu=(()=>{class e{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(i,n){this._elementRef=i,this._ngZone=n,this._platform=De(Zi),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new ee,this.previewChange=new ee,this.activeDateChange=new ee,this.dragStarted=new ee,this.dragEnded=new ee,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const s=oB(r),o=s?this._getCellFromElement(s):null;s!==r.target&&(this._didDragSinceMouseDown=!0),US(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=r.target&&this._getCellFromElement(r.target);!s||!this._isInRange(s.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const s=US(r.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const o=this._getCellFromElement(s);this.dragEnded.emit({value:o?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const s=oB(r);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+vse++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,n.runOutsideAngular(()=>{const r=i.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,sB),r.addEventListener("mouseenter",this._enterHandler,_l),r.addEventListener("focus",this._enterHandler,_l),r.addEventListener("mouseleave",this._leaveHandler,_l),r.addEventListener("blur",this._leaveHandler,_l),r.addEventListener("mousedown",this._mousedownHandler,V0),r.addEventListener("touchstart",this._mousedownHandler,V0),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(i,n){this._didDragSinceMouseDown||i.enabled&&this.selectedValueChange.emit({value:i.value,event:n})}_emitActiveDateChange(i,n){i.enabled&&this.activeDateChange.emit({value:i.value,event:n})}_isSelected(i){return this.startValue===i||this.endValue===i}ngOnChanges(i){const n=i.numCols,{rows:r,numCols:s}=this;(i.rows||n)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(i.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(n||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const i=this._elementRef.nativeElement;i.removeEventListener("touchmove",this._touchmoveHandler,sB),i.removeEventListener("mouseenter",this._enterHandler,_l),i.removeEventListener("focus",this._enterHandler,_l),i.removeEventListener("mouseleave",this._leaveHandler,_l),i.removeEventListener("blur",this._leaveHandler,_l),i.removeEventListener("mousedown",this._mousedownHandler,V0),i.removeEventListener("touchstart",this._mousedownHandler,V0),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(i,n){let r=i*this.numCols+n;return i&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(i=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(gn(1)).subscribe(()=>{setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(i||(this._skipNextFocus=!0),n.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(i){return jS(i,this.startValue,this.endValue)}_isRangeEnd(i){return $S(i,this.startValue,this.endValue)}_isInRange(i){return KS(i,this.startValue,this.endValue,this.isRange)}_isComparisonStart(i){return jS(i,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(i,n,r){if(!this._isComparisonStart(i)||this._isRangeStart(i)||!this._isInRange(i))return!1;let s=this.rows[n][r-1];if(!s){const o=this.rows[n-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(i,n,r){if(!this._isComparisonEnd(i)||this._isRangeEnd(i)||!this._isInRange(i))return!1;let s=this.rows[n][r+1];if(!s){const o=this.rows[n+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(i){return $S(i,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(i){return KS(i,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(i){return this.comparisonStart===this.comparisonEnd&&i===this.comparisonStart}_isPreviewStart(i){return jS(i,this.previewStart,this.previewEnd)}_isPreviewEnd(i){return $S(i,this.previewStart,this.previewEnd)}_isInPreview(i){return KS(i,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(i){return this.isRange?this.startValue===i&&this.endValue===i?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===i?this._startDateLabelId:this.endValue===i?this._endDateLabelId:null:null}_getCellFromElement(i){const n=US(i);if(n){const r=n.getAttribute("data-mat-row"),s=n.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(ze))};static#t=this.\u0275cmp=et({type:e,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Si],attrs:Jre,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,r){1&n&&(xe(0,ese,3,6,"tr",0),xe(1,nse,3,2,"tr",1),y(2,"label",2),F(3),w(),y(4,"label",2),F(5),w()),2&n&&(U("ngIf",r._firstRowOffset<r.labelMinRequiredCells),L(1),U("ngForOf",r.rows),L(1),U("id",r._startDateLabelId),L(1),Xe(" ",r.startDateAccessibleName,"\n"),L(1),U("id",r._endDateLabelId),L(1),Xe(" ",r.endDateAccessibleName,"\n"))},dependencies:[wu,Bo,Dr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return e})();function WS(e){return"TD"===e?.nodeName}function US(e){let t;return WS(e)?t=e:WS(e.parentNode)?t=e.parentNode:WS(e.parentNode?.parentNode)&&(t=e.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function jS(e,t,i){return null!==i&&t!==i&&e<i&&e===t}function $S(e,t,i){return null!==t&&t!==i&&e>=t&&e===i}function KS(e,t,i,n){return n&&null!==t&&null!==i&&t!==i&&e>=t&&e<=i}function oB(e){const t=e.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class Fn{constructor(t,i){this.start=t,this.end=i}}let yl=(()=>{class e{constructor(i,n){this.selection=i,this._adapter=n,this._selectionChanged=new We,this.selectionChanged=this._selectionChanged,this.selection=i}updateSelection(i,n){const r=this.selection;this.selection=i,this._selectionChanged.next({selection:i,source:n,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(i){return this._adapter.isDateInstance(i)&&this._adapter.isValid(i)}static#e=this.\u0275fac=function(n){hf()};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})(),Cse=(()=>{class e extends yl{constructor(i){super(null,i)}add(i){super.updateSelection(i,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const i=new e(this._adapter);return i.updateSelection(this.selection,this),i}static#e=this.\u0275fac=function(n){return new(n||e)(W(zi))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})(),_se=(()=>{class e extends yl{constructor(i){super(new Fn(null,null),i)}add(i){let{start:n,end:r}=this.selection;null==n?n=i:null==r?r=i:(n=i,r=null),super.updateSelection(new Fn(n,r),this)}isValid(){const{start:i,end:n}=this.selection;return null==i&&null==n||(null!=i&&null!=n?this._isValidDateInstance(i)&&this._isValidDateInstance(n)&&this._adapter.compareDate(i,n)<=0:(null==i||this._isValidDateInstance(i))&&(null==n||this._isValidDateInstance(n)))}isComplete(){return null!=this.selection.start&&null!=this.selection.end}clone(){const i=new e(this._adapter);return i.updateSelection(this.selection,this),i}static#e=this.\u0275fac=function(n){return new(n||e)(W(zi))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();const aB={provide:yl,deps:[[new oc,new ac,yl],zi],useFactory:function yse(e,t){return e||new Cse(t)}},bse={provide:yl,deps:[[new oc,new ac,yl],zi],useFactory:function wse(e,t){return e||new _se(t)}},H0=new ge("MAT_DATE_RANGE_SELECTION_STRATEGY");let xse=(()=>{class e{constructor(i){this._dateAdapter=i}selectionFinished(i,n){let{start:r,end:s}=n;return null==r?r=i:null==s&&i&&this._dateAdapter.compareDate(i,r)>=0?s=i:(r=i,s=null),new Fn(r,s)}createPreview(i,n){let r=null,s=null;return n.start&&!n.end&&i&&(r=n.start,s=i),new Fn(r,s)}createDrag(i,n,r){let s=n.start,o=n.end;if(!s||!o)return null;const a=this._dateAdapter,l=0!==a.compareDate(s,o),c=a.getYear(r)-a.getYear(i),d=a.getMonth(r)-a.getMonth(i),u=a.getDate(r)-a.getDate(i);return l&&a.sameDate(i,n.start)?(s=r,a.compareDate(r,o)>0&&(o=a.addCalendarYears(o,c),o=a.addCalendarMonths(o,d),o=a.addCalendarDays(o,u))):l&&a.sameDate(i,n.end)?(o=r,a.compareDate(r,s)<0&&(s=a.addCalendarYears(s,c),s=a.addCalendarMonths(s,d),s=a.addCalendarDays(s,u))):(s=a.addCalendarYears(s,c),s=a.addCalendarMonths(s,d),s=a.addCalendarDays(s,u),o=a.addCalendarYears(o,c),o=a.addCalendarMonths(o,d),o=a.addCalendarDays(o,u)),new Fn(s,o)}static#e=this.\u0275fac=function(n){return new(n||e)(W(zi))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();const Ese={provide:H0,deps:[[new oc,new ac,H0],zi],useFactory:function Sse(e,t){return e||new xse(t)}};let lB=(()=>{class e{get activeDate(){return this._activeDate}set activeDate(i){const n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof Fn?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,n,r,s,o){this._changeDetectorRef=i,this._dateFormats=n,this._dateAdapter=r,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=Wt.EMPTY,this.activeDrag=null,this.selectedChange=new ee,this._userSelection=new ee,this.dragStarted=new ee,this.dragEnded=new ee,this.activeDateChange=new ee,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Fc(null)).subscribe(()=>this._init())}ngOnChanges(i){const n=i.comparisonStart||i.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),i.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(i){const n=i.value,r=this._getDateFromDayOfMonth(n);let s,o;this._selected instanceof Fn?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),(s!==n||o!==n)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:i.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(i){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(i.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(i){const n=this._activeDate,r=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&i.preventDefault());case 27:return void(null!=this._previewEnd&&!vl(i)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:i}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:i})),i.preventDefault(),i.stopPropagation()));default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(i)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(i){this._matCalendarBody._focusActiveCell(i)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:i,value:n}){if(this._rangeStrategy){const r=n?n.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,i);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){const o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,i);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(i){if(this.activeDrag)if(i.value){const n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,i.value,i.event);this.dragEnded.emit({value:n??null,event:i.event})}else this.dragEnded.emit({value:null,event:i.event})}_getDateFromDayOfMonth(i){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i)}_initWeekdays(){const i=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,a)=>({long:o,narrow:n[a]}));this._weekdays=s.slice(i).concat(s.slice(0,i))}_createWeekCells(){const i=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<i;r++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),a=this._shouldEnableDate(o),l=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new zS(r+1,n[r],l,a,c,this._getCellCompareValue(o),o))}}_shouldEnableDate(i){return!!i&&(!this.minDate||this._dateAdapter.compareDate(i,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(i,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(i))}_getDateInCurrentMonth(i){return i&&this._hasSameMonthAndYear(i,this.activeDate)?this._dateAdapter.getDate(i):null}_hasSameMonthAndYear(i,n){return!(!i||!n||this._dateAdapter.getMonth(i)!=this._dateAdapter.getMonth(n)||this._dateAdapter.getYear(i)!=this._dateAdapter.getYear(n))}_getCellCompareValue(i){if(i){const n=this._dateAdapter.getYear(i),r=this._dateAdapter.getMonth(i),s=this._dateAdapter.getDate(i);return new Date(n,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(i){i instanceof Fn?(this._rangeStart=this._getCellCompareValue(i.start),this._rangeEnd=this._getCellCompareValue(i.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(i),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(i){return!this.dateFilter||this.dateFilter(i)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(n){return new(n||e)(E(Bn),E(Wo,8),E(zi,8),E(Ea,8),E(H0,8))};static#t=this.\u0275cmp=et({type:e,selectors:[["mat-month-view"]],viewQuery:function(n,r){if(1&n&&qi(Lu,5),2&n){let s;jt(s=$t())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Si],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(n,r){1&n&&(y(0,"table",0)(1,"thead",1)(2,"tr"),xe(3,rse,5,2,"th",2),w(),y(4,"tr"),ie(5,"th",3),w()(),y(6,"tbody",4),ye("selectedValueChange",function(o){return r._dateSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("previewChange",function(o){return r._previewChanged(o)})("dragStarted",function(o){return r.dragStarted.emit(o)})("dragEnded",function(o){return r._dragEnded(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),w()()),2&n&&(L(3),U("ngForOf",r._weekdays),L(3),U("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Bo,Lu],encapsulation:2,changeDetection:0})}return e})();const es=24;let cB=(()=>{class e{get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),dB(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof Fn?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedYear(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,n,r){this._changeDetectorRef=i,this._dateAdapter=n,this._dir=r,this._rerenderSubscription=Wt.EMPTY,this.selectedChange=new ee,this.yearSelected=new ee,this.activeDateChange=new ee,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Fc(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const n=this._dateAdapter.getYear(this._activeDate)-gp(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<es;r++)s.push(n+r),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(i){const n=i.value,r=this._dateAdapter.createDate(n,0,1),s=this._getDateFromYear(n);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(i){const r=this._activeDate;this.activeDate=this._getDateFromYear(i.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){const n=this._activeDate,r=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-gp(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,es-gp(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10*-es:-es);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10*es:es);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_getActiveCell(){return gp(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(i){const n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,n,1));return this._dateAdapter.createDate(i,n,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(i){const n=this._dateAdapter.createDate(i,0,1),r=this._dateAdapter.getYearName(n),s=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new zS(i,r,r,this._shouldEnableYear(i),s)}_shouldEnableYear(i){if(null==i||this.maxDate&&i>this._dateAdapter.getYear(this.maxDate)||this.minDate&&i<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(i,0,1);this._dateAdapter.getYear(r)==i;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(i){if(this._selectedYear=null,i instanceof Fn){const n=i.start||i.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else i&&(this._selectedYear=this._dateAdapter.getYear(i))}static#e=this.\u0275fac=function(n){return new(n||e)(E(Bn),E(zi,8),E(Ea,8))};static#t=this.\u0275cmp=et({type:e,selectors:[["mat-multi-year-view"]],viewQuery:function(n,r){if(1&n&&qi(Lu,5),2&n){let s;jt(s=$t())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(n,r){1&n&&(y(0,"table",0)(1,"thead",1)(2,"tr"),ie(3,"th",2),w()(),y(4,"tbody",3),ye("selectedValueChange",function(o){return r._yearSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),w()()),2&n&&(L(4),U("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Lu],encapsulation:2,changeDetection:0})}return e})();function dB(e,t,i,n,r){const s=e.getYear(t),o=e.getYear(i),a=uB(e,n,r);return Math.floor((s-a)/es)===Math.floor((o-a)/es)}function gp(e,t,i,n){return function Dse(e,t){return(e%t+t)%t}(e.getYear(t)-uB(e,i,n),es)}function uB(e,t,i){let n=0;return i?n=e.getYear(i)-es+1:t&&(n=e.getYear(t)),n}let hB=(()=>{class e{get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof Fn?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedMonth(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,n,r,s){this._changeDetectorRef=i,this._dateFormats=n,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Wt.EMPTY,this.selectedChange=new ee,this.monthSelected=new ee,this.activeDateChange=new ee,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Fc(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(i){const n=i.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(n);this.selectedChange.emit(s)}_updateActiveDate(i){const r=this._activeDate;this.activeDate=this._getDateFromMonth(i.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){const n=this._activeDate,r=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let i=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(r=>this._createCellForMonth(r,i[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(i){return i&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(i):null}_getDateFromMonth(i){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),r=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(i,n){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(r,"year"):void 0;return new zS(i,n.toLocaleUpperCase(),s,this._shouldEnableMonth(i),o)}_shouldEnableMonth(i){const n=this._dateAdapter.getYear(this.activeDate);if(null==i||this._isYearAndMonthAfterMaxDate(n,i)||this._isYearAndMonthBeforeMinDate(n,i))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(n,i,1);this._dateAdapter.getMonth(s)==i;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(i,n){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return i>r||i===r&&n>s}return!1}_isYearAndMonthBeforeMinDate(i,n){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return i<r||i===r&&n<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(i){this._selectedMonth=i instanceof Fn?this._getMonthInCurrentYear(i.start)||this._getMonthInCurrentYear(i.end):this._getMonthInCurrentYear(i)}static#e=this.\u0275fac=function(n){return new(n||e)(E(Bn),E(Wo,8),E(zi,8),E(Ea,8))};static#t=this.\u0275cmp=et({type:e,selectors:[["mat-year-view"]],viewQuery:function(n,r){if(1&n&&qi(Lu,5),2&n){let s;jt(s=$t())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(n,r){1&n&&(y(0,"table",0)(1,"thead",1)(2,"tr"),ie(3,"th",2),w()(),y(4,"tbody",3),ye("selectedValueChange",function(o){return r._monthSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),w()()),2&n&&(L(4),U("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Lu],encapsulation:2,changeDetection:0})}return e})(),Tse=1,Ase=(()=>{class e{constructor(i,n,r,s,o){this._intl=i,this.calendar=n,this._dateAdapter=r,this._dateFormats=s,this._id="mat-calendar-header-"+Tse++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-es)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:es)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(i,n){return"month"==this.calendar.currentView?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(n):"year"==this.calendar.currentView?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n):dB(this._dateAdapter,i,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const n=this._dateAdapter.getYear(this.calendar.activeDate)-gp(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=n+es-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}static#e=this.\u0275fac=function(n){return new(n||e)(E(pp),E(ei(()=>mp)),E(zi,8),E(Wo,8),E(Bn))};static#t=this.\u0275cmp=et({type:e,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:sse,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(n,r){1&n&&(ys(),y(0,"div",0)(1,"div",1)(2,"button",2),ye("click",function(){return r.currentPeriodClicked()}),y(3,"span",3),F(4),w(),vs(),y(5,"svg",4),ie(6,"polygon",5),w()(),Js(),ie(7,"div",6),li(8),y(9,"button",7),ye("click",function(){return r.previousClicked()}),w(),y(10,"button",8),ye("click",function(){return r.nextClicked()}),w()()(),y(11,"label",9),F(12),w()),2&n&&(L(2),At("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),L(2),mi(r.periodButtonText),L(1),si("mat-calendar-invert","month"!==r.calendar.currentView),L(4),U("disabled",!r.previousEnabled()),At("aria-label",r.prevButtonLabel),L(1),U("disabled",!r.nextEnabled()),At("aria-label",r.nextButtonLabel),L(1),U("id",r._periodButtonLabelId),L(1),mi(r.periodButtonDescription))},dependencies:[BS,UN],encapsulation:2,changeDetection:0})}return e})(),mp=(()=>{class e{get startAt(){return this._startAt}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get selected(){return this._selected}set selected(i){this._selected=i instanceof Fn?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get activeDate(){return this._clampedActiveDate}set activeDate(i){this._clampedActiveDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(i){const n=this._currentView!==i?i:null;this._currentView=i,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}constructor(i,n,r,s){this._dateAdapter=n,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new ee,this.yearSelected=new ee,this.monthSelected=new ee,this.viewChanged=new ee(!0),this._userSelection=new ee,this._userDragDrop=new ee,this._activeDrag=null,this.stateChanges=new We,this._intlChanges=i.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new kc(this.headerComponent||Ase),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(i){const n=i.minDate&&!this._dateAdapter.sameDate(i.minDate.previousValue,i.minDate.currentValue)?i.minDate:void 0,r=i.maxDate&&!this._dateAdapter.sameDate(i.maxDate.previousValue,i.maxDate.currentValue)?i.maxDate:void 0,s=n||r||i.dateFilter;if(s&&!s.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(i){const n=i.value;(this.selected instanceof Fn||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(i)}_yearSelectedInMultiYearView(i){this.yearSelected.emit(i)}_monthSelectedInYearView(i){this.monthSelected.emit(i)}_goToDateInView(i,n){this.activeDate=i,this.currentView=n}_dragStarted(i){this._activeDrag=i}_dragEnded(i){this._activeDrag&&(i.value&&this._userDragDrop.emit(i),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(n){return new(n||e)(E(pp),E(zi,8),E(Wo,8),E(Bn))};static#t=this.\u0275cmp=et({type:e,selectors:[["mat-calendar"]],viewQuery:function(n,r){if(1&n&&(qi(lB,5),qi(hB,5),qi(cB,5)),2&n){let s;jt(s=$t())&&(r.monthView=s.first),jt(s=$t())&&(r.yearView=s.first),jt(s=$t())&&(r.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Rt([aB]),Si],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(n,r){1&n&&(xe(0,ose,0,0,"ng-template",0),y(1,"div",1),xe(2,ase,1,11,"mat-month-view",2),xe(3,lse,1,6,"mat-year-view",3),xe(4,cse,1,6,"mat-multi-year-view",4),w()),2&n&&(U("cdkPortalOutlet",r._calendarHeaderPortal),L(1),U("ngSwitch",r.currentView),L(1),U("ngSwitchCase","month"),L(1),U("ngSwitchCase","year"),L(1),U("ngSwitchCase","multi-year"))},dependencies:[bu,Ov,lN,Ic,lB,hB,cB],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return e})();const fB={transformPanel:ao("transformPanel",[Xi("void => enter-dropdown",hn("120ms cubic-bezier(0, 0, 0.2, 1)",uL([Bt({opacity:0,transform:"scale(1, 0.8)"}),Bt({opacity:1,transform:"scale(1, 1)"})]))),Xi("void => enter-dialog",hn("150ms cubic-bezier(0, 0, 0.2, 1)",uL([Bt({opacity:0,transform:"scale(0.7)"}),Bt({transform:"none",opacity:1})]))),Xi("* => void",hn("100ms linear",Bt({opacity:0})))]),fadeInCalendar:ao("fadeInCalendar",[Tr("void",Bt({opacity:0})),Tr("enter",Bt({opacity:1})),Xi("void => *",hn("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Rse=0;const pB=new ge("mat-datepicker-scroll-strategy"),Mse={provide:pB,deps:[co],useFactory:function Fse(e){return()=>e.scrollStrategies.reposition()}},kse=FN(class{constructor(e){this._elementRef=e}});let Ise=(()=>{class e extends kse{constructor(i,n,r,s,o,a){super(i),this._changeDetectorRef=n,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=o,this._subscriptions=new Wt,this._animationDone=new We,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=a.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(i){const n=this._model.selection,r=i.value,s=n instanceof Fn;if(s&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(r,n,i.event);this._model.updateSelection(o,this)}else r&&(s||!this._dateAdapter.sameDate(r,n))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(i){this._model.updateSelection(i.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(i){this._isAnimating="start"===i.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(i,n){this._model=i?this._globalModel.clone():this._globalModel,this._actionsPortal=i,n&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(Bn),E(yl),E(zi),E(H0,8),E(pp))};static#t=this.\u0275cmp=et({type:e,selectors:[["mat-datepicker-content"]],viewQuery:function(n,r){if(1&n&&qi(mp,5),2&n){let s;jt(s=$t())&&(r._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(n,r){1&n&&sv("@transformPanel.start",function(o){return r._handleAnimationEvent(o)})("@transformPanel.done",function(o){return r._handleAnimationEvent(o)}),2&n&&(Sf("@transformPanel",r._animationState),si("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[tt],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(n,r){if(1&n&&(y(0,"div",0)(1,"mat-calendar",1),ye("yearSelected",function(o){return r.datepicker._selectYear(o)})("monthSelected",function(o){return r.datepicker._selectMonth(o)})("viewChanged",function(o){return r.datepicker._viewChanged(o)})("_userSelection",function(o){return r._handleUserSelection(o)})("_userDragDrop",function(o){return r._handleUserDragDrop(o)}),w(),xe(2,dse,0,0,"ng-template",2),y(3,"button",3),ye("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),F(4),w()()),2&n){let s;si("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),At("aria-modal",!0)("aria-labelledby",null!==(s=r._dialogLabelId)&&void 0!==s?s:void 0),L(1),U("id",r.datepicker.id)("ngClass",r.datepicker.panelClass)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),L(1),U("cdkPortalOutlet",r._actionsPortal),L(1),si("cdk-visually-hidden",!r._closeButtonFocused),U("color",r.color||"primary"),L(1),mi(r._closeButtonText)}},dependencies:[wu,BS,Hie,Ic,mp],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[fB.transformPanel,fB.fadeInCalendar]},changeDetection:0})}return e})(),G0=(()=>{class e{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(i){this._color=i}get touchUi(){return this._touchUi}set touchUi(i){this._touchUi=mn(i)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(i){const n=mn(i);n!==this._disabled&&(this._disabled=n,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(i){this._restoreFocus=mn(i)}get panelClass(){return this._panelClass}set panelClass(i){this._panelClass=function mie(e,t=/\s+/){const i=[];if(null!=e){const n=Array.isArray(e)?e:`${e}`.split(t);for(const r of n){const s=`${r}`.trim();s&&i.push(s)}}return i}(i)}get opened(){return this._opened}set opened(i){mn(i)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(i,n,r,s,o,a,l){this._overlay=i,this._ngZone=n,this._viewContainerRef=r,this._dateAdapter=o,this._dir=a,this._model=l,this._inputStateChanges=Wt.EMPTY,this._document=De(rt),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new ee,this.monthSelected=new ee,this.viewChanged=new ee(!0),this.openedStream=new ee,this.closedStream=new ee,this._opened=!1,this.id="mat-datepicker-"+Rse++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new We,this._scrollStrategy=s}ngOnChanges(i){const n=i.xPosition||i.yPosition;if(n&&!n.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof SN&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(i){this._model.add(i)}_selectYear(i){this.yearSelected.emit(i)}_selectMonth(i){this.monthSelected.emit(i)}_viewChanged(i){this.viewChanged.emit(i)}registerInput(i){return this._inputStateChanges.unsubscribe(),this.datepickerInput=i,this._inputStateChanges=i.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(i){this._actionsPortal=i,this._componentRef?.instance._assignActions(i,!0)}removeActions(i){i===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=ip(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const i=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(gn(1)).subscribe(()=>{const o=this._document.activeElement;i&&(!o||o===this._document.activeElement||s.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}i?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(i){i.datepicker=this,i.color=this.color,i._dialogLabelId=this.datepickerInput.getOverlayLabelId(),i._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const i=this.touchUi,n=new kc(Ise,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new M0({positionStrategy:i?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[i?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:i?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(i?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const o=s.keyCode;(38===o||40===o||37===o||39===o||33===o||34===o)&&s.preventDefault()}),this._componentRef=r.attach(n),this._forwardContentValues(this._componentRef.instance),i||this._ngZone.onStable.pipe(gn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const i=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(i)}_setConnectedPositions(i){const n="end"===this.xPosition?"end":"start",r="start"===n?"end":"start",s="above"===this.yPosition?"bottom":"top",o="top"===s?"bottom":"top";return i.withPositions([{originX:n,originY:o,overlayX:n,overlayY:s},{originX:n,originY:s,overlayX:n,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o}])}_getCloseStream(i){const n=["ctrlKey","shiftKey","metaKey"];return ja(i.backdropClick(),i.detachments(),i.keydownEvents().pipe(un(r=>27===r.keyCode&&!vl(r)||this.datepickerInput&&vl(r,"altKey")&&38===r.keyCode&&n.every(s=>!vl(r,s)))))}static#e=this.\u0275fac=function(n){return new(n||e)(E(co),E(ze),E(Sr),E(pB),E(zi,8),E(Ea,8),E(yl))};static#t=this.\u0275dir=Me({type:e,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Si]})}return e})(),Pse=(()=>{class e extends G0{static#e=this.\u0275fac=function(){let i;return function(r){return(i||(i=Hi(e)))(r||e)}}();static#t=this.\u0275cmp=et({type:e,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Rt([aB,{provide:G0,useExisting:e}]),tt],decls:0,vars:0,template:function(n,r){},encapsulation:2,changeDetection:0})}return e})();class z0{constructor(t,i){this.target=t,this.targetElement=i,this.value=this.target.value}}let gB=(()=>{class e{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(i){this._assignValueProgrammatically(i)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(i){const n=mn(i),r=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(i){this._model=i,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){const r=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new z0(this,this._elementRef.nativeElement)),this.dateChange.emit(new z0(this,this._elementRef.nativeElement))}})}constructor(i,n,r){this._elementRef=i,this._dateAdapter=n,this._dateFormats=r,this.dateChange=new ee,this.dateInput=new ee,this.stateChanges=new We,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Wt.EMPTY,this._localeSubscription=Wt.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),a=this._getMinDate();return!a||!o||this._dateAdapter.compareDate(a,o)<=0?null:{matDatepickerMin:{min:a,actual:o}}},this._maxValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),a=this._getMaxDate();return!a||!o||this._dateAdapter.compareDate(a,o)>=0?null:{matDatepickerMax:{max:a,actual:o}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(i){mB(i,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(i){this._validatorOnChange=i}validate(i){return this._validator?this._validator(i):null}writeValue(i){this._assignValueProgrammatically(i)}registerOnChange(i){this._cvaOnChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_onKeydown(i){vl(i,"altKey")&&40===i.keyCode&&["ctrlKey","shiftKey","metaKey"].every(s=>!vl(i,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),i.preventDefault())}_onInput(i){const n=this._lastValueValid;let r=this._dateAdapter.parse(i,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(i&&!this.value&&this._cvaOnChange(r),n!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new z0(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new z0(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(i){this._elementRef.nativeElement.value=null!=i?this._dateAdapter.format(i,this._dateFormats.display.dateInput):""}_assignValue(i){this._model?(this._assignValueToModel(i),this._pendingValue=null):this._pendingValue=i}_isValidValue(i){return!i||this._dateAdapter.isValid(i)}_parentDisabled(){return!1}_assignValueProgrammatically(i){i=this._dateAdapter.deserialize(i),this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i),this._assignValue(i),this._formatValue(i)}_matchesFilter(i){const n=this._getDateFilter();return!n||n(i)}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(zi,8),E(Wo,8))};static#t=this.\u0275dir=Me({type:e,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Si]})}return e})();function mB(e,t){const i=Object.keys(e);for(let n of i){const{previousValue:r,currentValue:s}=e[n];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1}const Ose={provide:Xr,useExisting:ei(()=>XS),multi:!0},Lse={provide:dn,useExisting:ei(()=>XS),multi:!0};let XS=(()=>{class e extends gB{set matDatepicker(i){i&&(this._datepicker=i,this._closedSubscription=i.closedStream.subscribe(()=>this._onTouched()),this._registerModel(i.registerInput(this)))}get min(){return this._min}set min(i){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}get max(){return this._max}set max(i){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(i){const n=this._matchesFilter(this.value);this._dateFilter=i,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}constructor(i,n,r,s){super(i,n,r),this._formField=s,this._closedSubscription=Wt.EMPTY,this._validator=oi.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(i){return i}_assignValueToModel(i){this._model&&this._model.updateSelection(i,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(i){return i.source!==this}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(zi,8),E(Wo,8),E(N0,8))};static#t=this.\u0275dir=Me({type:e,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,r){1&n&&ye("input",function(o){return r._onInput(o.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(o){return r._onKeydown(o)}),2&n&&(Ca("disabled",r.disabled),At("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",(null==r._datepicker?null:r._datepicker.opened)&&r._datepicker.id||null)("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Rt([Ose,Lse,{provide:nB,useExisting:e}]),tt]})}return e})(),Nse=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,selectors:[["","matDatepickerToggleIcon",""]]})}return e})(),vB=(()=>{class e{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(i){this._disabled=mn(i)}constructor(i,n,r){this._intl=i,this._changeDetectorRef=n,this._stateChanges=Wt.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}ngOnChanges(i){i.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(i){this.datepicker&&!this.disabled&&(this.datepicker.open(),i.stopPropagation())}_watchStateChanges(){const i=this.datepicker?this.datepicker.stateChanges:Ue(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Ue(),r=this.datepicker?ja(this.datepicker.openedStream,this.datepicker.closedStream):Ue();this._stateChanges.unsubscribe(),this._stateChanges=ja(this._intl.changes,i,n,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(n){return new(n||e)(E(pp),E(Bn),Yh("tabindex"))};static#t=this.\u0275cmp=et({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,r,s){if(1&n&&ws(s,Nse,5),2&n){let o;jt(o=$t())&&(r._customIcon=o.first)}},viewQuery:function(n,r){if(1&n&&qi(use,5),2&n){let s;jt(s=$t())&&(r._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,r){1&n&&ye("click",function(o){return r._open(o)}),2&n&&(At("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),si("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&"accent"===r.datepicker.color)("mat-warn",r.datepicker&&"warn"===r.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Si],ngContentSelectors:pse,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,r){1&n&&(ys(fse),y(0,"button",0,1),xe(2,hse,2,0,"svg",2),li(3),w()),2&n&&(U("disabled",r.disabled)("disableRipple",r.disableRipple),At("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),L(2),U("ngIf",!r._customIcon))},dependencies:[Dr,UN],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return e})();function Bse(e){return ZS(e,!0)}function CB(e){return e.nodeType===Node.ELEMENT_NODE}function ZS(e,t){if(CB(e)&&t){const n=(e.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((r,s)=>{const o=document.getElementById(s);return o&&r.push(o),r},[]);if(n.length)return n.map(r=>ZS(r,!1)).join(" ")}if(CB(e)){const i=e.getAttribute("aria-label")?.trim();if(i)return i}if(function Vse(e){return"INPUT"===e.nodeName}(e)||function Hse(e){return"TEXTAREA"===e.nodeName}(e)){if(e.labels?.length)return Array.from(e.labels).map(r=>ZS(r,!1)).join(" ");const i=e.getAttribute("placeholder")?.trim();if(i)return i;const n=e.getAttribute("title")?.trim();if(n)return n}return(e.textContent||"").replace(/\s+/g," ").trim()}const W0=new ge("MAT_DATE_RANGE_INPUT_PARENT"),_B=MN((()=>{class e extends gB{constructor(i,n,r,s,o,a,l,c){super(n,l,c),this._rangeInput=i,this._elementRef=n,this._defaultErrorStateMatcher=r,this._injector=s,this._parentForm=o,this._parentFormGroup=a,this._dir=De(Ea,{optional:!0})}ngOnInit(){const i=this._injector.get(Ho,null,{optional:!0,self:!0});i&&(this.ngControl=i)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){const i=this._elementRef.nativeElement,n=i.value;return n.length>0?n:i.placeholder}_onInput(i){super._onInput(i),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:i}){return i!==this._rangeInput._startInput&&i!==this._rangeInput._endInput}_assignValueProgrammatically(i){super._assignValueProgrammatically(i),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_getAccessibleName(){return Bse(this._elementRef.nativeElement)}static#e=this.\u0275fac=function(n){return new(n||e)(E(W0),E(ct),E(I0),E(ti),E(cl,8),E(Zr,8),E(zi,8),E(Wo,8))};static#t=this.\u0275dir=Me({type:e,features:[tt]})}return e})());let yB=(()=>{class e extends _B{constructor(i,n,r,s,o,a,l,c){super(i,n,r,s,o,a,l,c),this._startValidator=d=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d.value)),h=this._model?this._model.selection.end:null;return!u||!h||this._dateAdapter.compareDate(u,h)<=0?null:{matStartDateInvalid:{end:h,actual:u}}},this._validator=oi.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(i){return i.start}_shouldHandleChangeEvent(i){return!(!super._shouldHandleChangeEvent(i)||(i.oldValue?.start?i.selection.start&&!this._dateAdapter.compareDate(i.oldValue.start,i.selection.start):!i.selection.start))}_assignValueToModel(i){if(this._model){const n=new Fn(i,this._model.selection.end);this._model.updateSelection(n,this)}}_formatValue(i){super._formatValue(i),this._rangeInput._handleChildValueChange()}_onKeydown(i){const n=this._rangeInput._endInput,r=this._elementRef.nativeElement,s="rtl"!==this._dir?.value;(39===i.keyCode&&s||37===i.keyCode&&!s)&&r.selectionStart===r.value.length&&r.selectionEnd===r.value.length?(i.preventDefault(),n._elementRef.nativeElement.setSelectionRange(0,0),n.focus()):super._onKeydown(i)}static#e=this.\u0275fac=function(n){return new(n||e)(E(W0),E(ct),E(I0),E(ti),E(cl,8),E(Zr,8),E(zi,8),E(Wo,8))};static#t=this.\u0275dir=Me({type:e,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(n,r){1&n&&ye("input",function(o){return r._onInput(o.target.value)})("change",function(){return r._onChange()})("keydown",function(o){return r._onKeydown(o)})("blur",function(){return r._onBlur()}),2&n&&(Ca("disabled",r.disabled),At("aria-haspopup",r._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==r._rangeInput.rangePicker?null:r._rangeInput.rangePicker.opened)&&r._rangeInput.rangePicker.id||null)("min",r._getMinDate()?r._dateAdapter.toIso8601(r._getMinDate()):null)("max",r._getMaxDate()?r._dateAdapter.toIso8601(r._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Rt([{provide:Xr,useExisting:e,multi:!0},{provide:dn,useExisting:e,multi:!0}]),tt]})}return e})(),wB=(()=>{class e extends _B{constructor(i,n,r,s,o,a,l,c){super(i,n,r,s,o,a,l,c),this._endValidator=d=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d.value)),h=this._model?this._model.selection.start:null;return!u||!h||this._dateAdapter.compareDate(u,h)>=0?null:{matEndDateInvalid:{start:h,actual:u}}},this._validator=oi.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(i){return i.end}_shouldHandleChangeEvent(i){return!(!super._shouldHandleChangeEvent(i)||(i.oldValue?.end?i.selection.end&&!this._dateAdapter.compareDate(i.oldValue.end,i.selection.end):!i.selection.end))}_assignValueToModel(i){if(this._model){const n=new Fn(this._model.selection.start,i);this._model.updateSelection(n,this)}}_onKeydown(i){const n=this._rangeInput._startInput,r=this._elementRef.nativeElement,s="rtl"!==this._dir?.value;if(8!==i.keyCode||r.value)if((37===i.keyCode&&s||39===i.keyCode&&!s)&&0===r.selectionStart&&0===r.selectionEnd){i.preventDefault();const o=n._elementRef.nativeElement.value.length;n._elementRef.nativeElement.setSelectionRange(o,o),n.focus()}else super._onKeydown(i);else n.focus()}static#e=this.\u0275fac=function(n){return new(n||e)(E(W0),E(ct),E(I0),E(ti),E(cl,8),E(Zr,8),E(zi,8),E(Wo,8))};static#t=this.\u0275dir=Me({type:e,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(n,r){1&n&&ye("input",function(o){return r._onInput(o.target.value)})("change",function(){return r._onChange()})("keydown",function(o){return r._onKeydown(o)})("blur",function(){return r._onBlur()}),2&n&&(Ca("disabled",r.disabled),At("aria-haspopup",r._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==r._rangeInput.rangePicker?null:r._rangeInput.rangePicker.opened)&&r._rangeInput.rangePicker.id||null)("min",r._getMinDate()?r._dateAdapter.toIso8601(r._getMinDate()):null)("max",r._getMaxDate()?r._dateAdapter.toIso8601(r._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Rt([{provide:Xr,useExisting:e,multi:!0},{provide:dn,useExisting:e,multi:!0}]),tt]})}return e})(),Gse=0,zse=(()=>{class e{get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){const i=this._startInput?._getPlaceholder()||"",n=this._endInput?._getPlaceholder()||"";return i||n?`${i} ${this.separator} ${n}`:""}get rangePicker(){return this._rangePicker}set rangePicker(i){i&&(this._model=i.registerInput(this),this._rangePicker=i,this._closedSubscription.unsubscribe(),this._closedSubscription=i.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched()}),this._registerModel(this._model))}get required(){return this._required??(this._isTargetRequired(this)||this._isTargetRequired(this._startInput)||this._isTargetRequired(this._endInput))??!1}set required(i){this._required=mn(i)}get dateFilter(){return this._dateFilter}set dateFilter(i){const n=this._startInput,r=this._endInput,s=n&&n._matchesFilter(n.value),o=r&&r._matchesFilter(n.value);this._dateFilter=i,n&&n._matchesFilter(n.value)!==s&&n._validatorOnChange(),r&&r._matchesFilter(r.value)!==o&&r._validatorOnChange()}get min(){return this._min}set min(i){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._revalidate())}get max(){return this._max}set max(i){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(i){const n=mn(i);n!==this._groupDisabled&&(this._groupDisabled=n,this.stateChanges.next(void 0))}get errorState(){return!(!this._startInput||!this._endInput)&&(this._startInput.errorState||this._endInput.errorState)}get empty(){const i=!!this._startInput&&this._startInput.isEmpty(),n=!!this._endInput&&this._endInput.isEmpty();return i&&n}constructor(i,n,r,s,o){this._changeDetectorRef=i,this._elementRef=n,this._dateAdapter=s,this._formField=o,this._closedSubscription=Wt.EMPTY,this.id="mat-date-range-input-"+Gse++,this.focused=!1,this.controlType="mat-date-range-input",this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new We,o?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")&&n.nativeElement.classList.add("mat-mdc-input-element","mat-mdc-form-field-input-control","mdc-text-field__input"),this.ngControl=r}setDescribedByIds(i){this._ariaDescribedBy=i.length?i.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(this._model&&this._model.selection.start?this._endInput.focus():this._startInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),ja(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(i){mB(i,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(i){const n="start"===i?this._startInput:this._endInput;return n?n.getMirrorValue():""}_shouldHidePlaceholders(){return!!this._startInput&&!this._startInput.isEmpty()}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){const i=this._formField;return i&&i._hasFloatingLabel()?i._labelId:null}_getStartDateAccessibleName(){return this._startInput._getAccessibleName()}_getEndDateAccessibleName(){return this._endInput._getAccessibleName()}_updateFocus(i){this.focused=null!==i,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(i){this._startInput&&this._startInput._registerModel(i),this._endInput&&this._endInput._registerModel(i)}_isTargetRequired(i){return i?.ngControl?.control?.hasValidator(oi.required)}static#e=this.\u0275fac=function(n){return new(n||e)(E(Bn),E(ct),E(Vn,10),E(zi,8),E(N0,8))};static#t=this.\u0275cmp=et({type:e,selectors:[["mat-date-range-input"]],contentQueries:function(n,r,s){if(1&n&&(ws(s,yB,5),ws(s,wB,5)),2&n){let o;jt(o=$t())&&(r._startInput=o.first),jt(o=$t())&&(r._endInput=o.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(n,r){2&n&&(At("id",r.id)("aria-labelledby",r._getAriaLabelledby())("aria-describedby",r._ariaDescribedBy)("data-mat-calendar",r.rangePicker?r.rangePicker.id:null),si("mat-date-range-input-hide-placeholders",r._shouldHidePlaceholders())("mat-date-range-input-required",r.required))},inputs:{rangePicker:"rangePicker",required:"required",dateFilter:"dateFilter",min:"min",max:"max",disabled:"disabled",separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],features:[Rt([{provide:HS,useExisting:e},{provide:W0,useExisting:e}]),Si],ngContentSelectors:mse,decls:11,vars:5,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-wrapper","mat-date-range-input-end-wrapper"]],template:function(n,r){1&n&&(ys(gse),y(0,"div",0),ye("cdkFocusChange",function(o){return r._updateFocus(o)}),y(1,"div",1),li(2),y(3,"span",2),F(4),w()(),y(5,"span",3),F(6),w(),y(7,"div",4),li(8,1),y(9,"span",2),F(10),w()()()),2&n&&(L(4),mi(r._getInputMirrorValue("start")),L(1),si("mat-date-range-input-separator-hidden",r._shouldHideSeparator()),L(1),mi(r.separator),L(4),mi(r._getInputMirrorValue("end")))},dependencies:[lN],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px;color:var(--mat-datepicker-range-input-separator-color)}.mat-form-field-disabled .mat-date-range-input-separator{color:var(--mat-datepicker-range-input-disabled-state-separator-color)}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner[disabled]{color:var(--mat-datepicker-range-input-disabled-state-text-color)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0})}return e})(),Wse=(()=>{class e extends G0{_forwardContentValues(i){super._forwardContentValues(i);const n=this.datepickerInput;n&&(i.comparisonStart=n.comparisonStart,i.comparisonEnd=n.comparisonEnd,i.startDateAccessibleName=n._getStartDateAccessibleName(),i.endDateAccessibleName=n._getEndDateAccessibleName())}static#e=this.\u0275fac=function(){let i;return function(r){return(i||(i=Hi(e)))(r||e)}}();static#t=this.\u0275cmp=et({type:e,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],features:[Rt([bse,Ese,{provide:G0,useExisting:e}]),tt],decls:0,vars:0,template:function(n,r){},encapsulation:2,changeDetection:0})}return e})(),Use=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({providers:[pp,Mse],imports:[ba,jN,up,hN,Ou,fn,R0]})}return e})();const Yse={provide:new ge("mat-select-scroll-strategy"),deps:[co],useFactory:function qse(e){return()=>e.scrollStrategies.reposition()}};let Xse=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({providers:[Yse],imports:[ba,up,VN,fn,R0,B0,VN,fn]})}return e})();function bB(e,t,i,n,r,s,o){try{var a=e[s](o),l=a.value}catch(c){return void i(c)}a.done?t(l):Promise.resolve(l).then(n,r)}function vp(e){return function(){var t=this,i=arguments;return new Promise(function(n,r){var s=e.apply(t,i);function o(l){bB(s,n,r,o,a,"next",l)}function a(l){bB(s,n,r,o,a,"throw",l)}o(void 0)})}}var Nu=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const n=t?this.allAsyncListeners:this.allSyncListeners;let r=n.get(e);return!r&&i&&(r=new Set,n.set(e,r)),r}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const n=this.getListeners(e,i,!1);n&&(n.delete(t),0===n.size&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const r=this.getListeners(i,t,!1)??new Set,s=new Set(r);s.size>0&&((a,l)=>{a.forEach(c=>{if(!l.has(c))return;const d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(d):d()})})(s,r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,e)):()=>a(i,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function St(e){if(e&&e.length)return e[e.length-1]}function wl(e,t,i){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every((n,r)=>i?i(n,t[r]):t[r]===n)}function xB(e,t){const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function cr(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function Cp(e,t,i){e.splice(i,0,t)}function SB(e,t,i){(function Jse(e,t){for(let i=0;i<t.length;i++)cr(e,t[i])})(e,t),t.slice().reverse().forEach(n=>Cp(e,n,i))}function Oc(e,t){return e.indexOf(t)>-1}function eoe(e){return[].concat.apply([],e)}function EB(e,t){null==t||null==e||t.forEach(i=>e.push(i))}var DB="__ag_Grid_Stop_Propagation",toe=["touchstart","touchend","touchmove","touchcancel","scroll"],QS={};function Bu(e){e[DB]=!0}function Da(e){return!0===e[DB]}var TB=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if("boolean"==typeof QS[i])return QS[i];const n=document.createElement(e[i]||"div");return QS[i="on"+i]=i in n}})();function JS(e,t,i){let n=t;for(;n;){const r=e.getDomData(n,i);if(r)return r;n=n.parentElement}return null}function ioe(e,t){return!(!t||!e)&&function roe(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():function noe(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}(t)}(t).indexOf(e)>=0}var ne=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.gridId=e.context.getGridId(),this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t){this.localEventService||(this.localEventService=new Nu),this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const n in t){const r=t[n];r&&i.push(this._setupListener(e,n,r))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;e instanceof HTMLElement?function soe(e,t,i,n){const s=Oc(toe,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,n,s)}(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);const n=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==n),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const i=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,n=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=r.changeSet.id}t({type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source})};e.forEach(r=>this.setupGridOptionListener(r,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}},e1=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=i=>{this.frameworkOverrides.wrapOutgoing(()=>e(i))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(i,n)=>{this.frameworkOverrides.wrapOutgoing(()=>e(i,n))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}};function Ta(e){return null==e||""===e?null:e}function _e(e,t=!1){return null!=e&&(""!==e||t)}function ft(e){return!_e(e)}function Ar(e){return null==e||0===e.length}function t1(e){return null!=e&&"function"==typeof e.toString?e.toString():null}function Lc(e){if(void 0===e)return;if(null===e||""===e)return null;if("number"==typeof e)return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function n1(e){if(void 0!==e)return null!==e&&""!==e&&r1(e)}function r1(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)}function _p(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function ooe(e,t,i=!1){const n=null==e,r=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&r)return 0;if(n)return-1;if(r)return 1;function s(o,a){return o>a?1:o<a?-1:0}if("string"!=typeof e||!i)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}function U0(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(i=>t.push(i)),t}return Object.values(e)}var s1=new Set(["__proto__","constructor","prototype"]);function Es(e,t){if(null!=e){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const[i,n]of Object.entries(e))t(i,n)}}function AB(e){const t={},i=Object.keys(e);for(let n=0;n<i.length;n++){if(s1.has(i[n]))continue;const r=i[n];t[r]=e[r]}return t}function o1(e,t){if(!e)return;const i=e,n={};return Object.keys(i).forEach(r=>{if(t&&t.indexOf(r)>=0||s1.has(r))return;const s=i[r];n[r]=a1(s)&&s.constructor===Object?o1(s):s}),n}function bl(e){if(!e)return[];const t=Object;if("function"==typeof t.values)return t.values(e);const i=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&i.push(e[n]);return i}function Ds(e,t,i=!0,n=!1){_e(t)&&Es(t,(r,s)=>{if(s1.has(r))return;let o=e[r];o!==s&&(n&&null==o&&null!=s&&"object"==typeof s&&s.constructor===Object&&(o={},e[r]=o),a1(s)&&a1(o)&&!Array.isArray(o)?Ds(o,s,i,n):(i||void 0!==s)&&(e[r]=s))})}function yp(e,t,i){if(!t||!e)return;if(!i)return e[t];const n=t.split(".");let r=e;for(let s=0;s<n.length;s++){if(null==r)return;r=r[n[s]]}return r}function a1(e){return"object"==typeof e&&null!==e}var aoe={resizable:!0,sortable:!0},loe=0;function RB(){return loe++}function xl(e){return e instanceof MB}var MB=class extends ne{constructor(e,t,i,n){super(),this.isColumn=!0,this.instanceId=RB(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new Nu,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){void 0!==e.sort?("asc"===e.sort||"desc"===e.sort)&&(this.sort=e.sort):("asc"===e.initialSort||"desc"===e.initialSort)&&(this.sort=e.initialSort);const t=e.sortIndex,i=e.initialSortIndex;void 0!==t?null!==t&&(this.sortIndex=t):null!==i&&(this.sortIndex=i);const n=e.hide;this.visible=void 0!==n?!n:!e.initialHide,this.setPinned(void 0!==e.pinned?e.pinned:e.initialPinned);const s=e.flex,o=e.initialFlex;void 0!==s?this.flex=s:void 0!==o&&(this.flex=o)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=_e(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=_e(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??20,this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=_e(this.colDef.tooltipField)||_e(this.colDef.tooltipValueGetter)||_e(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=Lc(e.width),n=Lc(e.initialWidth);return t=null!=i?i:null!=n?n:200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return!ft(this.colDef)&&!ft(this.colDef.showRowGroup)&&(!0===this.colDef.showRowGroup||this.colDef.showRowGroup===e)}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,t){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new e1(this.frameworkOverrides));const i=this.frameworkEventListenerService?.wrap(t)??t;this.columnEventService.addEventListener(e,i)}removeEventListener(e,t){const i=this.frameworkEventListenerService?.unwrap(t)??t;this.columnEventService.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){const t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1}isCellEditable(e){if(e.group)if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1;return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??aoe[e]}isColumnFunc(e,t){return"boolean"==typeof t?t:"function"==typeof t&&t(this.createColumnFunctionCallbackParams(e))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return ft(this.sort)}isSorting(){return _e(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const n=this.createColumnEvent("filterChanged",t);i&&Ds(n,i),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,t){const i=!0===e;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(ft(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(ft(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}};function dr(e){return e instanceof j0}var j0=class extends ne{constructor(e,t,i,n){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=RB(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(e=>e.isVisible())}isPadding(){return this.padding}setExpanded(e){this.expanded=void 0!==e&&e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{xl(t)?e.push(t):dr(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const n=this.findChildrenRemovingPadding();for(let s=0,o=n.length;s<o;s++){const a=n[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();"open"===l?(e=!0,i=!0):"closed"===l?(t=!0,i=!0):(e=!0,t=!0)}const r=e&&t&&i;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach(n=>{dr(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},coe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},kB={};function l1(e,t){kB[t]||(e(),kB[t]=!0)}function Ts(e,...t){console.log("AG Grid: "+e,...t)}function de(e,...t){l1(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function Ft(e,...t){l1(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}function c1(e){return!!(e&&e.constructor&&e.call&&e.apply)}var d1=[],u1=!1;function IB(e){d1.push(e),!u1&&(u1=!0,window.setTimeout(()=>{const t=d1.slice();d1.length=0,u1=!1,t.forEach(i=>i())},0))}function ur(e,t){let i;return function(...n){const r=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(r,n)},t)}}function PB(e,t){let i=0;return function(...n){const s=(new Date).getTime();s-i<t||(i=s,e.apply(this,n))}}var wp="ag-Grid-AutoColumn";function h1(e){const t=[],i=n=>{for(let r=0;r<n.length;r++){const s=n[r];xl(s)?t.push(s):dr(s)&&i(s.getChildren())}};return i(e),t}function Aa(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function Vu(e,t,i){const n={};if(!t)return;Ra(null,t,s=>{n[s.getInstanceId()]=s}),i&&Ra(null,i,s=>{n[s.getInstanceId()]=null});const r=Object.values(n).filter(s=>null!=s);e.destroyBeans(r)}function OB(e){return e.getId().startsWith(wp)}function $0(e){let t=[];return e instanceof Array?e.some(n=>"string"!=typeof n)?de("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:"string"==typeof e?t=e.split(","):de("colDef.type should be of type 'string' | 'string[]'"),t}var goe=class extends ne{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,i,n){const r=new class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=t1(e);let i=0;for(;;){let n;if(e?(n=e,0!==i&&(n+="_"+i)):t?(n=t,0!==i&&(n+="_"+i)):n=i,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);i++}}},{existingCols:s,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(i);r.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,s,r,o,n),c=this.findMaxDept(l,0),d=this.balanceColumnTree(l,0,c,r);return Ra(null,d,(h,f)=>{dr(h)&&h.setupExpandable(),h.setOriginalParent(f)}),{columnTree:d,treeDept:c}}extractExistingTreeData(e){const t=[],i=[],n=[];return e&&Ra(null,e,r=>{if(dr(r))i.push(r);else{const s=r;n.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:i,existingColKeys:n}}createForAutoGroups(e,t){const i=[],n=this.findDepth(t);return e.forEach(r=>{let s=r;for(let o=n-1;o>=0;o--){const a=new j0(null,`FAKE_PATH_${r.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([s]),s.setOriginalParent(a),s=a}0===n&&r.setOriginalParent(null),i.push(s)}),[i,n]}findDepth(e){let t=0,i=e;for(;i&&i[0]&&dr(i[0]);)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,n){const r=[];for(let s=0;s<e.length;s++){const o=e[s];if(dr(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,i,n);a.setChildren(l),r.push(a)}else{let a,l;for(let c=i-1;c>=t;c--){const d=n.getUniqueKey(null,null),u=this.createMergedColGroupDef(null),h=new j0(u,d,!0,t);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l)}if(a&&l){if(r.push(a),e.some(d=>dr(d))){l.setChildren([o]);continue}l.setChildren(e);break}r.push(o)}}return r}findMaxDept(e,t){let i=t;for(let n=0;n<e.length;n++){const r=e[n];if(dr(r)){const o=this.findMaxDept(r.getChildren(),t+1);i<o&&(i=o)}}return i}recursivelyCreateColumns(e,t,i,n,r,s,o){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const c=e[l];a[l]=this.isColumnGroup(c)?this.createColumnGroup(i,c,t,n,r,s,o):this.createColumn(i,c,n,r,o)}return a}createColumnGroup(e,t,i,n,r,s,o){const a=this.createMergedColGroupDef(t),l=r.getUniqueKey(a.groupId||null,null),c=new j0(a,l,!1,i);this.createBean(c);const d=this.findExistingGroup(t,s);d&&s.splice(d.idx,1);const u=d?.group;u&&c.setExpanded(u.isExpanded());const h=this.recursivelyCreateColumns(a.children,i+1,e,n,r,s,o);return c.setChildren(h),c}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,n,r){const s=this.findExistingColumn(t,i);s&&i?.splice(s.idx,1);let o=s?.column;if(o){const a=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(a,t,r),this.applyColumnState(o,a,r)}else{const a=n.getUniqueKey(t.colId,t.field),l=this.addColumnDefaultAndTypes(t,a);o=new MB(l,t,a,e),this.createBean(o)}return this.dataTypeService?.addColumnListeners(o),o}applyColumnState(e,t,i){const n=Lc(t.flex);if(void 0!==n&&e.setFlex(n),e.getFlex()<=0){const a=Lc(t.width);if(null!=a)e.setActualWidth(a,i);else{const l=e.getActualWidth();e.setActualWidth(l,i)}}void 0!==t.sort&&e.setSort("asc"==t.sort||"desc"==t.sort?t.sort:void 0,i);const s=Lc(t.sortIndex);void 0!==s&&e.setSortIndex(s);const o=n1(t.hide);void 0!==o&&e.setVisible(!o,i),void 0!==t.pinned&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){const n=t[i].getUserProvidedColDef();if(n)if(null==e.colId){if(null==e.field){if(n===e)return{idx:i,column:t[i]}}else if(n.field===e.field)return{idx:i,column:t[i]}}else if(t[i].getId()===e.colId)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(null!=e.groupId)for(let n=0;n<t.length;n++){const r=t[n];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:n,group:r}}}addColumnDefaultAndTypes(e,t){const i={};Ds(i,this.gos.get("defaultColDef"),!1,!0);const r=this.updateColDefAndGetColumnType(i,e,t);r&&this.assignColumnTypes(r,i),Ds(i,e,!1,!0);const s=this.gos.get("autoGroupColumnDef"),o=this.gos.isColumnsSortingCoupledToGroup();return e.rowGroup&&s&&o&&Ds(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService?.validateColDef(i),i}updateColDefAndGetColumnType(e,t,i){const n=this.dataTypeService?.updateColDefAndGetColumnType(e,t,i),r=t.type??n??e.type;return e.type=r,r?$0(r):void 0}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},coe);Es(this.gos.get("columnTypes")||{},(r,s)=>{r in i?de(`the column type '${r}' is a default column type and cannot be overridden.`):(s.type&&de("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[r]=s)}),e.forEach(r=>{const s=i[r.trim()];s?Ds(t,s,!1,!0):de("colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return void 0!==e.children}};function Ra(e,t,i){if(t)for(let n=0;n<t.length;n++){const r=t[n];dr(r)&&Ra(r,r.getChildren(),i),i(r,e)}}var moe=class extends ne{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(Hu(t.source))),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(Hu(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(Hu(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),Hu(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e,t){const i=e?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire();const n=this.colDefCols?.list,r=this.colDefCols?.tree,s=this.columnFactory.createColumnTree(this.colDefs,!0,r,t);Vu(this.context,this.colDefCols?.tree,s.columnTree);const o=s.columnTree,a=s.treeDept,l=h1(o),c={};l.forEach(u=>c[u.getId()]=u),this.colDefCols={tree:o,treeDepth:a,list:l,map:c},this.funcColsService.extractCols(t,n),this.ready=!0,this.refreshCols(),e&&!this.showingPivotResult&&!this.gos.get("maintainColumnOrder")&&this.orderColsLikeColDefCols(),this.visibleColsService.refresh(t),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(t),i&&(this.changeEventsDispatching=!0,i(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(t),"gridInitializing"===t&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(){if(!this.colDefCols)return;const e=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!wl(e,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=null!=e,e){const{map:t,list:i,tree:n,treeDepth:r}=e;this.cols={list:i.slice(),map:{...t},tree:n.slice(),treeDepth:r},e.list.some(o=>void 0!==this.cols?.map[o.getColId()])||(this.lastPivotOrder=null)}else{const{map:t,list:i,tree:n,treeDepth:r}=this.colDefCols;this.cols={list:i.slice(),map:{...t},tree:n.slice(),treeDepth:r}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(n=>{const r=OB(n);if(e){const s=t&&Oc(t,n);return r||s}return r||n.isVisible()})}addAutoCols(){null!=this.autoCols&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),function voe(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}(this.cols))}createAutoCols(){const e=this.gos.isGroupUseEntireRow(this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),i=this.funcColsService.getRowGroupColumns(),s=()=>{this.autoCols&&(Vu(this.context,this.autoCols.tree),this.autoCols=null)};if(!(i.length>0||this.gos.get("treeData"))||t||e||!this.autoColService)return void s();const o=this.autoColService.createAutoCols(i)??[],a=function Coe(e,t){return wl(e,t,(i,n)=>i.getColId()===n.getColId())}(o,this.autoCols?.list||null);if(a&&(this.autoCols?this.autoCols.treeDepth:-1)==this.cols.treeDepth)return;s();const[u,h]=this.columnFactory.createForAutoGroups(o,this.cols?.tree);this.autoCols={list:o,tree:u,treeDepth:h,map:{}};const f=g=>{if(!g)return null;const p=g.filter(m=>!OB(m));return[...o,...p]};this.lastOrder=f(this.lastOrder),this.lastPivotOrder=f(this.lastPivotOrder)}refreshAll(e){this.isReady()&&(this.refreshCols(),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,i){this.columnApplyStateService.applyColumnState({state:e.map(n=>({colId:"string"==typeof n?n:n.getColId(),hide:!t}))},i)}setColsPinned(e,t,i){if(!this.cols||Ar(e))return;if(this.gos.isDomLayout("print"))return void de("Changing the column pinning status is not allowed with domLayout='print'");let n;this.columnAnimationService.start(),n=!0===t||"left"===t?"left":"right"===t?"right":null;const r=[];e.forEach(s=>{if(!s)return;const o=this.getCol(s);o&&o.getPinned()!==n&&(o.setPinned(n),r.push(o))}),r.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(r,i)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let n;n=dr(e)?e.getId():e||"",this.columnGroupStateService.setColumnGroupState([{groupId:n,open:t}],i)}getProvidedColGroup(e){let t=null;return Ra(null,this.cols?.tree,i=>{dr(i)&&i.getId()===e&&(t=i)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");return!(!e.isRowGroupActive()||0===t)&&(-1===t||t>this.funcColsService.getRowGroupColumns().findIndex(r=>r.getColId()===e.getColId()))}isSuppressAutoCol(){return"custom"===this.gos.get("groupDisplayType")||"custom"===this.gos.get("treeDataDisplayType")}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||de("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((l,c)=>[l,c]));if(!this.cols.list.some(l=>t.has(l)))return;const n=new Map(this.cols.list.map(l=>[l,!0])),r=e.filter(l=>n.has(l)),s=new Map(r.map(l=>[l,!0])),o=this.cols.list.filter(l=>!s.has(l)),a=r.slice();o.forEach(l=>{let c=l.getOriginalParent();if(!c)return void a.push(l);const d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(g=>{const p=a.indexOf(g)>=0,m=d.indexOf(g)<0;p&&m&&d.push(g)}),c=c.getOriginalParent();if(!d.length)return void a.push(l);const u=d.map(f=>a.indexOf(f)),h=Math.max(...u);Cp(a,l,h+1)}),this.cols.list=a}orderColsLikeColDefCols(){if(!this.colDefCols||!this.cols)return;const e=this.colDefCols.list.filter(i=>this.cols.list.indexOf(i)>=0),t=this.cols.list.filter(i=>e.indexOf(i)<0);this.cols.list=[...t,...e],this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}sortColsLikeKeys(e){if(null==this.cols)return;let t=[];const i={};e.forEach(r=>{if(i[r])return;const s=this.cols.map[r];s&&(t.push(s),i[r]=!0)});let n=0;this.cols.list.forEach(r=>{const s=r.getColId();null==i[s]&&(s.startsWith(wp)?Cp(t,r,n++):t.push(r))}),t=this.columnMoveService.placeLockedColumns(t),this.columnMoveService.doesMovePassMarryChildren(t)?this.cols.list=t:de("Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}sortColsLikeCols(e){!e||e.length<=1||e.filter(i=>this.cols.list.indexOf(i)<0).length>0||e.sort((i,n)=>this.cols.list.indexOf(i)-this.cols.list.indexOf(n))}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(n,i,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,i){SB(this.cols?.list,e,t),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((n,r)=>this.lastOrder.indexOf(n)-this.lastOrder.indexOf(r)):this.lastOrder&&e.sort((n,r)=>this.cols.list.indexOf(n)-this.cols.list.indexOf(r));const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>null!=e.getColDef().colSpan)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return!e||!this.gos.get("treeData")||(de("Pivot mode not available with treeData."),!1)}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!Ar(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(!0,e))}setColumnDefs(e,t){const i=!!this.colDefs;this.colDefs=e,this.createColsFromColDefs(i,t)}destroy(){Vu(this.context,this.colDefCols?.tree),Vu(this.context,this.autoCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){const t=this.pivotResultColsService.getPivotResultCols()?.list;return[].concat(this.colDefCols?.list||[],this.autoCols?.list||[],t||[])}getColsForKeys(e){return e?e.map(i=>this.getCol(i)).filter(i=>null!=i):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return null==e?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(null==t)return null;const{map:i,list:n}=t;if("string"==typeof e&&i[e])return i[e];for(let r=0;r<n.length;r++)if(LB(n[r],e))return n[r];return this.getAutoCol(e)}getAutoCol(e){return null==this.autoCols?null:this.autoCols.list.find(t=>LB(t,e))||null}getAutoCols(){return this.autoCols?.list||null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const i of t){if(!i)continue;const n=i.getGroupRowCount()||0;for(let r=0;r<n;r++){const s=i.getGroupRowCtrlAtIndex(r),o=e[r];if(s){const a=this.getColumnGroupHeaderRowHeight(s);(null==o||a>o)&&(e[r]=a)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let i=0;const n=e.getHeaderCtrls();for(const r of n){const s=r.getColumn();if(s.isAutoHeaderHeight()){const o=s.getAutoHeaderHeight();null!=o&&o>i&&(i=o)}}return Math.max(t,i)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.visibleColsService.getAllCols().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(e,...i)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if("fitCellContents"!==e?.type)return;const{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}};function Hu(e){return"gridOptionsUpdated"===e?"gridOptionsChanged":e}function LB(e,t){const i=e===t,n=e.getColDef()===t,r=e.getColId()==t;return i||n||r}var _oe=class extends ne{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));const{colKeys:t,skipHeader:i,skipHeaderGroups:n,stopAtGroup:r,source:s="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered())return this.timesDelayed++,void setTimeout(()=>this.autoSizeCols(e));this.timesDelayed=0;const o=[];let a=-1;const l=i??this.gos.get("skipHeaderOnAutoSize"),c=n??l;for(;0!==a;){a=0;const d=[];t.forEach(u=>{if(!u)return;const h=this.columnModel.getCol(u);if(!h||o.indexOf(h)>=0)return;const f=this.autoWidthCalculator.getPreferredWidthForColumn(h,l);if(f>0){const g=this.normaliseColumnWidth(h,f);h.setActualWidth(g,s),o.push(h),a++}d.push(h)}),d.length&&this.visibleColsService.refresh(s)}c||this.autoSizeColumnGroupsByColumns(t,s,r),this.eventDispatcher.columnResized(o,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const n=new Set;let s;this.columnModel.getColsForKeys(e).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||n.add(l),l=l.getParent()});for(const a of n){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(s=l.getHeaderCtrlForColumn(a),s)break;s&&s.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));const i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const i=e.getMinWidth();t<i&&(t=i);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}},yoe=class extends ne{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>cr(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>cr(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>cr(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupCols.slice(0);const i=this.columnModel.getColDefCol(t);return i?[i]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return Ar(this.rowGroupCols)}setColumnAggFunc(e,t,i){if(!e)return;const n=this.columnModel.getColDefCol(e);n&&(n.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[n],i))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(i,n)=>this.setRowGroupActive(i,n,t),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,i),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,i))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,i=>this.setRowGroupActive(!0,i,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,i=>this.setRowGroupActive(!1,i,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,i=>i.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(i,n)=>{n.setPivotActive(i,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,i=>i.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(i,n)=>this.setValueActive(i,n,t),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){const n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,i=>this.setValueActive(!0,i,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,i=>this.setValueActive(!1,i,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;const n=this.rowGroupCols[e],r=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,n),this.eventDispatcher.rowGroupChanged(r,i)}setColList(e,t,i,n,r,s,o){if(Ar(this.columnModel.getCols()))return;const l=new Map;t.forEach((d,u)=>l.set(d,u)),t.length=0,_e(e)&&e.forEach(d=>{const u=this.columnModel.getColDefCol(d);u&&t.push(u)}),t.forEach((d,u)=>{const h=l.get(d);void 0!==h?n&&h!==u||l.delete(d):l.set(d,0)}),(this.columnModel.getColDefCols()||[]).forEach(d=>{const u=t.indexOf(d)>=0;s(u,d)}),r&&this.columnModel.refreshCols(),this.visibleColsService.refresh(o),this.eventDispatcher.columnChanged(i,[...l.keys()],o)}updateColList(e,t,i,n,r,s,o){if(!e||Ar(e))return;let a=!1;const l=new Set;e.forEach(c=>{if(!c)return;const d=this.columnModel.getColDefCol(c);if(d){if(l.add(d),i){if(t.indexOf(d)>=0)return;t.push(d)}else{const u=t.indexOf(d);if(u<0)return;for(let h=u+1;h<t.length;h++)l.add(t[h]);cr(t,d)}r(d),a=!0}}),a&&(n&&this.columnModel.refreshCols(),this.visibleColsService.refresh(o),this.eventDispatcher.genericColumnEvent(s,Array.from(l),o))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(i,n)=>i.setValueActive(n,e),()=>{},()=>{},i=>{const n=i.aggFunc;return null===n||""===n?null:void 0!==n?!!n:void 0},i=>null!=i.initialAggFunc&&""!=i.initialAggFunc),this.valueCols.forEach(i=>{const n=i.getColDef();null!=n.aggFunc&&""!=n.aggFunc?i.setAggFunc(n.aggFunc):i.getAggFunc()||i.setAggFunc(n.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(i,n)=>i.setRowGroupActive(n,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(i,n)=>i.setPivotActive(n,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}extractColsCommon(e=[],t=[],i,n,r,s,o){const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(h=>{const f=e.indexOf(h)<0,g=h.getColDef(),p=n1(s(g)),m=n1(o(g)),C=Lc(n(g)),v=Lc(r(g));let _;_=void 0!==p?p:void 0!==C?null!==C&&C>=0:f?void 0!==m?m:void 0!==v&&null!=v&&v>=0:t.indexOf(h)>=0,_&&((f?null!=C||null!=v:null!=C)?a.push(h):l.push(h))});const d=h=>{const f=n(h.getColDef()),g=r(h.getColDef());return f??g};a.sort((h,f)=>{const g=d(h),p=d(f);return g===p?0:g<p?-1:1});const u=[].concat(a);return t.forEach(h=>{l.indexOf(h)>=0&&u.push(h)}),l.forEach(h=>{u.indexOf(h)<0&&u.push(h)}),t.forEach(h=>{u.indexOf(h)<0&&i(h,!1)}),u.forEach(h=>{t.indexOf(h)<0&&i(h,!0)}),u}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},n=(r,s,o,a,l,c)=>{const d=this.columnModel.getColDefCols();if(!s.length||!d)return[];const u=Object.keys(r),h=new Set(u),f=new Set(u),g=new Set(s.map(M=>{const S=M.getColId();return f.delete(S),S}).concat(u)),p=[],m={};let C=0;for(let M=0;M<d.length;M++){const S=d[M].getColId();g.has(S)&&(p.push(S),m[S]=C++)}let v=1e3,_=!1,x=0;const R=M=>{const S=m[M];for(let N=x;N<S;N++){const B=p[N];f.has(B)&&(r[B][l]=v++,f.delete(B))}x=S};s.forEach(M=>{const S=M.getColId();if(h.has(S))R(S),r[S][l]=v++;else{const N=M.getColDef();(null===N[l]||void 0===N[l]&&null==N[c])&&(_||(N[o]||void 0===N[o]&&N[a]?R(S):(f.forEach(K=>{r[K][l]=v+m[K]}),v+=p.length,_=!0)),i[S]||(i[S]={colId:S}),i[S][l]=v++)}})};return n(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},woe=class extends ne{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const i=this.columnModel.getColDefCols()||[];if(Ar(i))return!1;if(e&&e.state&&!e.state.forEach)return de("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=this.funcColsService.getModifyColumnsNoEventsCallbacks(),r=(a,l,c)=>{const d=this.compareColumnStatesAndDispatchEvents(t),u=l.slice(),h={},f={},g=[],p=[];let m=0;const C=this.funcColsService.getRowGroupColumns().slice(),v=this.funcColsService.getPivotColumns().slice();a.forEach(M=>{const S=M.colId||"";if(S.startsWith(wp))return g.push(M),void p.push(M);const B=c(S);B?(this.syncColumnWithStateItem(B,M,e.defaultState,h,f,!1,t,n),cr(u,B)):(p.push(M),m+=1)});const _=M=>this.syncColumnWithStateItem(M,null,e.defaultState,h,f,!1,t,n);u.forEach(_),this.funcColsService.sortRowGroupColumns(NB.bind(this,h,C)),this.funcColsService.sortPivotColumns(NB.bind(this,f,v)),this.columnModel.refreshCols();const R=(this.columnModel.getAutoCols()||[]).slice();return g.forEach(M=>{const S=this.columnModel.getAutoCol(M.colId);cr(R,S),this.syncColumnWithStateItem(S,M,e.defaultState,null,null,!0,t,n)}),R.forEach(_),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),d(),{unmatchedAndAutoStates:p,unmatchedCount:m}};this.columnAnimationService.start();let{unmatchedAndAutoStates:s,unmatchedCount:o}=r(e.state||[],i,a=>this.columnModel.getColDefCol(a));if(s.length>0||_e(e.defaultState)){const l=this.pivotResultColsService.getPivotResultCols()?.list;o=r(s,l||[],c=>this.pivotResultColsService.getPivotResultCol(c)).unmatchedCount}return this.columnAnimationService.finish(),0===o}resetColumnState(e){if(Ar(this.columnModel.getColDefCols()))return;const n=h1(this.columnModel.getColDefColTree()),r=[];let s=1e3,o=1e3,a=[];const l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),n&&(a=a.concat(n)),a.forEach(c=>{const d=this.getColumnStateFromColDef(c);ft(d.rowGroupIndex)&&d.rowGroup&&(d.rowGroupIndex=s++),ft(d.pivotIndex)&&d.pivot&&(d.pivotIndex=o++),r.push(d)}),this.applyColumnState({state:r,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(g,p)=>g??p??null,i=e.getColDef(),n=t(i.sort,i.initialSort),r=t(i.sortIndex,i.initialSortIndex),s=t(i.hide,i.initialHide),o=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let c=t(i.rowGroupIndex,i.initialRowGroupIndex),d=t(i.rowGroup,i.initialRowGroup);null==c&&(null==d||0==d)&&(c=null,d=null);let u=t(i.pivotIndex,i.initialPivotIndex),h=t(i.pivot,i.initialPivot);null==u&&(null==h||0==h)&&(u=null,h=null);const f=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:r,hide:s,pinned:o,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:h,pivotIndex:u,aggFunc:f}}syncColumnWithStateItem(e,t,i,n,r,s,o,a){if(!e)return;const l=(x,R)=>{const M={value1:void 0,value2:void 0};let S=!1;return t&&(void 0!==t[x]&&(M.value1=t[x],S=!0),_e(R)&&void 0!==t[R]&&(M.value2=t[R],S=!0)),!S&&i&&(void 0!==i[x]&&(M.value1=i[x]),_e(R)&&void 0!==i[R]&&(M.value2=i[R])),M},c=l("hide").value1;void 0!==c&&e.setVisible(!c,o);const d=l("pinned").value1;void 0!==d&&e.setPinned(d);const u=e.getColDef().minWidth??20,h=l("flex").value1;if(void 0!==h&&e.setFlex(h),null==h){const x=l("width").value1;null!=x&&null!=u&&x>=u&&e.setActualWidth(x,o)}const f=l("sort").value1;void 0!==f&&e.setSort("desc"===f||"asc"===f?f:void 0,o);const g=l("sortIndex").value1;if(void 0!==g&&e.setSortIndex(g),s||!e.isPrimary())return;const p=l("aggFunc").value1;void 0!==p&&("string"==typeof p?(e.setAggFunc(p),e.isValueActive()||(e.setValueActive(!0,o),a.addValueCol(e))):(_e(p)&&de("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),a.removeValueCol(e))));const{value1:m,value2:C}=l("rowGroup","rowGroupIndex");(void 0!==m||void 0!==C)&&("number"==typeof C||m?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),a.addGroupCol(e)),n&&"number"==typeof C&&(n[e.getId()]=C)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),a.removeGroupCol(e)));const{value1:v,value2:_}=l("pivot","pivotIndex");(void 0!==v||void 0!==_)&&("number"==typeof _||v?(e.isPivotActive()||(e.setPivotActive(!0,o),a.addPivotCol(e)),r&&"number"==typeof _&&(r[e.getId()]=_)):e.isPivotActive()&&(e.setPivotActive(!1,o),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(i=>{null!=i.colId&&t.push(i.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),n={};return i.forEach(r=>{n[r.colId]=r}),()=>{const r=this.columnModel.getAllCols(),s=(p,m,C,v)=>{if(wl(m.map(v),C.map(v)))return;const M=new Set(m);C.forEach(N=>{M.delete(N)||M.add(N)});const S=[...M];this.eventService.dispatchEvent({type:p,columns:S,column:1===S.length?S[0]:null,source:e})},o=p=>{const m=[];return r.forEach(C=>{const v=n[C.getColId()];v&&p(v,C)&&m.push(C)}),m},a=p=>p.getColId();s("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),s("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const c=o((p,m)=>{const C=null!=p.aggFunc,v=C!=m.isValueActive(),_=C&&p.aggFunc!=m.getAggFunc();return v||_});c.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",c,e),this.eventDispatcher.columnResized(o((p,m)=>p.width!=m.getActualWidth()),!0,e),this.eventDispatcher.columnPinned(o((p,m)=>p.pinned!=m.getPinned()),e),this.eventDispatcher.columnVisible(o((p,m)=>p.hide==m.isVisible()),e);const g=o((p,m)=>p.sort!=m.getSort()||p.sortIndex!=m.getSortIndex());g.length>0&&this.sortController.dispatchSortChangedEvents(e,g),this.normaliseColumnMovedEventForColumnState(i,e)}}normaliseColumnMovedEventForColumnState(e,t){const i=this.columnGetStateService.getColumnState(),n={};i.forEach(l=>n[l.colId]=l);const r={};e.forEach(l=>{n[l.colId]&&(r[l.colId]=!0)});const s=e.filter(l=>r[l.colId]),o=i.filter(l=>r[l.colId]),a=[];o.forEach((l,c)=>{const d=s&&s[c];if(d&&d.colId!==l.colId){const u=this.columnModel.getCol(d.colId);u&&a.push(u)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},NB=(e,t,i,n)=>{const r=e[i.getId()],s=e[n.getId()],o=null!=r,a=null!=s;if(o&&a)return r-s;if(o)return-1;if(a)return 1;const l=t.indexOf(i),c=t.indexOf(n),d=l>=0;return d&&c>=0?l-c:d?-1:1},boe=class extends ne{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,i){const n=this.columnModel.getCols();n&&this.moveColumns([n[e]],t,i)}moveColumns(e,t,i,n=!0){const r=this.columnModel.getCols();if(!r)return;if(this.columnAnimationService.start(),t>r.length-e.length)return de("tried to insert columns in invalid location, toIndex = ",t),void de("remember that you should not count the moving columns when calculating the new index");const s=this.columnModel.getColsForKeys(e);this.doesMovePassRules(s,t)&&(this.columnModel.moveInCols(s,t,i),this.eventDispatcher.columnMoved({movedColumns:s,source:i,toIndex:t,finished:n}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const n=this.columnModel.getCols().slice();return SB(n,e,t),n}doesMovePassLockedPositions(e){const i=this.gos.get("enableRtl");let n=i?1:-1,r=!0;return e.forEach(s=>{const o=(s=>s?"left"===s||!0===s?-1:1:0)(s.getColDef().lockPosition);i?o>n&&(r=!1):o<n&&(r=!1),n=o}),r}doesMovePassMarryChildren(e){let t=!0;return Ra(null,this.columnModel.getColTree(),n=>{if(!dr(n))return;const r=n,s=r.getColGroupDef();if(!s||!s.marryChildren)return;const a=[];r.getLeafColumns().forEach(h=>{const f=e.indexOf(h);a.push(f)}),Math.max.apply(Math,a)-Math.min.apply(Math,a)>r.getLeafColumns().length-1&&(t=!1)}),t}placeLockedColumns(e){const t=[],i=[],n=[];return e.forEach(s=>{const o=s.getColDef().lockPosition;"right"===o?n.push(s):"left"===o||!0===o?t.push(s):i.push(s)}),this.gos.get("enableRtl")?[...n,...i,...t]:[...t,...i,...n]}},xoe=/[&<>"']/g,Soe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Uo(e,t){if(null==e)return null;const i=e.toString().toString();return t?i:i.replace(xoe,n=>Soe[n])}function Toe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var Aoe=class extends ne{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,i){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,n,r){const s=e.headerValueGetter;if(s){const o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:n,location:r});return"function"==typeof s?s(o):"string"==typeof s?this.expressionService.evaluate(s,o):(de("headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?function Doe(e){return e&&null!=e?e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" "):null}(e.field):""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn;let s,r=null;if(_e(i)){const o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===o.length,l=void 0!==e.getColDef().pivotTotalColumnIds;if(a&&!l)return t;r=i?i.getAggFunc():null,s=!0}else{const o=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();o&&a?(r=e.getAggFunc(),s=!0):s=!1}if(s){const o="string"==typeof r?r:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}},Roe=class extends ne{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){Vu(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return null!=this.pivotResultCols}lookupPivotResultCol(e,t){if(null==this.pivotResultCols)return null;const i=this.columnModel.getColDefCol(t);let n=null;return this.pivotResultCols.list.forEach(r=>{const s=r.getColDef().pivotKeys,o=r.getColDef().pivotValueColumn;wl(s,e)&&o===i&&(n=r)}),n}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){if(this.columnModel.isReady()&&(null!=e||null!=this.pivotResultCols)){if(e){this.processPivotResultColDef(e);const i=this.columnFactory.createColumnTree(e,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,t);Vu(this.context,this.pivotResultCols?.tree,i.columnTree);const n=i.columnTree,r=i.treeDept,s=h1(n);this.pivotResultCols={tree:n,treeDepth:r,list:s,map:{}},this.pivotResultCols.list.forEach(a=>this.pivotResultCols.map[a.getId()]=a),this.previousPivotResultCols=null}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null;this.columnModel.refreshCols(),this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;const n=r=>{r.forEach(s=>{if(_e(s.children)){const a=s;i&&i(a),n(a.children)}else t&&t(s)})};e&&n(e)}},Foe=class extends ne{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,i,n){const r=[];e.forEach(s=>{const o=this.columnModel.getColDefCol(s.key)||this.columnModel.getCol(s.key);if(o&&(r.push({width:s.newWidth,ratios:[1],columns:[o]}),"shift"===this.gos.get("colResizeDefault")&&(t=!t),t)){const l=this.visibleColsService.getColAfter(o);if(!l)return;const c=o.getActualWidth()-s.newWidth,d=l.getActualWidth()+c;r.push({width:d,ratios:[1],columns:[l]})}}),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:i,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:n}=e;if(t&&!t.every(d=>this.checkMinAndMaxWidthsForSet(d)))return void(i&&this.eventDispatcher.columnResized(t&&t.length>0?t[0].columns:null,i,n));const s=[],o=[];t.forEach(d=>{const{width:u,columns:h,ratios:f}=d,g={},p={};h.forEach(v=>o.push(v));let m=!0,C=0;for(;m;){if(C++,C>1e3){Ft("infinite loop in resizeColumnSets");break}m=!1;const v=[];let _=0,x=u;h.forEach((M,S)=>{p[M.getId()]?x-=g[M.getId()]:(v.push(M),_+=f[S])});const R=1/_;v.forEach((M,S)=>{let B;S===v.length-1?B=x:(B=Math.round(f[S]*u*R),x-=B);const j=M.getMinWidth(),K=M.getMaxWidth();B<j?(B=j,p[M.getId()]=!0,m=!0):K>0&&B>K&&(B=K,p[M.getId()]=!0,m=!0),g[M.getId()]=B})}h.forEach(v=>{const _=g[v.getId()];v.getActualWidth()!==_&&(v.setActualWidth(_,n),s.push(v))})});const a=s.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const c=o.concat(l);(a||i)&&this.eventDispatcher.columnResized(c,i,n,l)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let n=0,r=0,s=!0;return t.forEach(l=>{const c=l.getMinWidth();n+=c||0;const d=l.getMaxWidth();d>0?r+=d:s=!1}),i>=n&&(!s||i<=r)}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const i=this.visibleColsService.getCenterCols();let n=-1;if(e.resizingCols){const h=new Set(e.resizingCols);for(let f=i.length-1;f>=0;f--)if(h.has(i[f])){n=f;break}}let r=0,s=[],o=0,a=0;for(let h=0;h<i.length;h++)i[h].getFlex()&&h>n?(s.push(i[h]),a+=i[h].getFlex(),o+=i[h].getMinWidth()):r+=i[h].getActualWidth();if(!s.length)return[];let l=[];r+o>this.flexViewportWidth&&(s.forEach(h=>h.setActualWidth(h.getMinWidth(),t)),l=s,s=[]);const c=[];let d;e:for(;;){d=this.flexViewportWidth-r;const h=d/a;for(let f=0;f<s.length;f++){const g=s[f],p=h*g.getFlex();let m=0;const C=g.getMinWidth(),v=g.getMaxWidth();if(p<C?m=C:p>v&&(m=v),m){g.setActualWidth(m,t),xB(s,g),a-=g.getFlex(),l.push(g),r+=g.getActualWidth();continue e}c[f]=Math.floor(p)}break}let u=d;return s.forEach((h,f)=>{h.setActualWidth(Math.min(c[f],u),t),l.push(h),u-=c[f]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,s),s}sizeColumnsToFit(e,t="sizeColumnsToFit",i,n){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,n));const r={};n&&n?.columnLimits?.forEach(({key:h,...f})=>{r["string"==typeof h?h:h.getColId()]=f});const s=this.visibleColsService.getAllCols(),o=e===Aa(s);if(e<=0||!s.length||o)return;const a=[],l=[];s.forEach(h=>{!0===h.getColDef().suppressSizeToFit?l.push(h):a.push(h)});const c=a.slice(0);let d=!1;const u=h=>{cr(a,h),l.push(h)};for(a.forEach(h=>{h.resetActualWidth(t);const f=r?.[h.getId()],g=f?.minWidth??n?.defaultMinWidth,p=f?.maxWidth??n?.defaultMaxWidth,m=h.getActualWidth();"number"==typeof g&&m<g?h.setActualWidth(g,t,!0):"number"==typeof p&&m>p&&h.setActualWidth(p,t,!0)});!d;){d=!0;const h=e-Aa(l);if(h<=0)a.forEach(f=>{const g=r?.[f.getId()]?.minWidth??n?.defaultMinWidth;"number"!=typeof g?f.setMinimum(t):f.setActualWidth(g,t,!0)});else{const f=h/Aa(a);let g=h;for(let p=a.length-1;p>=0;p--){const m=a[p],C=r?.[m.getId()],v=C?.minWidth??n?.defaultMinWidth,_=C?.maxWidth??n?.defaultMaxWidth,x=m.getMinWidth(),R=m.getMaxWidth(),M="number"==typeof v&&v>x?v:x,S="number"==typeof _&&_<R?_:R;let N=Math.round(m.getActualWidth()*f);N<M?(N=M,u(m),d=!1):N>S?(N=S,u(m),d=!1):0===p&&(N=g),m.setActualWidth(N,t,!0),g-=N}}}c.forEach(h=>{h.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!i&&this.eventDispatcher.columnResized(c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if("fitGridWidth"===t){const{columnLimits:i,defaultMinWidth:n,defaultMaxWidth:r}=e,s=i?.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:r,columnLimits:s})}else"fitProvidedWidth"===t&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function BB(e,t){return e+"_"+t}function Wi(e){return e instanceof VB}var VB=class extends ne{constructor(e,t,i,n){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return BB(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Wi(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=St(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{xl(t)?e.push(t):Wi(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{xl(t)?e.push(t):Wi(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.getProvidedColumnGroup().isExpandable())return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});this.children.forEach(i=>{if(!Wi(i)||i.displayedChildren&&i.displayedChildren.length)switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i)}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},HB=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return i="number"!=typeof t?0:t+1,this.existingIds[e]=i,i}},Moe=class extends ne{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=f1(this.treeLeft),this.columnsCenter=f1(this.treeCenter),this.columnsRight=f1(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(i=>i.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols()}updateBodyWidths(){const e=Aa(this.columnsCenter),t=Aa(this.columnsLeft),i=Aa(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?St(this.columnsRight):null):(t=this.columnsLeft?St(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===i,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(s=>"left"==s.getPinned()),i=e.filter(s=>"right"==s.getPinned()),n=e.filter(s=>"left"!=s.getPinned()&&"right"!=s.getPinned()),r=new HB;this.treeLeft=this.createGroups({columns:t,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:n,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],i=[],n=[];for(const r of e){const s=r.getPinned();s?!0===s||"left"===s?t.push(r):n.push(r):i.push(r)}this.ariaOrderColumns=t.concat(i).concat(n)}getAriaColIndex(e){let t;return t=Wi(e)?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Wi(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const i=this.columnModel.getCols().slice(0),n=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(r=>{if(n){let s=Aa(r);r.forEach(o=>{s-=o.getActualWidth(),o.setLeft(s,e)})}else{let s=0;r.forEach(o=>{o.setLeft(s,e),s+=o.getActualWidth()})}!function Qse(e,t){for(let i=0;i<t.length;i++)xB(e,t[i])}(i,r)}),i.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.columns=this.gos.get("enableRtl")?this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,i,n){const r=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){const h=c-1;for(let f=1;f<=h;f++)d.push(t[o+f]);o+=h}let u;i?(u=!1,d.forEach(h=>{i(h)&&(u=!0)})):u=!0,u&&(0===r.length&&s&&n&&n(a)&&r.push(s),r.push(a)),s=a}return r}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),i=t.indexOf(e);return i>0?t[i-1]:null}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),r="After"===t?St(n):n[0],s=`getCol${t}`;for(;;){const o=this[s](r);if(!o)return null;const a=this.getColGroupAtLevel(o,i);if(a!==e)return a}}getColGroupAtLevel(e,t){let n,r,i=e.getParent();for(;n=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),!(n+r<=t);)i=i.getParent();return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Nc(this.treeCenter,!1,e),Nc(this.treeLeft,!1,e),Nc(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){Nc(this.getAllTrees(),!1,t=>{Wi(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const n=this[t[i]]();if(n.length)return e?St(n):n[0]}return null}getColumnGroup(e,t){if(!e)return null;if(Wi(e))return e;const i=this.getAllTrees(),n="number"==typeof t;let r=null;return Nc(i,!1,s=>{if(Wi(s)){const o=s;let a;a=n?e===o.getGroupId()&&t===o.getPartId():e===o.getGroupId(),a&&(r=o)}}),r}getColAfter(e){const t=this.getAllCols(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return Aa(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Aa(this.columnsRight)}isColAtEdge(e,t){const i=this.getAllCols();if(!i.length)return!1;const n="first"===t;let r;if(Wi(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;r=n?s[0]:St(s)}else r=e;return(n?i[0]:St(i))===r}createGroups(e){const{columns:t,idCreator:i,pinned:n,oldDisplayedGroups:r,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(r),a=[];let l=t;for(;l.length;){const c=l;l=[];let d=0;const u=h=>{const f=d;d=h;const g=c[f],m=(Wi(g)?g.getProvidedColumnGroup():g).getOriginalParent();if(null==m){for(let v=f;v<h;v++)a.push(c[v]);return}const C=this.createColGroup(m,i,o,n,s);for(let v=f;v<h;v++)C.addChild(c[v]);l.push(C)};for(let h=1;h<c.length;h++){const f=c[h],p=(Wi(f)?f.getProvidedColumnGroup():f).getOriginalParent(),m=c[d];p!==(Wi(m)?m.getProvidedColumnGroup():m).getOriginalParent()&&u(h)}d<c.length&&u(c.length)}return s||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,i,n,r){const s=e.getGroupId(),o=t.getInstanceIdForKey(s);let l=i[BB(s,o)];return l&&l.getProvidedColumnGroup()!==e&&(l=null),_e(l)?l.reset():(l=new VB(e,s,o,n),r||this.createBean(l)),l}mapOldGroupsById(e){const t={},i=n=>{n.forEach(r=>{if(Wi(r)){const s=r;t[r.getUniqueId()]=s,i(s.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.setParent(t),Wi(i)){const n=i;this.setupParentsIntoCols(n.getChildren(),n)}})}};function Nc(e,t,i){if(e)for(let n=0;n<e.length;n++){const r=e[n];Wi(r)&&Nc(t?r.getDisplayedChildren():r.getChildren(),t,i),i(r)}}function f1(e){const t=[];return Nc(e,!0,i=>{xl(i)&&t.push(i)}),t}var GB=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd"],Ioe=[...GB,"scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],Poe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},Hn=class{};Hn.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],Hn.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],Hn.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],Hn.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],Hn.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading"],Hn.OTHER_PROPERTIES=["suppressStickyTotalRow"],Hn.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],Hn.ALL_PROPERTIES=[...Hn.ARRAY_PROPERTIES,...Hn.OBJECT_PROPERTIES,...Hn.STRING_PROPERTIES,...Hn.NUMBER_PROPERTIES,...Hn.FUNCTION_PROPERTIES,...Hn.BOOLEAN_PROPERTIES,...Hn.OTHER_PROPERTIES];var bp=Hn,As=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};As.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",As.PUBLIC_EVENTS=GB,As.EVENT_CALLBACKS=Ioe.map(e=>As.getCallbackForEvent(e)),As.BOOLEAN_PROPERTIES=bp.BOOLEAN_PROPERTIES,As.ALL_PROPERTIES=bp.ALL_PROPERTIES,As.ALL_PROPERTIES_AND_CALLBACKS=[...As.ALL_PROPERTIES,...As.EVENT_CALLBACKS],As.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(As.ALL_PROPERTIES_AND_CALLBACKS);var v1,Y0,C1,_1,y1,w1,b1,x1,X0,xp=As;function Rs(e,t,i){null==i||"string"==typeof i&&""==i?p1(e,t):Fs(e,t,i)}function Fs(e,t,i){e.setAttribute(zB(t),i.toString())}function p1(e,t){e.removeAttribute(zB(t))}function zB(e){return`aria-${e}`}function Rr(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Gu(e,t){Rs(e,"label",t)}function Sp(e,t){Rs(e,"labelledby",t)}function WB(e,t){Rs(e,"live",t)}function g1(e,t){Rs(e,"hidden",t)}function K0(e,t){Fs(e,"expanded",t)}function UB(e,t){Fs(e,"rowindex",t)}function jB(e,t){Fs(e,"colindex",t)}function q0(e,t){Rs(e,"selected",t)}function m1(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}function jo(){return void 0===v1&&(v1=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),v1}function $B(){if(void 0===Y0)if(jo()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Y0=null!=e[1]?parseFloat(e[1]):0)}else Y0=0;return Y0}function S1(){if(void 0===C1){const e=window;C1=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return C1}function KB(){return void 0===_1&&(_1=/(firefox)/i.test(navigator.userAgent)),_1}function qB(){return void 0===y1&&(y1=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),y1}function Sl(){return void 0===w1&&(w1=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),w1}function E1(){return!jo()||$B()>=15}function D1(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return-1!==t||null!==i&&(""!==i||KB())?t.toString():null}function YB(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;0===i&&0===t.clientWidth&&(i=null),t.parentNode&&t.parentNode.removeChild(t),null!=i&&(x1=i,b1=0===i)}function XB(){return null==b1&&YB(),b1}var ZB="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function T1(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),r=t.call(e,ZB),s=ho(e);return n&&!r&&s}function vi(e,t,i={}){const{skipAriaHidden:n}=i;e.classList.toggle("ag-hidden",!t),n||g1(e,!t)}function Ep(e,t){const i="disabled",n=t?r=>r.setAttribute(i,""):r=>r.removeAttribute(i);n(e),rV(e.querySelectorAll("input"),r=>n(r))}function zu(e,t,i){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof i){if(++n>i)break}else if(e===i)break}return!1}function Bc(e){const{height:t,width:i,borderTopWidth:n,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:h,marginBottom:f,marginLeft:g,boxSizing:p}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(g||"0"),boxSizing:p}}function A1(e){const t=Bc(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Dp(e){const t=Bc(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function QB(e){const{height:t,marginBottom:i,marginTop:n}=Bc(e);return Math.floor(t+i+n)}function Z0(e){const{width:t,marginLeft:i,marginRight:n}=Bc(e);return Math.floor(t+i+n)}function JB(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:n,borderRightWidth:r,borderBottomWidth:s}=Bc(e);return{top:t.top+(i||0),left:t.left+(n||0),right:t.right+(r||0),bottom:t.bottom+(s||0)}}function Q0(){if("boolean"==typeof X0)return X0;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,X0=0===Math.floor(e.scrollLeft),document.body.removeChild(e),X0}function J0(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),S1()&&!Q0()&&(i=e.scrollWidth-e.clientWidth-i)),i}function eC(e,t,i){i&&(Q0()?t*=-1:(jo()||S1())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function Gn(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function uo(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function eV(e){return!!e.offsetParent}function ho(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!eV(e)||"visible"!==window.getComputedStyle(e).visibility)}function Wu(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function tV(e,t,i){i&&i.nextSibling===t||(i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function iV(e,t){for(let i=0;i<t.length;i++){const n=t[i],r=e.children[i];r!==n&&e.insertBefore(n,r)}}function nV(e,t){if(t)for(const[i,n]of Object.entries(t)){if(!i||!i.length||null==n)continue;const r=Toe(i),s=n.toString(),o=s.replace(/\s*!important/g,"");e.style.setProperty(r,o,o.length!=s.length?"important":void 0)}}function tC(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):fo(e,t)}function fo(e,t){t=R1(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Tp(e,t){t=R1(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function R1(e){return"number"==typeof e?`${e}px`:e}function F1(e){return e instanceof Node||e instanceof HTMLElement}function Ms(e,t,i){null==i||""===i?e.removeAttribute(t):e.setAttribute(t,i.toString())}function rV(e,t){if(null!=e)for(let i=0;i<e.length;i++)t(e[i])}var Uu=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},oV=class yd extends ne{constructor(t,i,n,r){super(),this.parentComp=t,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=n,this.shouldDisplayTooltip=r,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();0===this.tooltipTrigger&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),1===this.tooltipTrigger&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const i=this.gos.get(t);return i<0&&de(`${t} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(t){return"show"===t?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return t&&"hover"!==t?1:0}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Sl()&&(yd.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},100):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){const i=t.relatedTarget,n=this.parentComp.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(i)||this.interactionEnabled&&r?.contains(i)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(0!=this.state||yd.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-yd.lastTooltipHideTime<1e3}setToDoNothing(t){!t&&2===this.state&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!_e(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(i)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),yd.lastTooltipHideTime=(new Date).getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,i){if(2!==this.state||this.tooltipInstanceCount!==t)return void this.destroyBean(i);const r=i.getGui();this.tooltipComp=i,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:r,ariaLabel:s("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),1===this.tooltipTrigger){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),1===this.tooltipTrigger&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const t=this.tooltipComp?.getGui(),i=this.gos.getActiveDomElement();return!!t&&t.contains(i)}onTooltipFocusOut(t){const i=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,i.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,i=this.tooltipComp;window.setTimeout(()=>{t(),this.destroyBean(i)},0===this.tooltipTrigger?1e3:0),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){yd.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},100)}unlockService(){yd.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};oV.isLocked=!1;var uae=oV,ju=class extends ne{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(null!=e&&""!=e?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){null==this.tooltipManager&&(this.tooltipManager=this.createBean(new uae({getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()},this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context))}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?.(),i=e.getColDef?.(),n=e.getRowNode?.();return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?.(),node:n,data:n?.data,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},hae=new Uu,Le=null,kt=class E6 extends ne{constructor(t,i){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=hae.next(),this.cssClassManager=new class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1)t.forEach(n=>this.addCssClass(n));else if(!0!==this.cssClassStates[e]&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1)t.forEach(n=>this.removeCssClass(n));else if(!1!==this.cssClassStates[e]&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return!!t&&t.classList.contains(e)}addOrRemoveCssClass(e,t){if(e){if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1)return void n.forEach(r=>this.addOrRemoveCssClass(r,t))}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}}}(()=>this.eGui),this.componentSelectors=new Map((i??[]).map(n=>[n.selector,n])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,i){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,i))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:i,showDelayOverride:n,hideDelayOverride:r,location:s,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i),null!=i&&(this.tooltipFeature=this.createBean(new ju({getTooltipValue:()=>this.tooltipText,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getColDef:t?.getColDef,getColumn:t?.getColumn,getTooltipShowDelayOverride:null!=n?()=>n:void 0,getTooltipHideDelayOverride:null!=r?()=>r:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,i,n,r=null){if(void 0===i&&(i=this.getDataRefAttribute(t)),i){const s=this[i];s===Le?this[i]=r??t:!this.suppressDataRefValidation&&(!n||!n[i])&&de(`Issue with data-ref: ${i} on ${this.constructor.name} with ${s}`)}}createChildComponentsFromTags(t,i){(function aae(e){if(null==e)return[];const t=[];return rV(e,i=>t.push(i)),t})(t.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const s=this.createComponentFromElement(r,o=>{o.getGui()&&this.copyAttributesFromNode(r,o.getGui())},i);if(s){if(s.addItems&&r.children.length){this.createChildComponentsFromTags(r,i);const o=Array.prototype.slice.call(r.children);s.addItems(o)}this.swapComponentForNode(s,t,r)}else r.childNodes&&this.createChildComponentsFromTags(r,i)})}createComponentFromElement(t,i,n){const r=t.nodeName,s=this.getDataRefAttribute(t),o=0===r.indexOf("AG-"),a=o?this.componentSelectors.get(r):null;let l=null;return a?(E6.elementGettingCreated=t,l=new a.component(n&&s?n[s]:void 0),l.setParentComponent(this),this.createBean(l,null,i)):o&&de(`Missing selector: ${r}`),this.applyElementsToComponent(t,s,n,l),l}copyAttributesFromNode(t,i){!function lae(e,t){if(e)for(let i=0;i<e.length;i++){const n=e[i];t(n.name,n.value)}}(t.attributes,(n,r)=>i.setAttribute(n,r))}swapComponentForNode(t,i,n){const r=t.getGui();i.replaceChild(r,n),i.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const i=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(n=>n.setAttribute("tabindex",i.toString()))}setTemplate(t,i,n){const r=Wu(t);this.setTemplateFromElement(r,i,n)}setTemplateFromElement(t,i,n,r=!1){if(this.eGui=t,this.suppressDataRefValidation=r,i)for(let s=0;s<i.length;s++){const o=i[s];this.componentSelectors.set(o.selector,o)}this.wireTemplate(t,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,i){let n=i;return null==t?null:(n||(n=this.eGui),F1(t)?{element:t,parent:n}:{element:t.getGui(),parent:n})}prependChild(t,i){const{element:n,parent:r}=this.getContainerAndElement(t,i)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(t,i){const{element:n,parent:r}=this.getContainerAndElement(t,i)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:n}=i;!function nae(e,t,i={}){const{skipAriaHidden:n}=i;e.classList.toggle("ag-invisible",!t),n||g1(e,!t)}(this.eGui,t,{skipAriaHidden:n})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:n}=i;vi(this.eGui,t,{skipAriaHidden:n}),this.dispatchLocalEvent({type:"displayChanged",visible:this.displayed})}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,i,n){this.eGui.addEventListener(t,i,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}},aV={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},fae=(()=>{const e=new Set(Object.values(aV));return e.add("eye"),e})();function ts(e,t,i,n){let r=null;const s=i&&i.getColDef().icons;if(s&&(r=s[e]),t&&!r){const o=t.get("icons");o&&(r=o[e])}if(!r){const o=document.createElement("span");let a=aV[e]??(fae.has(e)?e:void 0);return a||(n?a=e:(de(`Did not find icon ${e}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),Rr(o,"presentation"),o}{let o;if("function"==typeof r)o=r();else{if("string"!=typeof r)throw new Error("icon from grid options needs to be a string or a function");o=r}if("string"==typeof o)return Wu(o);if(F1(o))return o;de("iconRenderer should return back a string or a dom object")}}function lV(e,t,i){if(0===i)return!1;const n=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(n,r)<=i}var El=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Nu,this.eElement=e,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{this.touching&&this.touchStart===t&&!this.moved&&(this.moved=!0,this.localEventService.dispatchEvent({type:"longTap",touchStart:this.touchStart,touchEvent:e}))},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);t&&!lV(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){this.touching&&(this.moved||(this.localEventService.dispatchEvent({type:"tap",touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1)}checkForDoubleTap(){const e=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&e-this.lastTapTime>this.DOUBLE_TAP_MILLIS?(this.localEventService.dispatchEvent({type:"doubleTap",touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function Ap(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var gae=`<span class="ag-sort-indicator-container">\n        ${Ap("Order","order")}\n        ${Ap("Asc","ascending-icon")}\n        ${Ap("Desc","descending-icon")}\n        ${Ap("Mixed","mixed-icon")}\n        ${Ap("None","none-icon")}\n    </span>`,M1=class extends kt{constructor(e){super(),this.eSortOrder=Le,this.eSortAsc=Le,this.eSortDesc=Le,this.eSortMixed=Le,this.eSortNone=Le,e||this.setTemplate(gae)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,i,n,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=n,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const i=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,i){if(null==t)return;const n=ts(e,this.gos,i);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&vi(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&vi(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon");vi(this.eSortNone,!t&&null==e,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e="mixed"===this.sortController.getDisplaySortForColumn(this.column);vi(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,i=e.some(r=>this.sortController.getDisplaySortIndexForColumn(r)??!1);vi(this.eSortOrder,t>=0&&i,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():Gn(this.eSortOrder)}},mae={selector:"AG-SORT-INDICATOR",component:M1},k1=class extends kt{constructor(){super(...arguments),this.eFilter=Le,this.eFilterButton=Le,this.eSortIndicator=Le,this.eMenu=Le,this.eLabel=Le,this.eText=Le,this.eSortOrder=Le,this.eSortAsc=Le,this.eSortDesc=Le,this.eSortMixed=Le,this.eSortNone=Le,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&t.enableFilterButton==e.enableFilterButton&&t.enableFilterIcon==e.enableFilterIcon&&(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??'<div class="ag-cell-label-container" role="presentation">\n        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">\n            <span data-ref="eText" class="ag-header-cell-text"></span>\n            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>\n        </div>\n    </div>';return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[mae]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=Uo(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(null==t)return;const n=ts(e,this.gos,i);n&&t.appendChild(n)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new El(this.getGui(),!0),i=this.shouldSuppressMenuHide(),n=i&&_e(this.eMenu),r=n?new El(this.eMenu,!0):t;if(this.params.enableMenu&&this.addManagedListeners(r,{[n?"tap":"longTap"]:a=>this.params.showColumnMenuAfterMouseClick(a.touchStart)}),this.params.enableSorting&&this.addManagedListeners(t,{tap:o=>{const a=o.touchStart.target;i&&(this.eMenu?.contains(a)||this.eFilterButton?.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")}}),this.params.enableFilterButton){const s=new El(this.eFilterButton,!0);this.addManagedListeners(s,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>s.destroy())}this.addDestroyFunc(()=>t.destroy()),n&&this.addDestroyFunc(()=>r.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return uo(this.eMenu),void(this.eMenu=void 0);const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,i=this.menuService.isLegacyMenuEnabled();if(e&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new M1(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=(new Date).getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{if(!(this.params.column.isMoving()||(new Date).getTime()-this.lastMovingChanged<50)){const a="ctrl"===this.gos.get("multiSortKey")?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc","asc"===t),this.addOrRemoveCssClass("ag-header-cell-sorted-desc","desc"===t),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const r=!this.funcColsService.getSourceColumnsForGroupColumn(this.params.column)?.every(s=>this.params.column.getSort()==s.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",r)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){this.eFilterButton&&(this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0)}configureFilter(e,t,i){if(!e)return uo(t),!1;const n=this.params.column;return this.addInIcon("filter",t,n),this.addManagedListeners(n,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();vi(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},Cae=class extends kt{constructor(){super('<div class="ag-header-group-cell-label" role="presentation">\n            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>'),this.agOpened=Le,this.agClosed=Le,this.agLabel=Le}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&de("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=r=>{if(Da(r))return;const s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=r=>{Bu(r)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup(),n=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:n,expandableChanged:n})}addTouchAndClickListeners(e,t){const i=new El(e,!0);this.addManagedListeners(i,{tap:t}),this.addDestroyFunc(()=>i.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();vi(this.agOpened,t),vi(this.agClosed,!t)}else vi(this.agOpened,!1),vi(this.agClosed,!1)}addInIcon(e,t){const i=ts(e,this.gos,null);i&&t.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return vi(this.agOpened,!1),void vi(this.agClosed,!1)}setupLabel(){const{displayName:e,columnGroup:t}=this.params;if(_e(e)){const i=Uo(e,!0);this.agLabel.textContent=i}this.addOrRemoveCssClass("ag-sticky-label",!t.getColGroupDef()?.suppressStickyLabel)}},cV=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(cV||{}),iC=class zt{static register(t){zt.__register(t,!0,void 0)}static registerModules(t){zt.__registerModules(t,!0,void 0)}static __register(t,i,n){zt.runVersionChecks(t),void 0!==n?(zt.areGridScopedModules=!0,void 0===zt.gridModulesMap[n]&&(zt.gridModulesMap[n]={}),zt.gridModulesMap[n][t.moduleName]=t):zt.globalModulesMap[t.moduleName]=t,zt.setModuleBased(i)}static __unRegisterGridModules(t){delete zt.gridModulesMap[t]}static __registerModules(t,i,n){zt.setModuleBased(i),t&&t.forEach(r=>zt.__register(r,i,n))}static isValidModuleVersion(t){const[i,n]=t.version.split(".")||[],[r,s]=zt.currentModuleVersion.split(".")||[];return i===r&&n===s}static runVersionChecks(t){zt.currentModuleVersion||(zt.currentModuleVersion=t.version);const i=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(t.version?zt.isValidModuleVersion(t)||Ft(i(`'${t.moduleName}' is version ${t.version} but the other modules are version ${zt.currentModuleVersion}.`)):Ft(i(`'${t.moduleName}' is incompatible.`)),t.validate){const n=t.validate();n.isValid||Ft(`${n.message}`)}}static setModuleBased(t){void 0===zt.moduleBased?zt.moduleBased=t:zt.moduleBased!==t&&(Ft("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),Ft("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){zt.isBundled=!0}static __assertRegistered(t,i,n){if(this.__isRegistered(t,n))return!0;let r;if(zt.isBundled)r=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(zt.moduleBased||void 0===zt.moduleBased){const s=Object.entries(cV).find(([o,a])=>a===t)?.[0];r=`AG Grid: unable to use ${i} as the ${s} is not registered${zt.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${s} } from '${t}';\n    \n    ModuleRegistry.registerModules([ ${s} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else r=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';`;return Ft(r),!1}static __isRegistered(t,i){return!!zt.globalModulesMap[t]||!!zt.gridModulesMap[i]?.[t]}static __getRegisteredModules(t){return[...U0(zt.globalModulesMap),...U0(zt.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return U0(zt.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!zt.moduleBased}};iC.globalModulesMap={},iC.gridModulesMap={},iC.areGridScopedModules=!1;var hr=iC,wae=class extends kt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),n=e.formatValue(i),r=_e(n)?n:i,s=t>=0;this.eDelta.textContent=s?"\u2191"+r:"\u2193"+r,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Gn(this.eDelta)}refresh(e,t=!1){const i=e.value;return i!==this.lastValue&&(_e(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:_e(e.value)?this.eValue.textContent=i:Gn(this.eValue),!this.filterManager?.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof i&&"number"==typeof this.lastValue&&this.showDelta(e,i-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0)}},bae=class extends kt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let i=e.value;return ft(i)&&(i=""),i!==this.lastValue&&!this.filterManager?.isSuppressFlashingCellsBecauseFiltering()&&(t||this.addSlideAnimation(),this.lastValue=i,_e(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:_e(e.value)?this.eCurrent.textContent=i:Gn(this.eCurrent),!0)}},Y=class{};Y.BACKSPACE="Backspace",Y.TAB="Tab",Y.ENTER="Enter",Y.ESCAPE="Escape",Y.SPACE=" ",Y.LEFT="ArrowLeft",Y.UP="ArrowUp",Y.RIGHT="ArrowRight",Y.DOWN="ArrowDown",Y.DELETE="Delete",Y.F2="F2",Y.PAGE_UP="PageUp",Y.PAGE_DOWN="PageDown",Y.PAGE_HOME="Home",Y.PAGE_END="End",Y.A="KeyA",Y.C="KeyC",Y.D="KeyD",Y.V="KeyV",Y.X="KeyX",Y.Y="KeyY",Y.Z="KeyZ";var xae=class extends kt{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n,disabled:r}=this.config;null!=r&&this.setDisabled(r),null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){Gn(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(vi(this.eLabel,!1),Rr(this.eLabel,"presentation")):(vi(this.eLabel,!0),Rr(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left","left"===e),i.toggle("ag-label-align-right","right"===e),i.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||tC(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return Ep(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},dV=class extends xae{constructor(e,t,i,n){super(e,t,i),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),null!=i&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();null==i||""==i||null!==function Voe(e){return e.getAttribute("aria-label")}(e)?Sp(e,""):Sp(e,t??"")}setAriaLabel(e){return Gu(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return fo(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}},Vc=class extends dV{constructor(e,t,i="text",n="input"){super(e,e?.template??`\n            <div role="presentation">\n                <div data-ref="eLabel" class="ag-input-field-label"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>\n                </div>\n            </div>`,[],t),this.inputType=i,this.displayFieldTag=n,this.eLabel=Le,this.eWrapper=Le,this.eInput=Le}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;null!=e&&this.setInputName(e),null!=t&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return tC(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return Ms(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Gu(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Ep(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){return Ms(this.eInput,"autocomplete",!0===e?null:"string"==typeof e?e:"off"),this}},nC=class extends Vc{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;"boolean"==typeof e&&this.setReadOnly(e),"boolean"==typeof t&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const n=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}},I1={selector:"AG-CHECKBOX",component:nC},Sae=class extends kt{constructor(){super('\n            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[I1]),this.eCheckbox=Le}init(e){this.params=e,this.updateCheckbox(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),WB(t,"polite"),this.addManagedListeners(t,{click:i=>{if(Bu(i),this.eCheckbox.isDisabled())return;const n=this.eCheckbox.getValue();this.onCheckboxChanged(n)},dblclick:i=>{Bu(i)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:i=>{if(i.key===Y.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===this.gos.getActiveDomElement()&&this.eCheckbox.toggle();const n=this.eCheckbox.getValue();this.onCheckboxChanged(n),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0;if(e.node.group&&e.column)if("boolean"==typeof e.value)t=e.value;else{const a=e.column.getColId();a.startsWith(wp)?t=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[a]?t=e.value??void 0:i=!1}else t=e.value??void 0;if(!i)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(t);const n=null!=e.disabled?e.disabled:!e.column?.isCellEditable(e.node);this.eCheckbox.setDisabled(n);const r=this.localeService.getLocaleTextFunc(),s=m1(r,t),o=n?s:`${r("ariaToggleCellValue","Press SPACE to toggle cell value")} (${s})`;this.eCheckbox.setInputAriaLabel(o)}onCheckboxChanged(e){const{column:t,node:i,value:n}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:n});const r=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:r})}},Eae=class extends kt{constructor(){super('<div class="ag-loading">\n            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" data-ref="eLoadingText"></span>\n        </div>'),this.eLoadingIcon=Le,this.eLoadingText=Le}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=ts("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},Dae=class extends kt{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>Sp(e.eParentOfValue)),Sp(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Gu(this.getGui(),t)}setupLoading(e){const i=this.gos.getDocument().createElement("div");i.classList.add("ag-skeleton-effect");const n=e.node.rowIndex;if(null!=n){const o=75+25*(n%2==0?Math.sin(n):Math.cos(n));i.style.width=`${o}%`}this.getGui().appendChild(i);const s=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Gu(this.getGui(),s)}refresh(e){return!1}destroy(){super.destroy()}},uV=class extends kt{constructor(){super()}destroy(){super.destroy()}},Tae=class extends uV{init(){const e=Ta(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const t=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},Aae=class extends uV{init(){const e=Ta(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const t=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}},$u=class extends kt{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Rae=class extends $u{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Uo(t,!0)}};function hV(e,t,i,n){let r=t.map((a,l)=>({value:a,relevance:Mae(e.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(r.sort((a,l)=>l.relevance-a.relevance),i&&(r=r.filter(a=>0!==a.relevance)),r.length>0&&n&&n>0){const l=r[0].relevance*n;r=r.filter(c=>l-c.relevance<0)}const s=[],o=[];for(const a of r)s.push(a.value),o.push(a.idx);return{values:s,indices:o}}function Mae(e,t){const i=e.replace(/\s/g,""),n=t.replace(/\s/g,"");let r=0,s=-1;for(let o=0;o<i.length;o++){const a=n.indexOf(i[o],s+1);-1!==a&&(s=a,r+=100-100*s/1e4*100)}return r}var kae=class extends ne{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agColumnHeader:k1,agColumnGroupHeader:Cae,agSortIndicator:M1,agAnimateShowChangeCellRenderer:wae,agAnimateSlideCellRenderer:bae,agLoadingCellRenderer:Eae,agSkeletonCellRenderer:Dae,agCheckboxCellRenderer:Sae,agLoadingOverlay:Tae,agNoRowsOverlay:Aae,agTooltipComponent:Rae},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");null!=e&&Es(e,(t,i)=>this.registerJsComponent(t,i))}registerDefaultComponent(e,t){this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(a,l)=>({componentFromFramework:l,component:a}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(null!=n)return i(n,!0);const r=this.jsComps[t];if(r)return i(r,this.getFrameworkOverrides().isFrameworkComponent(r));const s=this.agGridDefaults[t];if(s)return i(s,!1);const o=this.enterpriseAgDefaultCompsModule[t];return o?hr.__assertRegistered(o,`AG Grid '${e}' component: ${t}`,this.gridId):l1(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const n=hV(t,[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],!0,.8).values;de(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&de(`         Did you mean: [${n.slice(0,3)}]?`),de(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},is=class jg{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new jg(i=>{let n=t.length;const r=new Array(n);t.forEach((s,o)=>{s.then(a=>{r[o]=a,n--,0===n&&i(r)})})}):jg.resolve()}static resolve(t=null){return new jg(i=>i(t))}then(t){return new jg(i=>{1===this.status?i(t(this.resolution)):this.waiters.push(n=>i(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}},Iae={propertyName:"dateComponent",cellRenderer:!1},Pae={propertyName:"headerComponent",cellRenderer:!1},Oae={propertyName:"headerGroupComponent",cellRenderer:!1},fV={propertyName:"cellRenderer",cellRenderer:!0},Lae={propertyName:"cellRenderer",cellRenderer:!1},Nae={propertyName:"loadingCellRenderer",cellRenderer:!0},Bae={propertyName:"cellEditor",cellRenderer:!1},pV={propertyName:"innerRenderer",cellRenderer:!0},Vae={propertyName:"loadingOverlayComponent",cellRenderer:!1},Hae={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Gae={propertyName:"tooltipComponent",cellRenderer:!1},P1={propertyName:"filter",cellRenderer:!1},zae={propertyName:"floatingFilterComponent",cellRenderer:!1},Wae={propertyName:"toolPanel",cellRenderer:!1},Uae={propertyName:"statusPanel",cellRenderer:!1},jae={propertyName:"fullWidthCellRenderer",cellRenderer:!0},$ae={propertyName:"loadingCellRenderer",cellRenderer:!0},Kae={propertyName:"groupRowRenderer",cellRenderer:!0},qae={propertyName:"detailCellRenderer",cellRenderer:!0},Yae={propertyName:"menuItem",cellRenderer:!1},gV=class D6 extends ne{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getHeaderCompDetails(t,i){return this.getCompDetails(t,Pae,"agColumnHeader",i)}getHeaderGroupCompDetails(t){const i=t.columnGroup.getColGroupDef();return this.getCompDetails(i,Oae,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,jae,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,$ae,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,Kae,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,qae,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,i){return this.getCompDetails(t,pV,null,i)}getFullWidthGroupRowInnerCellRenderer(t,i){return this.getCompDetails(t,pV,null,i)}getCellRendererDetails(t,i){return this.getCompDetails(t,fV,null,i)}getEditorRendererDetails(t,i){return this.getCompDetails(t,Lae,null,i)}getLoadingCellRendererDetails(t,i){return this.getCompDetails(t,Nae,"agSkeletonCellRenderer",i,!0)}getCellEditorDetails(t,i){return this.getCompDetails(t,Bae,"agCellEditor",i,!0)}getFilterDetails(t,i,n){return this.getCompDetails(t,P1,n,i,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,Iae,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,Vae,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,Hae,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,Gae,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,i){return this.getCompDetails(t,fV,null,i)}getFloatingFilterCompDetails(t,i,n){return this.getCompDetails(t,zae,n,i)}getToolPanelCompDetails(t,i){return this.getCompDetails(t,Wae,null,i,!0)}getStatusPanelCompDetails(t,i){return this.getCompDetails(t,Uae,null,i,!0)}getMenuItemCompDetails(t,i){return this.getCompDetails(t,Yae,"agMenuItem",i,!0)}getCompDetails(t,i,n,r,s=!1){const{propertyName:o,cellRenderer:a}=i;let{compName:l,jsComp:c,fwComp:d,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:f}=D6.getCompKeys(this.frameworkOverrides,t,i,r);const g=v=>{const _=this.userComponentRegistry.retrieve(o,v);_&&(c=_.componentFromFramework?void 0:_.component,d=_.componentFromFramework?_.component:void 0)};if(null!=l&&g(l),null==c&&null==d&&null!=n&&g(n),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(o,c)),!c&&!d)return void(s&&Ft(`Could not find component ${l}, did you forget to configure this component?`));const p=this.mergeParamsWithApplicationProvidedParams(t,i,r,u),m=null==c,C=c||d;return{componentFromFramework:m,componentClass:C,params:p,type:i,popupFromSelector:h,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(C,m,p,i)}}static getCompKeys(t,i,n,r){const{propertyName:s}=n;let o,a,l,c,d,u;if(i){const h=i,f=h[s+"Selector"],g=f?f(r):null,p=m=>{"string"==typeof m?o=m:null!=m&&!0!==m&&(t.isFrameworkComponent(m)?l=m:a=m)};g?(p(g.component),c=g.params,d=g.popup,u=g.popupPosition):p(h[s])}return{compName:o,jsComp:a,fwComp:l,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:u}}newAgStackInstance(t,i,n,r){let a;if(i){const c=this.componentMetadataProvider.retrieve(r.propertyName);a=this.frameworkComponentWrapper.wrap(t,c.mandatoryMethodList,c.optionalMethodList,r)}else a=new t;const l=this.initComponent(a,n);return null==l?is.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,i,n,r=null){const s=this.gos.getGridCommonParams();Ds(s,n);const a=t&&t[i.propertyName+"Params"];return"function"==typeof a?Ds(s,a(n)):"object"==typeof a&&Ds(s,a),Ds(s,r),s}initComponent(t,i){if(this.createBean(t),null!=t.init)return t.init(i)}};function Rp(e){return null!=e&&null!=e.getFrameworkComponentInstance?e.getFrameworkComponentInstance():e}var Xae=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,e&&e.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){Object.entries(e.providedBeanInstances).forEach(([t,i])=>{this.beans[t]=i}),e.beanClasses.forEach(t=>{const i=new t;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(i)}),e.derivedBeans?.forEach(t=>{const{beanName:i,bean:n}=t(this);this.beans[i]=n,this.createdBeans.push(n)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{i.preWireBeans?.(this.beans),i.wireBeans?.(this.beans)}),e.forEach(i=>i.preConstruct?.()),t&&e.forEach(t),e.forEach(i=>i.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},Zae=class extends Xae{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),hr.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},mV=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(mV||{}),ile=class extends ne{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment}postConstruct(){const e=t=>function pae(e,t,i){const n=ts(e,t,i);if(n){const{className:s}=n;if("string"==typeof s&&s.indexOf("ag-icon")>-1||"object"==typeof s&&s["ag-icon"])return n}const r=document.createElement("span");return r.appendChild(n),r}(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}removeDragSource(e){const t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),cr(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted?.(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped?.(),this.lastDropTarget?.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=void 0,this.dragItem=null,this.removeGhost()}onDragging(e,t){const i=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const r=this.dropTargets.filter(o=>this.isMouseOnDropTarget(e,o)),s=this.findCurrentDropTarget(e,r);if(s!==this.lastDropTarget)this.leaveLastTargetIfExists(e,i,n,t),null!==this.lastDropTarget&&null===s&&this.dragSource.onGridExit?.(this.dragItem),null===this.lastDropTarget&&null!==s&&this.dragSource.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(s,e,i,n,t),this.lastDropTarget=s;else if(s&&s.onDragging){const o=this.createDropTargetEvent(s,e,i,n,t);s.onDragging(o)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const{width:n,height:r,left:s,right:o,top:a,bottom:l}=i.getBoundingClientRect();if(0===n||0===r)return!1;if(!(e.clientX>=s&&e.clientX<o&&e.clientY>=a&&e.clientY<l))return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let n=!1;for(const o of i)if(this.allContainersIntersect(e,o)){n=!0;break}const{eElement:r,type:s}=this.dragSource;return!(t.targetContainsSource&&!t.getContainer().contains(r))&&n&&t.isInterestedIn(s,r)}findCurrentDropTarget(e,t){const i=t.length;if(0===i)return null;if(1===i)return t[0];const r=this.gos.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const s of r)for(const o of t)if(-1!==eoe(this.getAllContainersFromDropTarget(o)).indexOf(s))return o;return null}enterDragTargetIfExists(e,t,i,n,r){if(e){if(e.onDragEnter){const s=this.createDropTargetEvent(e,t,i,n,r);e.onDragEnter(s)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,i,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const r=this.createDropTargetEvent(this.lastDropTarget,e,t,i,n);this.lastDropTarget.onDragLeave(r)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,n,r){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l}=this;return this.gos.addGridCommonParams({event:t,x:t.clientX-o.left,y:t.clientY-o.top,vDirection:n,hDirection:i,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:s})}positionGhost(e){const t=this.eGhost;if(!t)return;const n=t.getBoundingClientRect().height,r=function Joe(){return document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1)}()-2,s=function eae(){return document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1)}()-2,o=JB(t.offsetParent),{clientY:a,clientX:l}=e;let c=a-o.top-n/2,d=l-o.left-10;const u=this.gos.getDocument(),h=u.defaultView||window,f=h.pageYOffset||u.documentElement.scrollTop,g=h.pageXOffset||u.documentElement.scrollLeft;r>0&&d+t.clientWidth>r+g&&(d=r+g-t.clientWidth),d<0&&(d=0),s>0&&c+t.clientHeight>s+f&&(c=s+f-t.clientHeight),c<0&&(c=0),t.style.left=`${d}px`,t.style.top=`${c}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=Wu('<div class="ag-dnd-ghost ag-unselectable">\n<span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n<div class="ag-dnd-ghost-label"></div>\n</div>'),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost),this.environment.applyThemeClasses(this.eGhost),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const e=this.eGhost.querySelector(".ag-dnd-ghost-label");let t=this.dragSource.dragItemName;c1(t)&&(t=t()),e.innerHTML=Uo(t)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const i=this.gos.getDocument();let n=null,r=null;try{n=i.fullscreenElement}catch{}finally{n||(n=this.gos.getRootNode());r=n.querySelector("body")||(n instanceof ShadowRoot?n:n instanceof Document?n?.documentElement:n)}this.eGhostParent=r,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):de("Could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){Gn(this.eGhostIcon);let i=null;e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():"notAllowed"),i=this.dropIconMap[e],this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),(i!==this.dropIconMap.hide||!this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)}},sle=class extends ne{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(e=>{const t=e.gridBodyCtrl;this.autoScrollService=new class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<n.left+r,this.tickRight=e.clientX>n.right-r,this.tickUp=e.clientY<n.top+r&&!i,this.tickDown=e.clientY>n.bottom-r&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}}({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return 2===e}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){return!!(this.funcColsService.getRowGroupColumns().length||this.filterManager?.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=[...this.selectionService.getSelectedNodes()].sort((r,s)=>null==r.rowIndex||null==s.rowIndex?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(s));if(-1!==n.indexOf(t))return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}isDropZoneWithinThisGrid(e){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return!i.contains(n)}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),n=this.gos.get("rowDragManaged"),r=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(St(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&1===t.highlighted,n=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes;let s=i?1:0;if(this.isFromThisGrid(e))r.forEach(o=>{o.rowTop<n&&(s-=1)}),this.moveRows(r,n,s);else{const o=this.gos.getRowIdCallback();let a=this.clientSideRowModel.getRowIndexAtPixel(n)+1;0===this.clientSideRowModel.getHighlightPosition(n)&&a--,this.clientSideRowModel.updateRowData({add:r.filter(l=>!this.clientSideRowModel.getRowNode(o?.({data:l.data,level:0,rowPinned:l.rowPinned})??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer())return void de("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(e))return void de("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),e.onDragLeave&&(t.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),e.onDragging&&(t.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),e.onDragStop&&(t.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))})),this.dragAndDropService.addDropTarget({isInterestedIn:i=>2===i,getIconName:()=>"move",external:!0,...t})}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?o=>{i(o),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",o))}:i,onDragLeave:e.onDragLeave?o=>{n(o),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",o))}:n,onDragging:e.onDragging?o=>{r(o),e.onDragging(this.draggingToRowDragEvent("rowDragMove",o))}:r,onDragStop:e.onDragStop?o=>{s(o),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",o))}:s,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:n,onDragging:r,onDragStop:s,fromGrid:!0}}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y;let s,o,r=-1;switch(i>this.pageBoundsService.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(r)),t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:s,y:i,vDirection:o})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},ole=class extends ne{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement;t.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&t.removeEventListener("touchstart",e.touchStartListener,{passive:!0})}removeDragSource(e){const t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),cr(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:n,stopPropagationForTouch:r}=e;i.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");n&&!o&&(s=a=>{T1(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a))},i.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const r=l=>this.onTouchUp(l,e.eElement),o=t.target,a=[{target:this.gos.getRootNode(),type:"touchmove",listener:l=>{l.cancelable&&l.preventDefault()},options:{passive:!1}},{target:o,type:"touchmove",listener:l=>this.onTouchMove(l,e.eElement),options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,0!==t.button))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const o=this.gos.getRootNode();this.addTemporaryEvents([{target:o,type:"mousemove",listener:l=>this.onMouseMove(l,e.eElement)},{target:o,type:"mouseup",listener:l=>this.onMouseUp(l,e.eElement)},{target:o,type:"contextmenu",listener:l=>l.preventDefault()}]),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:n,listener:r,options:s}=t;i.addEventListener(n,r,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:n,listener:r,options:s}=t;i.removeEventListener(n,r,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams;return lV(e,t,_e(i)?i:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){jo()&&this.gos.getDocument().getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){return!!e.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button")}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(i=>i()),this.dragEndFunctions.length=0}},O1=class extends kt{constructor(e,t,i,n,r,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=n,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ts("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new lle(this,this.beans,this.rowNode,this.column):new ale(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&de("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n?.preventDefault()}})[0]);const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const n=this.getDragItem(),r=n.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(n,r):1===r?this.cellValueFn():`${r} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},vV=class extends ne{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,n=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=c1(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}},ale=class extends vV{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},lle=class extends vV{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(i&&!r||n)}},cle=new Set(["localEventService","__objectId","sticky"]),Fp=class Th{constructor(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Th.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,i){const n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(t,n,i);this.localEventService?.dispatchEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,n){return{type:"dataChanged",node:this,oldData:i,newData:t,update:n}}getRowIndexString(){return null==this.rowIndex?(Ft("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new Th(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,i){const n=_e(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const s=this.createDataChangedEvent(t,r,!1);this.localEventService?.dispatchEvent(s)}checkRowSelectable(){const t=this.beans.gos.get("isRowSelectable");this.setRowSelectable(!t||t(this))}setRowSelectable(t,i){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),i)return;if(this.beans.gos.get("groupSelectsChildren")){const r=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:r??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const i=this.beans.gos.getRowIdCallback();if(i)if(this.data){const n=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Th.ID_PREFIX_ROW_GROUP)&&Ft(`Row IDs cannot start with ${Th.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}getGroupKeys(t=!1){const i=[];let n=this;for(t&&(n=n.parent);n&&n.level>=0;)i.push(n.key),n=n.parent;return i.reverse(),i}isPixelInRange(t){return!(!_e(this.rowTop)||!_e(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight}updateIfDifferent(t,i,n){this[t]!==i&&(this[t]=i,this.dispatchRowEvent(n))}setFirstChild(t){this.updateIfDifferent("firstChild",t,"firstChildChanged")}setLastChild(t){this.updateIfDifferent("lastChild",t,"lastChildChanged")}setChildIndex(t){this.updateIfDifferent("childIndex",t,"childIndexChanged")}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(null!==t))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(t){this.updateIfDifferent("displayed",t,"displayedChanged")}setDragging(t){this.updateIfDifferent("dragging",t,"draggingChanged")}setHighlighted(t){this.updateIfDifferent("highlighted",t,"rowHighlightChanged")}setHovered(t){this.hovered!==t&&(this.hovered=t)}isHovered(){return this.hovered}setAllChildrenCount(t){this.updateIfDifferent("allChildrenCount",t,"allChildrenCountChanged")}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,i=!1){this.rowHeight=t,this.rowHeightEstimated=i,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=ur(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let t=!1,i=!0,n=0;const r=this.__autoHeights;if(null==r||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(a=>{let l=r[a.getId()];if(null==l){if(!this.beans.columnModel.isColSpanActive())return void(t=!0);{let c=[];switch(a.getPinned()){case"left":c=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":c=this.beans.visibleColsService.getRightColsForRow(this);break;case null:c=this.beans.columnViewportService.getColsWithinViewport(this)}if(c.includes(a))return void(t=!0);l=-1}}else i=!1;l>n&&(n=l)}),t)||((i||n<10)&&(n=this.beans.gos.getRowHeightForNode(this).height),n==this.rowHeight))return;this.setRowHeight(n);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(t){this.updateIfDifferent("rowIndex",t,"rowIndexChanged")}setUiLevel(t){this.updateIfDifferent("uiLevel",t,"uiLevelChanged")}setExpanded(t,i,n){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const r={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:i||null};this.beans.rowNodeEventThrottle.dispatchExpanded(r,n),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,i,n){const s=(()=>"string"!=typeof t?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t))(),o=this.getValueFromValueService(s);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:s,colDef:s.getColDef(),data:this.data,node:this,oldValue:o,newValue:i,value:i,source:n}),!1;const a=this.beans.valueService.setValue(this,s,i,n);return this.dispatchCellChangedEvent(s,i,o),this.checkRowSelectable(),a}getValueFromValueService(t){const i=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!i;let r=!1;const s=this.beans.gos.get("groupTotalRow")??this.beans.gos.get("groupIncludeFooter");r="function"!=typeof s?!!s:!!(this.beans.gos.getCallback("groupTotalRow")??this.beans.gos.getCallback("groupIncludeFooter"))({node:this});const o=this.beans.gos.get("groupSuppressBlankHeader");return this.beans.valueService.getValue(t,this,!1,n&&r&&!o)}setGroupValue(t,i){const n=this.beans.columnModel.getCol(t);ft(this.groupData)&&(this.groupData={});const r=n.getColId(),s=this.groupData[r];s!==i&&(this.groupData[r]=i,this.dispatchCellChangedEvent(n,i,s))}setAggData(t){const i=this.aggData;if(this.aggData=t,this.localEventService){const n=r=>{const s=this.aggData?this.aggData[r]:void 0,o=i?i[r]:void 0;if(s===o)return;const a=this.beans.columnModel.getCol(r);a&&this.dispatchCellChangedEvent(a,s,o)};for(const r in this.aggData)n(r);for(const r in t)r in this.aggData||n(r)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){const n=this.beans.gos.get("treeData"),r=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!r&&r(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return(this.group&&Ar(this.childrenAfterGroup))??!1}dispatchCellChangedEvent(t,i,n){const r={type:"cellChanged",node:this,column:t,newValue:i,oldValue:n};this.localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){let t=!1,i=!1,n=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let r=0;r<this.childrenAfterGroup.length;r++){const s=this.childrenAfterGroup[r];let o=s.isSelected();if(!s.selectable){const a=s.calculateSelectedFromChildren();if(null===a)continue;o=a}switch(o){case!0:t=!0;break;case!1:i=!0;break;default:n=!0}}return n||t&&i?void 0:!!t||!i&&(this.selectable?this.selected:null)}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){const i={type:t,node:this};this.localEventService?.dispatchEvent(i)}selectThisNode(t,i,n="api"){if(!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:i||null,source:n}),!0}setSelected(t,i=!1,n="api"){"boolean"!=typeof n?this.setSelectedParams({newValue:t,clearSelection:i,rangeSelect:!1,source:n}):de("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(t){return this.rowPinned?(de("cannot select pinned rows"),0):void 0===this.id?(de("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(t){let i=this.parent;for(;i;){if(i===t)return!0;i=i.parent}return!1}addEventListener(t,i){this.localEventService||(this.localEventService=new Nu),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new e1(this.beans.frameworkOverrides));const n=this.frameworkEventListenerService?.wrap(i)??i;this.localEventService.addEventListener(t,n)}removeEventListener(t,i){if(!this.localEventService)return;const n=this.frameworkEventListenerService?.unwrap(i)??i;this.localEventService.removeEventListener(t,n),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}getFirstChildOfFirstChild(t){let i=this,n=!0,r=!1,s=null;for(;n&&!r;){const o=i.parent;_e(o)&&i.firstChild?o.rowGroupColumn===t&&(r=!0,s=o):n=!1,i=o}return r?s:null}isFullWidthCell(){if(this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return!!t&&t({rowNode:this})}getRoute(){if(null==this.key)return;const t=[];let i=this;for(;i&&null!=i.key;)t.push(i.key),i=i.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Th(this.beans);Object.keys(this).forEach(i=>{cle.has(i)||(t[i]=this[i])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};Fp.ID_PREFIX_ROW_GROUP="row-group-",Fp.ID_PREFIX_TOP_PINNED="t-",Fp.ID_PREFIX_BOTTOM_PINNED="b-",Fp.OBJECT_ID_SEQUENCE=0;var Fa=Fp,ule=class extends kt{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then(()=>{})??is.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then(t=>{t?.afterGuiAttached?.(e)})}afterGuiDetached(){this.filterWrapper?.filterPromise?.then(e=>{e?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:i}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(t)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then(n=>{const r=n.getGui();_e(r)||de(`getGui method from filter returned ${r}; it should be a DOM element.`),this.appendChild(r),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()})})}onFilterDestroyed(e){("api"===e.source||"paramsUpdated"===e.source)&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(Gn(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},CV="ag-resizer-wrapper",Dl=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,hle=`<div class="${CV}">\n        ${Dl("eTopLeft","topLeft")}\n        ${Dl("eTop","top")}\n        ${Dl("eTopRight","topRight")}\n        ${Dl("eRight","right")}\n        ${Dl("eBottomRight","bottomRight")}\n        ${Dl("eBottom","bottom")}\n        ${Dl("eBottomLeft","bottomLeft")}\n        ${Dl("eLeft","left")}\n    </div>`,fle=class extends ne{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:n,minHeight:r,height:s,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const d=ho(this.element);if(d){const u=this.findBoundaryElement(),h=window.getComputedStyle(u);if(null!=h.minWidth){const f=u.offsetWidth-this.element.offsetWidth;c=parseInt(h.minWidth,10)-f}if(null!=h.minHeight){const f=u.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-f}}if(this.minHeight=r||l,this.minWidth=i||c,n&&this.setWidth(n),s&&this.setHeight(s),(!n||!s)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(d&&t){let u=this.boundaryEl,h=!0;if(u||(u=this.findBoundaryElement(),h=!1),u){const f=parseFloat(u.style.top),g=parseFloat(u.style.left);h?this.offsetElement(isNaN(g)?0:g,isNaN(f)?0:f):this.setPosition(g,f)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],r=this.getResizerElement(t),s={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width=`${t}px`),-1!==e&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let n=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Tp(i,e),e=QB(i),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?Tp(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:n.top,o=e?0:r.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();a=d-n.bottom}}return i+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let n=!1;if("string"==typeof e&&-1!==e.indexOf("%"))fo(t,e),e=Z0(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,s=i?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?fo(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){this.config.forcePopupParentAsOffsetParent&&(e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:n,anywhereWithin:r,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!i,!!r,o)?0:o,movementY:this.shouldSkipY(t,!!n,s,a)?0:a}}shouldSkipX(e,t,i,n){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return!!l||(l=t?n<0&&e.clientX>a+s.left||n>0&&e.clientX<a+s.left:i?n<0&&e.clientX>o.right||n>0&&e.clientX<a+s.left:n<0&&e.clientX>o.right||n>0&&e.clientX<o.right,l)}shouldSkipY(e,t,i=0,n){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return!!l||(l=t?n<0&&e.clientY>a+s.top+i||n>0&&e.clientY<a+s.top:n<0&&e.clientY>o.bottom||n>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=(new DOMParser).parseFromString(hle,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${CV}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:n}=this.config;!i&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let n=0;n<e.length;n++){const r=e[n],s=!!r.style.flex&&"0 0 auto"!==r.style.flex;if(r===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(r);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=r.offsetHeight,a=r.offsetWidth;t+=o,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){const r=i[n];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=i[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:r,isBottom:s,isLeft:o}=this.currentResizer,a=r||o,l=s||n,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:o,isTop:n}),u=this.position.x,h=this.position.y;let f=0,g=0;if(a&&c){const p=o?-1:1,m=this.getWidth(),C=m+c*p;let v=!1;o&&(f=m-C,(u+f<=0||C<=this.minWidth)&&(v=!0,f=0)),v||this.setWidth(C)}if(l&&d){const p=n?-1:1,m=this.getHeight(),C=m+d*p;let v=!1;n?(g=m-C,(h+g<=0||C<=this.minHeight)&&(v=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&m<C&&this.getMinSizeOfSiblings().height+C>this.element.parentElement.offsetHeight&&(v=!0),v||this.setHeight(C)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&f||g)&&this.offsetElement(u+f,h+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+r,i+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},_V=class T6 extends ne{constructor(t,i={}){super(),this.eFocusableElement=t,this.callbacks=i,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())},...i}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(T6.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:i=>{if(!i.defaultPrevented&&!Da(i)){if(this.callbacks.shouldStopEventPropagation(i))return void Bu(i);i.key===Y.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}}})}};_V.FOCUS_MANAGED_CLASS="ag-focus-managed";var Hc=_V,yV={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function L1(e,t){return rC(e)?(null!=e.debounceMs&&de("debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:t}function rC(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var ple=class extends kt{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Le,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new Hc(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new fle(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=rC(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=rC(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:i,readOnly:n}=t??{},{buttons:r,readOnly:s}=e;if(n===s&&_p(i,r))return;const o=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Gn(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o)return void(this.eButtonsPanel&&uo(this.eButtonsPanel));const a=document.createDocumentFragment(),l=c=>{let d,u;switch(c){case"apply":d=this.translate("applyFilter"),u=g=>this.onBtApply(!1,!1,g);break;case"clear":d=this.translate("clearFilter"),u=()=>this.onBtClear();break;case"reset":d=this.translate("resetFilter"),u=()=>this.onBtReset();break;case"cancel":d=this.translate("cancelFilter"),u=g=>{this.onBtCancel(g)};break;default:return void de("Unknown button type specified")}const f=Wu(`<button\n                    type="${"apply"===c?"submit":"button"}"\n                    data-ref="${c}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${d}\n                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(f,{click:u})),a.append(f)};r.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=L1(this.providedFilterParams,this.getDefaultDebounceMs()),t=ur(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t?.()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const i=e&&e.key;let n;("Enter"===i||"Space"===i)&&(n={keyboardEvent:e}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&Ep(n,!i)}e&&!t||"immediately"===t?this.onBtApply(e):(!this.applyActive&&!t||"debounce"===t)&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;const t="floatingFilter"===e||"columnFilter"===e,{positionableFeature:i,gos:n}=this;t?(i.restoreLastSize(),i.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,yV[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},gle=class extends nC{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},mle=class extends kt{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case Y.ENTER:if(this.highlightedEl){const i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}else this.setValue(this.getValue());break;case Y.DOWN:case Y.UP:e.preventDefault(),this.navigate(t);break;case Y.PAGE_DOWN:case Y.PAGE_UP:case Y.PAGE_HOME:case Y.PAGE_END:e.preventDefault(),this.navigateToPage(t)}}navigate(e){const t=e===Y.DOWN;let i;if(this.highlightedEl){let r=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),i=this.itemEls[r]}else i=this.itemEls[t?0:this.itemEls.length-1];this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||0===this.itemEls.length)return;const t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,n=this.itemEls[0].clientHeight,r=Math.floor(this.getGui().clientHeight/n);let s=-1;e===Y.PAGE_HOME?s=0:e===Y.PAGE_END?s=i:e===Y.PAGE_DOWN?s=Math.min(t+r,i):e===Y.PAGE_UP&&(s=Math.max(t-r,0)),-1!==s&&this.highlightItem(this.itemEls[s])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:i}=e,n=i||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{uo(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{(function Uoe(e,t){Fs(e,"posinset",t)})(t,i+1),function Woe(e,t){Fs(e,"setsize",t)}(t,e.length)})}renderOption(e,t){const i=this.gos.getDocument(),n=i.createElement("div");Rr(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const r=i.createElement("span");n.appendChild(r),r.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new ju({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(t),this;const i=this.options.findIndex(n=>n.value===e);if(-1!==i){const n=this.options[i];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);-1!==e&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!ho(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),q0(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:i,clientHeight:n}=t,{offsetTop:r,offsetHeight:s}=e;(r+s>i+n||r<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!ho(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),q0(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},vle=class extends dV{constructor(e){if(super(e,e?.template||'\n            <div class="ag-picker-field" role="presentation">\n                <div data-ref="eLabel"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Le,this.eWrapper=Le,this.eDisplayField=Le,this.eIcon=Le,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:n,minPickerWidth:r,maxPickerWidth:s}=e;null!=t&&(this.pickerGap=t),this.variableWidth=!!n,null!=i&&this.setPickerMaxHeight(i),null!=r&&this.setPickerMinWidth(r),null!=s&&this.setPickerMaxWidth(s)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:n}=this.config;if(i){const r=ts(i,this.gos);r&&this.eIcon.appendChild(r)}null!=n&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),K0(e,!1),this.ariaRole&&Rr(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Y.UP:case Y.DOWN:case Y.ENTER:case Y.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Y.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:n,modalPicker:r=!0}=this.config,s={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const h=this.gos.isNothingFocused();this.beforeHidePicker(),h&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,n),anchorToElement:this.eWrapper};e.style.position="absolute";const o=this.popupService.addPopup(s),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:c,variableWidth:d}=this;d?(l&&(e.style.minWidth=l),e.style.width=R1(Z0(this.eWrapper)),c&&(e.style.maxWidth=c)):tC(e,c??Z0(this.eWrapper));const u=a??`${A1(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",u),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){this.isAlive()&&(K0(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e))}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return tC(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return"number"==typeof e&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return"number"==typeof e&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return"number"==typeof e&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},N1=class extends vle{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;null!=e&&this.addOptions(e),null!=t&&this.setValue(t,!0),i&&null==t&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new mle("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),function Zoe(e,t){Rs(e,"controls",t.id),Sp(t,e.id)}(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===Y.TAB&&this.hidePicker(),t){case Y.ENTER:case Y.UP:case Y.DOWN:case Y.PAGE_UP:case Y.PAGE_DOWN:case Y.PAGE_HOME:case Y.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case Y.ESCAPE:super.onKeyDown(e);break;case Y.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e)}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let r=this.listComponent.getDisplayValue();return null==r&&this.config.placeholder&&(r=this.config.placeholder),this.eDisplayField.textContent=r,this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},Cle={selector:"AG-SELECT",component:N1},wV=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{"string"!=typeof e&&([["displayKey"],["displayName"],["predicate","test"]].every(n=>!!n.some(r=>null!=e[r])||(de(`ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1))?this.customFilterOptions[e.displayKey]=e:this.filterOptions=this.filterOptions.filter(n=>n===e)||[])})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:de("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else de("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},bV=class extends ple{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:"inRange"===e?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{t.setValue(0===i?e:this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,n=!t.operator;if(!i&&n||i&&!n)return!1;let s;return s=i?this.areSimpleModelsEqual(e,t):e.operator===t.operator&&wl(e.conditions,t.conditions,(l,c)=>this.areSimpleModelsEqual(l,c)),s}shouldRefresh(e){const t=this.getModel(),i=t?t.conditions??[t]:null,n=e.filterOptions?.map(s=>"string"==typeof s?s:s.displayKey)??this.getDefaultFilterOptions();return!(i&&!i.every(s=>void 0!==n.find(o=>o===s.type))||"number"==typeof e.maxNumConditions&&i&&i.length>e.maxNumConditions)}refresh(e){return!(!this.shouldRefresh(e)||!super.refresh(e)||(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),0))}setModelIntoUi(e){if(e.operator){const i=e;let n=i.conditions;null==n&&(n=[],de("Filter model is missing 'conditions'"));const r=this.validateAndUpdateConditions(n),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let a=s;a<r;a++)this.createJoinOperatorPanel(),this.createOption();const o="OR"===i.operator;this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),n.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),is.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),de('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(null==t)return!0;const{operator:i}=t,n=[];return i?n.push(...t.conditions??[]):n.push(t),n[i&&"OR"===i?"some":"every"](s=>this.individualConditionPasses(e,s))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new wV,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(de('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(de('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(de('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new N1);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,n=>this.resetInput(n)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,r),this.resetJoinOperatorOr(i,n,r),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const n=this.createManagedBean(new gle);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return"AND"===e||"OR"===e?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>"string"==typeof t?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);const n=e+1,r=i-n;r>0&&this.removeConditionsAndOperators(n,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,r)=>{const s=this.isConditionDisabled(r,e);n.setDisabled(s||this.filterListOptions.length<=1),1===r&&(Ep(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((n,r)=>{vi(n,this.isConditionBodyVisible(r))});const i="OR"===(t??this.getJoinOperator());this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(i,!0)}),this.forEachInput((n,r,s,o)=>{this.setElementDisplayed(n,r<o),this.setElementDisabled(n,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach(r=>uo(r))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach(r=>{uo(r.getGui()),this.destroyBean(r)})}removeItems(e,t,i){return null==i?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof Vc&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,n=!1;const r=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))-1===t&&(t=o,i=o);else{const l=o<t;(o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1)||l)&&(this.removeConditionsAndOperators(o,1),n=!0,l&&i--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(i,r),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(c1(this.filterPlaceholder)){const n=this.filterPlaceholder,r=this.eTypes[t].getValue();i=n({filterOptionKey:r,filterOption:this.translate(r),placeholder:i})}else"string"==typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,i,n,r)=>{if(!(t instanceof Vc))return;const s=0===i&&r>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",o=0===i&&r>1?e("ariaFilterFromValue","Filter from value"):0===i?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,n)),t.setInputAriaLabel(o)})}setElementValue(e,t,i){e instanceof Vc&&e.setValue(null!=t?String(t):null,!0)}setElementDisplayed(e,t){e instanceof kt&&vi(e.getGui(),t)}setElementDisabled(e,t){e instanceof kt&&Ep(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Vc&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const n=this.getNumberOfInputs(t),r=this.getInputs(e);for(let s=0;s<r.length;s++){const o=r[s];null!=o&&i(o,s,e,n)}}isConditionDisabled(e,t){return!!this.isReadOnly()||0!==e&&e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||"empty"===this.getConditionType(e)||this.getValues(e).some(i=>null==i))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),is.resolve()}resetType(e){const i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,n,r){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput((n,r,s)=>{s===t&&this.setElementValue(n,null!=i[r]?i[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,n)=>{this.setElementValue(t,0===i&&0===n?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),n=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type);return this.evaluateCustomFilter(r,n,i)??(null==i?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,i,t,e))}evaluateCustomFilter(e,t,i){if(null==e)return;const{predicate:n}=e;return null==n||t.some(r=>null==r)?void 0:n(t,i)}isBlank(e){return null==e||"string"==typeof e&&0===e.trim().length}hasInvalidInputs(){return!1}},xV=class extends bV{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":case"notEqual":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){const n=this.comparator(),r=null!=e[0]?n(e[0],t):0;switch(i.type){case"equals":return 0===r;case"notEqual":return 0!==r;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const s=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return de('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}};function SV(e){return!(e.altKey||e.ctrlKey||e.metaKey)&&1===e.key?.length}function B1(e,t,i,n,r){const s=n?n.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=e.addGridCommonParams({event:t,editing:r,column:n,node:i,data:i.data,colDef:n.getColDef()});return!(!s||!s(o))}var Gc=class extends Vc{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=_e(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListeners(this.eInput,{keydown:i=>{SV(i)&&i.key&&!e.test(i.key)&&i.preventDefault()},paste:i=>{const n=i.clipboardData?.getData("text");n&&n.split("").some(r=>!e.test(r))&&i.preventDefault()}})}},sC={selector:"AG-INPUT-TEXT-FIELD",component:Gc},V1=class extends Gc{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const r=parseFloat(this.eInput.value),s=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:i,step:n}=this.config;"number"==typeof e&&this.setPrecision(e),"number"==typeof t&&this.setMin(t),"number"==typeof i&&this.setMax(i),"number"==typeof n&&this.setStep(n)}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}normalizeValue(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));const t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(null==this.precision)return e;if(t){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e||(this.min=e,Ms(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,Ms(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,Ms(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(_e(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return e(i);if(n||(n=(i=this.adjustPrecision(i))!=this.normalizeValue(i)),n)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return"string"==typeof e&&e.includes("e")}},Ale={selector:"AG-INPUT-NUMBER-FIELD",component:V1},EV=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],H1=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=null!=e.operator,i=this.localeService.getLocaleTextFunc();if(t){const n=e,s=(n.conditions??[]).map(a=>this.getModelAsString(a)),o="AND"===n.operator?"andCondition":"orCondition";return s.join(` ${i(o,yV[o])} `)}if("blank"===e.type||"notBlank"===e.type)return i(e.type,e.type);{const n=e,r=this.optionsFactory.getCustomOption(n.type),{displayKey:s,displayName:o,numberOfInputs:a}=r||{};return s&&o&&0===a?(i(s,o),o):this.conditionToString(n,r)}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},DV=class extends H1{conditionToString(e,t){const{numberOfInputs:i}=t||{};return"inRange"==e.type||2===i?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:null!=e.filter?this.formatValue(e.filter):`${e.type}`}};function G1(e){const{allowedCharPattern:t}=e??{};return t??null}var TV=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],AV=class extends H1{conditionToString(e,t){const{numberOfInputs:i}=t||{};return"inRange"==e.type||2===i?`${e.filter}-${e.filterTo}`:null!=e.filter?`${e.filter}`:`${e.type}`}};function RV(e){const t=e&&e.trim();return""===t?e:t}function FV(e){if("number"==typeof e)return e;if("string"==typeof e){const t=parseInt(e);return isNaN(t)?void 0:t}}function $o(e,t=Number.MAX_VALUE){return i=>{const n=FV(i);if(!(null==n||n<e||n>t))return n}}function Mp(e,t){return e.toString().padStart(t,"0")}function ks(e,t=!0,i="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>Mp(r,2)).join(i);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>Mp(r,2)).join(":")),n}var z1=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function kp(e,t="YYYY-MM-DD"){const i=Mp(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Mp(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${z1(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${z1(e.getDate())}`,DD:()=>Mp(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${z1(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function Fr(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const n=t.split("-").map(u=>parseInt(u,10));if(3!==n.filter(u=>!isNaN(u)).length)return null;const[r,s,o]=n,a=new Date(r,s-1,o);if(a.getFullYear()!==r||a.getMonth()!==s-1||a.getDate()!==o)return null;if(!i||"00:00:00"===i)return a;const[l,c,d]=i.split(":").map(u=>parseInt(u,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),d>=0&&d<60&&a.setSeconds(d),a}var kV=class{constructor(e,t,i,n,r){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(i).newAgStackInstance().then(a=>{this.alive?(this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled),r?.(this))):e.destroyBean(a)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){vi(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}updateParams(e){let t=!1;this.dateComp?.refresh&&"function"==typeof this.dateComp.refresh&&null!==this.dateComp.refresh(e)&&(t=!0),!t&&this.dateComp?.onParamsUpdated&&"function"==typeof this.dateComp.onParamsUpdated&&null!==this.dateComp.onParamsUpdated(e)&&de("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}},IV=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],PV=class extends H1{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:n}=t||{},r="inRange"==i||2===n,s=Fr(e.dateFrom),o=Fr(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;return r?`${null!==s?kp(s,a):"null"}-${null!==o?kp(o,a):"null"}`:null!=s?kp(s,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},W1=class extends ne{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?St(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=_e(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,i),r=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gos.isDomLayout("print")||"left"===e.getPinned())return t;const n=this.beans.visibleColsService.getColsLeftWidth();return"right"===e.getPinned()?n+this.beans.visibleColsService.getBodyContainerWidth()+t:n+t}setLeft(e){if(_e(e)&&(this.eCell.style.left=`${e}px`),Wi(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&function qoe(e,t){Fs(e,"colspan",t)}(this.ariaEl,t.length)}}};function NV(e,t,i,n){return ft(e)?[]:function VV(e,t,i,n,r){if(ft(e))return[];let s;if("function"==typeof e){const o=function Ole(e,t,i,n){return t.addGridCommonParams({colDef:e,column:i,columnGroup:n})}(t,i,n,r);s=e(o)}else s=e;return"string"==typeof s?[s]:Array.isArray(s)?[...s]:[]}(e.headerClass,e,t,i,n)}function BV(e,t,i){e.addOrRemoveCssClass("ag-column-first",i.isColAtEdge(t,"first")),e.addOrRemoveCssClass("ag-column-last",i.isColAtEdge(t,"last"))}var Lle=0,HV=class A6 extends ne{constructor(t,i,n){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=n,this.beans=i,this.instanceId=t.getUniqueId()+"-"+Lle++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:i,column:n}=this.focusService.getFocusedHeader();return function Ele(e,t,i,n){const r=n.getDefinition(),s=r&&r.suppressHeaderKeyboardEvent;return!!_e(s)&&!!s(e.addGridCommonParams({colDef:r,column:n,headerRowIndex:i,event:t}))}(this.gos,t,i,n)}getWrapperHasFocus(){return this.gos.getActiveDomElement()===this.eGui}setGui(t){this.eGui=t,this.addDomData(t),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:i,checkMeasuringCallback:n}=t,{animationFrameService:r,resizeObserverService:s,columnModel:o,gos:a}=this.beans,l=g=>{if(!this.isAlive())return;const{paddingTop:p,paddingBottom:m,borderBottomWidth:C,borderTopWidth:v}=Bc(this.getGui()),R=i.offsetHeight+(p+m+C+v);if(g<5){const M=a.getDocument();if(!M||!M.contains(i)||0==R)return void r.requestAnimationFrame(()=>l(g+1))}o.setColHeaderHeight(this.column,R)};let d,c=!1;const u=()=>{const g=this.column.isAutoHeaderHeight();g&&!c&&h(),!g&&c&&f()},h=()=>{c=!0,l(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),d=s.observeResize(i,()=>l(0))},f=()=>{c=!1,d&&d(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),d=void 0};u(),this.addDestroyFunc(()=>f()),this.addManagedListeners(this.column,{widthChanged:()=>c&&l(0)}),this.addManagedEventListeners({sortChanged:()=>{c&&window.setTimeout(()=>l(0))}}),n&&n(u)}onDisplayedColumnsChanged(){const{comp:t,column:i,beans:n,eGui:r}=this;!t||!i||!r||(BV(t,i,n.visibleColsService),jB(r,n.visibleColsService.getAriaColIndex(i)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&this.addManagedListeners(t,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&Ms(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){const i=this.gos.getActiveDomElement(),n=t.key===Y.LEFT||t.key===Y.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),i!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||n)&&(t.preventDefault(),t.stopImmediatePropagation()),!n))return;const r=t.key===Y.LEFT!==this.gos.get("enableRtl"),s=mV[r?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const o=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(o,t.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(s)}getViewportAdjustedResizeDiff(t){let i=this.getResizeDiff(t);if(this.column.getPinned()){const r=this.pinnedWidthService.getPinnedLeftWidth(),s=this.pinnedWidthService.getPinnedRightWidth(),o=Dp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(r+s+i>o){if(!(o>r+s))return 0;i=o-r-s}}return i}getResizeDiff(t){let i=t.key===Y.LEFT!==this.gos.get("enableRtl");const n=this.column.getPinned(),r=this.gos.get("enableRtl");return n&&r!==("right"===n)&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(t){const i=this.getWrapperHasFocus();switch(t.key){case Y.PAGE_DOWN:case Y.PAGE_UP:case Y.PAGE_HOME:case Y.PAGE_END:i&&t.preventDefault()}}addDomData(t){const i=A6.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(t,i,this),this.addDestroyFunc(()=>this.gos.setDomData(t,i,null))}getGui(){return this.eGui}focus(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,i,n){const r=t??i;this.gos.get("preventDefaultOnContextMenu")&&r.preventDefault();const s=xl(n)?n:void 0;this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,t,i),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(t,i){this.eventService.dispatchEvent({type:t,column:i})}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};HV.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var oC=HV,U1=class extends ne{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},$e="32.1.0",GV=class extends kt{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e)return void(this.lastType=this.optionsFactory.getDefaultOption());let i;i=e.operator?e.conditions[0]:e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new wV,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return null==i||1==i}isTypeEditable(e){return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&["inRange","empty","blank","notBlank"].indexOf(e)<0}getAriaLabel(e){return`${this.columnNameService.getDisplayNameForColumn(e.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},zV=class extends ne{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=Le,this.valueChangedListener=()=>{}}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new Gc(this.params?.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const i=n=>this.valueChangedListener(n);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},WV=class extends GV{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Le}postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=rC(this.params.filterParams),!this.isReadOnly()){const i=L1(this.params.filterParams,this.getDefaultDebounceMs()),n=ur(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();Gn(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){if(this.applyActive&&e.key!==Y.ENTER)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=RV(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},ece=class extends ne{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new V1),this.eFloatingFilterTextInput=this.createManagedBean(new Gc),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,n=>this.valueChangedListener(n)),this.setupListeners(i,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},j1={version:$e,moduleName:"@ag-grid-community/filter-core",beans:[class extends ne{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvancedFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return"function"==typeof e&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return"function"==typeof t&&t(e)}setFilterModel(e,t="api"){this.isAdvancedFilterEnabled()?this.warnAdvancedFilters():this.columnFilterService?.setFilterModel(e,t)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){e?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:i,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):is.resolve()).then(()=>{const r={source:t,type:"filterChanged",columns:n};i&&Ds(r,i),this.eventService.dispatchEvent(r),this.columnFilterService?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){return!!this.columnFilterService?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.columnFilterService?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){return this.columnFilterService?.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){return this.columnFilterService?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){this.columnFilterService?.destroyFilter(e,t)}areFilterCompsDifferent(e,t){return!!this.columnFilterService?.areFilterCompsDifferent(e,t)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService?.isPendingInference())return void this.advancedFilterModelUpdateQueue.push(e);this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(e,t){if(!this.isAdvancedFilterEnabled())return this.columnFilterService?.getFilterInstance(e,t);this.warnAdvancedFilters()}getColumnFilterInstance(e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvancedFilters(){de("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){this.advancedFilterService?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.columnFilterService?.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(e,t)??Promise.resolve()}}]},ace={version:$e,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:function Yle(e){return!!e.filterManager?.isAnyFilterPresent()},onFilterChanged:function Xle(e,t="api"){e.filterManager?.onFilterChanged({source:t})}},dependantModules:[j1]},aC={version:$e,moduleName:"@ag-grid-community/column-filter",beans:[class extends ne{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...this.gos.get("initialState")?.filter?.filterModel??{}}}setFilterModel(e,t="api"){if(this.dataTypeService?.isPendingInference())return void this.filterModelUpdateQueue.push({model:e,source:t});const i=[],n=this.getFilterModel(!0);if(e){const r=new Set(Object.keys(e));this.allColumnFilters.forEach((s,o)=>{i.push(this.setModelOnFilterWrapper(s.filterPromise,e[o])),r.delete(o)}),r.forEach(s=>{const o=this.columnModel.getColDefCol(s)||this.columnModel.getCol(s);if(!o)return void de("setFilterModel() - no column found for colId: "+s);if(!o.isFilterAllowed())return void de("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+s);const a=this.getOrCreateFilterWrapper(o);a?i.push(this.setModelOnFilterWrapper(a.filterPromise,e[s])):de("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+s)})}else this.allColumnFilters.forEach(r=>{i.push(this.setModelOnFilterWrapper(r.filterPromise,null))});is.all(i).then(()=>{const r=this.getFilterModel(!0),s=[];this.allColumnFilters.forEach((o,a)=>{_p(n?n[a]:null,r?r[a]:null)||s.push(o.column)}),s.length>0&&this.filterManager?.onFilterChanged({columns:s,source:t})})}setModelOnFilterWrapper(e,t){return new is(i=>{e.then(n=>{"function"!=typeof n.setModel&&(de("filter missing setModel method, which is needed for setFilterModel"),i()),(n.setModel(t)||is.resolve()).then(()=>i())})})}getFilterModel(e){const t={},{allColumnFilters:i,initialFilterModel:n}=this;return i.forEach((r,s)=>{const o=this.getModelFromFilterWrapper(r);_e(o)&&(t[s]=o)}),e||Object.entries(n).forEach(([r,s])=>{_e(s)&&!i.has(r)&&this.columnModel.getCol(r)?.isFilterAllowed()&&(t[r]=s)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?"function"!=typeof t.getModel?(de("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return!!this.allColumnFilters.size&&(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0)}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const t=!!this.gos.getGroupAggFiltering(),i=s=>{if(!s.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!(!s.isValueActive()||!a)&&(!!this.columnModel.isPivotMode()||t)},n=[],r=[];return this.forEachColumnFilter((s,o)=>{(s=>!!s&&(s.isFilterActive?s.isFilterActive():(de("Filter is missing isFilterActive() method"),!1)))(s)&&(i(o.column)?n.push(s):r.push(s))}).then(()=>{this.activeAggregateFilters=n,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,n)=>n.column.setFilterActive(i.isFilterActive(),e,t))}forEachColumnFilter(e){return is.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(i=>e(i,t))))}doColumnFiltersPass(e,t,i){const{data:n,aggData:r}=e,s=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?r:n;for(let a=0;a<s.length;a++){const l=s[a];if(null!=l&&l!==t){if("function"!=typeof l.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.filterManager?.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(r=>{r&&r!==t&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!this.gos.get("allowShowChangeAfterFilter")&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{const n=i?this.columnModel.getCol(i):e;return n?this.valueService.getValue(n,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():null!=this.getModelFromInitialState(e)}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(hr.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))t="agSetColumnFilter";else{const i=this.dataTypeService?.getBaseDataType(e);t="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(hr.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))t="agSetColumnFloatingFilter";else{const i=this.dataTypeService?.getBaseDataType(e);t="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const i=this.getDefaultFilter(e),n=e.getColDef();let r;const s={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(r,e)(a),doesRowPassOtherFilter:a=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(r,a)},o=this.userComponentFactory.getFilterDetails(n,s,i);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a?.then(l=>{r=l,t&&(t.filter=l)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:AB(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=i?.()??null,t.compDetails=n,t}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((i,n)=>{let r;r=i.column.isPrimary()?this.columnModel.getColDefCol(n):this.columnModel.getCol(n),(!r||r!==i.column)&&(e.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(n))});const t=e.every(i=>"agGroupColumnFilter"===i.getColDef().filter);e.length>0&&!t?this.filterManager?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.columnModel.getAutoCols()?.forEach(t=>{"agGroupColumnFilter"===t.getColDef().filter&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:i}=this.allColumnFilters.get(e.getColId())??{};return!i||"function"!=typeof i?.isFilterAllowed||i.isFilterAllowed()}getFloatingFilterCompDetails(e,t){const i=l=>{const c=this.getOrCreateFilterWrapper(e)?.filterPromise;c?.then(d=>{l(Rp(d))})},n=e.getColDef(),r={...this.createFilterParams(e,n),filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,e)())},s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,P1,r);let o=function Kle(e,t,i){if(null==t)return null;let n=null;const{compName:r,jsComp:s,fwComp:o}=gV.getCompKeys(e,t,P1);return r?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:null==s&&null==o&&!0===t.filter&&(n=i()),n}(this.frameworkOverrides,n,()=>this.getDefaultFloatingFilter(e));return null==o&&(o="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(n,{column:e,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1},o)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const i=e.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],n&&(this.disposeFilterWrapper(n,t),this.filterManager?.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{this.callOnFilterChangedOutsideRenderCycle({filter:e,additionalEventAttributes:i,columns:[t],source:i?.source??"columnFilter"})}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n))return void this.destroyFilter(i,"paramsUpdated");const r=i.getColDef().filterParams;t.filterPromise?t.filterPromise.then(s=>{!1===(!s?.refresh||s.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(s,i),filterChangedCallback:this.filterChangedCallbackFactory(s,i),doesRowPassOtherFilter:a=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(s,a),...r}))&&this.destroyFilter(i,"paramsUpdated")}):this.destroyFilter(i,"paramsUpdated")}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:n}=t;return!(i===n||i?.render&&n?.render&&i.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(i=>{const n=Rp(i);t(n)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t(Rp(i))})})}getFilterInstanceImpl(e){const t=this.columnModel.getColDefCol(e);return t?this.getOrCreateFilterWrapper(t)?.filterPromise??is.resolve(null):is.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.dataTypeService?.isPendingInference()){let s=()=>{};const o=new Promise(a=>{s=a});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:s}),o}const i=this.columnModel.getColDefCol(e),n=i?this.getOrCreateFilterWrapper(i):null;return n?(s=this.setModelOnFilterWrapper(n.filterPromise,t),new Promise(o=>{s.then(a=>o(a))})):Promise.resolve();var s}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}}],dependantModules:[j1]},lce={version:$e,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:function Ble(e){return!!e.filterManager?.isColumnFilterPresent()||!!e.filterManager?.isAggregateFilterPresent()},getFilterInstance:function Vle(e,t,i){return e.filterManager?.getFilterInstance(t,i)},getColumnFilterInstance:function Hle(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)},destroyFilter:function Gle(e,t){const i=e.columnModel.getColDefCol(t);if(i)return e.filterManager?.destroyFilter(i,"api")},setFilterModel:function zle(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))},getFilterModel:function Wle(e){return e.filterManager?.getFilterModel()??{}},getColumnFilterModel:function Ule(e,t){return e.filterManager?.getColumnFilterModel(t)??null},setColumnFilterModel:function jle(e,t,i){return e.filterManager?.setColumnFilterModel(t,i)??Promise.resolve()},showColumnFilter:function $le(e,t){const i=e.columnModel.getCol(t);i?e.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"}):Ft(`column '${t}' not found`)}},dependantModules:[aC,ace]},$1={version:$e,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:class extends oC{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,n){this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setGui(t),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(),this.addManagedListeners(this.column,{colDefChanged:this.onColDefChanged.bind(this)})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef();this.active=!!e.filter&&!!e.floatingFilter}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=ts("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new Hc(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Gu(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gos.getActiveDomElement()===this.eGui)return;const n=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(n)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void n.focus();const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let i=this.column;do{if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Y.UP:case Y.DOWN:t||e.preventDefault();case Y.LEFT:case Y.RIGHT:if(t)return;e.stopPropagation();case Y.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Y.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&zu(e.relatedTarget,"ag-floating-filter");if(i&&n&&e.target===this.eGui){const s=this.lastFocusEvent;s&&s&&s.key===Y.TAB&&this.focusService.focusInto(this.eGui,s.shiftKey)}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(){this.createManagedBean(new U1([this.column],this.eGui));const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedEventListeners({columnHoverChanged:e}),e()}setupLeft(){const e=new W1(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){this.menuService.showFilterMenu({column:this.column,buttonElement:this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:e}=this.beans,t=i=>{if("filterDestroyed"===i?.source&&!this.isAlive())return;const n=this.comp.getFloatingFilterComp();n&&n.then(r=>{if(r){const s=e?.getCurrentFloatingFilterParentModel(this.column),o=i?{...i,columns:i.columns??[],source:"api"===i.source?"api":"columnFilter"}:null;r.onParentModelChanged(s,o)}})};[this.destroySyncListener]=this.addManagedListeners(this.column,{filterChanged:t}),e?.isFilterActive(this.column)&&t(null)}setupWidth(){const e=()=>{const t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};this.addManagedListeners(this.column,{widthChanged:e}),e()}setupFilterChangedListener(){this.active&&([this.destroyFilterChangedListener]=this.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){const e=this.active;this.setupActive();const t=!e&&this.active;e&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,n=this.comp.getFloatingFilterComp();n&&i?n.then(r=>{!r||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(i,t):this.updateFloatingFilterParams(i)}):this.updateCompDetails(i,t)}updateCompDetails(e,t){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){if(!e)return;const t=e.params;this.comp.getFloatingFilterComp()?.then(i=>{let n=!1;i?.refresh&&"function"==typeof i.refresh&&null!==i.refresh(t)&&(n=!0),!n&&i?.onParamsUpdated&&"function"==typeof i.onParamsUpdated&&null!==i.onParamsUpdated(t)&&de("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}}}],dependantModules:[aC]},cce={version:$e,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:class extends kt{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>\n            </div>',[sC]),this.eFloatingFilterText=Le}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){null!=e?this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}}):this.eFloatingFilterText.setValue("")}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}}}],dependantModules:[$1]},uce={version:$e,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[{version:$e,moduleName:"@ag-grid-community/simple-filter",dependantModules:[aC],userComponents:[{name:"agTextColumnFilter",classImp:class extends bV{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>null==e?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(null==i)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return 0===t.indexOf(i);case"endsWith":{const n=t.lastIndexOf(i);return n>=0&&n===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new AV(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(de("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:i,filterText:n})=>e(t,i,n)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const i=[];return this.forEachPositionInput(e,(n,r,s,o)=>{if(r<o){let a=Ta(n.getValue());t&&this.textFilterParams.trimInput&&(a=RV(a)??null,n.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return TV}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Rr(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const n=this.createManagedBean(new Gc);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return!!e&&["notEqual","notContains","blank"].indexOf(e)>=0}evaluateNonNullValue(e,t,i,n){const r=e.map(h=>this.formatter(h))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:c,textFormatter:d}=this.textFilterParams;if("blank"===i.type)return this.isBlank(t);if("notBlank"===i.type)return!this.isBlank(t);const u={api:o,colDef:a,column:l,context:c,node:n.node,data:n.data,filterOption:i.type,value:s,textFormatter:d};return r.some(h=>this.matcher({...u,filterText:h}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}}},{name:"agNumberColumnFilter",classImp:class extends xV{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new DV(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return EV}setElementValue(e,t,i){const n=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,n)}createValueElement(){const e=G1(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Rr(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,n){const r=this.createManagedBean(n?new Gc({allowedCharPattern:n}):new V1);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,n,r,s)=>{n<s&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"==typeof e)return e;let t=Ta(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{t.getInputElement().validity.valid||(e=!0)}),e}}},{name:"agDateColumnFilter",classImp:class extends xV{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=1/0,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:n}=e||{};return[t&&Fr(t)||null,i&&Fr(i)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){return null==t||t<e?-1:t>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(i,n)=>{if(null!=e[i]){if(!isNaN(e[i]))return null==e[i]?n:Number(e[i]);de(`DateFilter ${i} is not a number`)}return n};this.minValidYear=t("minValidYear",1e3),this.maxValidYear=t("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&de("DateFilter minValidYear should be <= maxValidYear"),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Fr(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Fr(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&de("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new PV(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new kV(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return IV}createValueElement(){const t=this.gos.getDocument().createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,n){const s=this.gos.getDocument().createElement("div");s.classList.add(`ag-filter-${n}`),s.classList.add(`ag-filter-date-${n}`),t.push(s),e.appendChild(s),i.push(this.createDateCompWrapper(s))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(r=>r.destroy())}isValidDateValue(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,n,r,s)=>{r!==e||!t||n>=s||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},n=this.getValues(e);return n.length>0&&(i.dateFrom=ks(n[0])),n.length>1&&(i.dateTo=ks(n[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...i}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,n,r,s)=>{n<s&&t.push(i.getDate())}),t}translate(e){return super.translate("lessThan"===e?"before":"greaterThan"===e?"after":e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}}},{name:"agDateInput",classImp:class extends kt{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>\n            </div>',[sC]),this.eDateInput=Le}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:i=>{i.target===this.gos.getActiveDomElement()&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&jo(),t.type=i?"date":"text";const{minValidYear:n,maxValidYear:r,minValidDate:s,maxValidDate:o}=e.filterParams||{};if(s&&n&&de("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&r&&de("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&o){const[a,l]=[s,o].map(c=>c instanceof Date?c:Fr(c));a&&l&&a.getTime()>l.getTime()&&de("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?t.min=s instanceof Date?kp(s):s:n&&(t.min=`${n}-01-01`),o?t.max=o instanceof Date?kp(o):o:r&&(t.max=`${r}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Fr(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(ks(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:S1()||KB()||jo()&&$B()>=14.1}}}]},$1],userComponents:[{name:"agTextColumnFloatingFilter",classImp:class extends WV{init(e){super.init(e),this.filterModelFormatter=new AV(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return TV}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new zV)}}},{name:"agNumberColumnFloatingFilter",classImp:class extends WV{init(e){super.init(e),this.filterModelFormatter=new DV(this.localeService,this.optionsFactory,e.filterParams?.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){G1(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return EV}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=G1(e.filterParams),this.createManagedBean(this.allowedCharPattern?new zV({config:{allowedCharPattern:this.allowedCharPattern}}):new ece)}}},{name:"agDateColumnFloatingFilter",classImp:class extends GV{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>\n                <div data-ref="eDateWrapper" style="display: flex;"></div>\n            </div>',[sC]),this.eReadOnlyText=Le,this.eDateWrapper=Le}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return IV}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new PV(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(t),t?(this.dateComp.setDate(e?Fr(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))}setEditable(e){vi(this.eDateWrapper,e),vi(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const t=ks(this.dateComp.getDate());this.params.parentFilterInstance(i=>{if(i){const n=Fr(t);i.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){const e=L1(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:ur(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new kV(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}}}]},UV={version:$e,moduleName:"@ag-grid-community/quick-filter-core",beans:[class extends ne{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols();let n=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:i)??[];t&&(n=n.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?n:n.filter(r=>r.isVisible()||r.isRowGroupActive())}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;this.quickFilterParts=e?t?t(e):e.split(" "):null}parseQuickFilter(e){return _e(e)?this.gos.isRowModelType("clientSide")?e.toUpperCase():(de("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(null!=e&&"string"!=typeof e)return void de("Grid option quickFilterText only supports string inputs, received: "+typeof e);const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(i=>{const n=this.getQuickFilterTextForColumn(i,e);return _e(n)&&n.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:r}=this;return r(n,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const r=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:n});i=n.getQuickFilterText(r)}return _e(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(i=>{const n=this.getQuickFilterTextForColumn(i,e);_e(n)&&t.push(n)}),t.join("\n")}}],dependantModules:[j1]},pce={version:$e,moduleName:"@ag-grid-community/filter",dependantModules:[uce,cce,{version:$e,moduleName:"@ag-grid-community/quick-filter",dependantModules:[UV,{version:$e,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:function nce(e){return!!e.filterManager?.isQuickFilterPresent()},getQuickFilter:function rce(e){return e.gos.get("quickFilterText")},resetQuickFilter:function sce(e){e.filterManager?.resetQuickFilterCache()}},dependantModules:[UV]}]},lce]},K1=class extends kt{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},gce=class extends K1{constructor(e){super('<div class="ag-header-cell ag-floating-filter" role="gridcell">\n            <div data-ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',e),this.eFloatingFilterBody=Le,this.eButtonWrapper=Le,this.eButtonShowMainFilter=Le}postConstruct(){const e=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:(i,n)=>this.addOrRemoveCssClass(i,n),addOrRemoveBodyCssClass:(i,n)=>this.eFloatingFilterBody.classList.toggle(i,n),setButtonWrapperDisplayed:i=>vi(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)},e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive())return void this.destroyBean(e);this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},mce=class extends K1{constructor(e){super('<div class="ag-header-cell" role="columnheader">\n            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',e),this.eResize=Le,this.eHeaderCompWrapper=Le,this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();var r,s;r="col-id",null!=(s=this.column.getColId())&&""!=s?e.setAttribute(r,s):e.removeAttribute(r);const i={setWidth:r=>e.style.width=r,addOrRemoveCssClass:(r,s)=>this.addOrRemoveCssClass(r,s),setAriaSort:r=>r?function Yoe(e,t){Fs(e,"sort",t)}(e,r):function Xoe(e){p1(e,"sort")}(e),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper);const n=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",n)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const t=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(t,i))}afterCompCreated(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(t)}},vce=class extends K1{constructor(e){super('<div class="ag-header-group-cell" role="columnheader">\n            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',e),this.eResize=Le,this.eHeaderCompWrapper=Le}postConstruct(){const e=this.getGui();e.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:(n,r)=>this.addOrRemoveCssClass(n,r),setResizableDisplayed:n=>vi(this.eResize,n),setWidth:n=>e.style.width=n,setAriaExpanded:n=>((n,r)=>null!=r?e.setAttribute(n,r):e.removeAttribute(n))("aria-expanded",n),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerGroupComp},e,this.eResize,this.eHeaderCompWrapper)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){const t=()=>this.destroyBean(e);if(!this.isAlive())return void t();const i=this.getGui(),n=e.getGui();this.eHeaderCompWrapper.appendChild(n),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(i)}},_ce=class extends kt{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){UB(this.getGui(),this.ctrl.getAriaRowIndex()),this.ctrl.setComp({setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,i)=>this.setHeaderCtrls(t,i),setWidth:t=>this.getGui().style.width=t})}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;const i=this.headerComps;if(this.headerComps={},e.forEach(n=>{const r=n.getInstanceId();let s=i[r];delete i[r],null==s&&(s=this.createHeaderComp(n),this.getGui().appendChild(s.getGui())),this.headerComps[r]=s}),Es(i,(n,r)=>{this.getGui().removeChild(r.getGui()),this.destroyBean(r)}),t){const n=bl(this.headerComps);n.sort((s,o)=>s.getCtrl().getColumnGroupChild().getLeft()-o.getCtrl().getColumnGroupChild().getLeft());const r=n.map(s=>s.getGui());iV(this.getGui(),r)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new vce(e);break;case"filter":t=new gce(e);break;default:t=new mce(e)}return this.createBean(t),t.setParentComponent(this),t}},wce=class extends ne{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl});const e=this.gos.getDocument();this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}getHeaderPositionForColumn(e,t){let i;if("string"==typeof e?(i=this.columnModel.getCol(e),i||(i=this.visibleColService.getColumnGroup(e))):i=e,!i)return null;const r=this.ctrlsService.getHeaderRowContainerCtrl()?.getAllCtrls(),s="filter"===St(r||[]).getType(),o=this.getHeaderRowCount()-1;let a=-1,l=i;for(;l;)a++,l=l.getParent();let c=a;return t&&s&&c===o-1&&c++,-1===c?null:{headerRowIndex:c,column:i}}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n}=t,r=t.column,s=this.getHeaderRowCount(),o=0===e;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=o?this.headerPositionUtils.getColumnVisibleParent(r,n):this.headerPositionUtils.getColumnVisibleChild(r,n),d=!1;return a<0&&(a=0,l=r,d=!0),a>=s?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==c&&(this.currentHeaderRowWithoutSpan=c),!(!d&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,i){const n=this.focusService.getFocusedHeader(),r=2===e,s=this.gos.get("enableRtl");let o,a;if(-1!==this.currentHeaderRowWithoutSpan?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,r!==s?(a="Before",o=this.headerPositionUtils.findHeader(n,a)):(a="After",o=this.headerPositionUtils.findHeader(n,a)),o||!t)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(n,a,i)}focusNextHeaderRow(e,t,i){const n=e.headerRowIndex;let s,r=null;if("Before"===t?n>0&&(s=n-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!r)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(Wi(e)){const n=e.getDisplayedLeafColumns();i="Before"===t?St(n):n[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},bce=class extends ne{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new Hc(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:n}),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0;const i=this.columnModel.getGroupRowsHeight().reduce((s,o)=>s+o,0),n=this.columnModel.getColumnHeaderRowHeight();this.filterManager?.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=i,t+=n,this.headerHeight!==t&&(this.headerHeight=t,this.comp.setHeightAndMinHeight(`${t+1}px`),this.eventService.dispatchEvent({type:"headerHeightChanged"}))}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey;(this.headerNavigationService.navigateHorizontally(i!==t?2:3,!0,e)||!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case Y.LEFT:t=2;case Y.RIGHT:_e(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break;case Y.UP:t=0;case Y.DOWN:_e(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(this.gos.getActiveDomElement())||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??t;(n===this.eGui||n===this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement())&&this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!Sl())return;const t=new El(this.eGui);this.addManagedListeners(t,{longTap:n=>{e(void 0,n.touchStart,n.touchEvent)}}),this.addDestroyFunc(()=>t.destroy())}},q1=class extends ne{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=this.gos.isDomLayout("print"),t=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),n=this.visibleColsService.getDisplayedColumnsRightWidth();let r;e?r=t+i+n:(r=t,this.addSpacer&&0===(this.gos.get("enableRtl")?i:n)&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.gos.getScrollbarWidth())),this.callback(r)}},xce=class extends ne{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};function Y1(e){const{isFromHeader:t,hDirection:i,xPosition:n,fromEnter:r,fakeEvent:s,pinned:o,gos:a,columnModel:l,columnMoveService:c,presentedColsService:d}=e,u=0===i,h=1===i;let{allMovingColumns:f}=e;if(t){const M=[];f.forEach(S=>{let N=null,B=S.getParent();for(;null!=B&&1===B.getDisplayedLeafColumns().length;)N=B,B=B.getParent();null!=N?(N.getColGroupDef()?.marryChildren?N.getProvidedColumnGroup().getLeafColumns():N.getLeafColumns()).forEach(z=>{M.includes(z)||M.push(z)}):M.includes(S)||M.push(S)}),f=M}const g=f.slice();l.sortColsLikeCols(g);const p=function Tce(e){const{movingCols:t,draggingRight:i,xPosition:n,pinned:r,gos:s,columnModel:o,presentedColsService:a}=e;if(s.get("suppressMovableColumns")||t.some(_=>_.getColDef().suppressMovable))return[];const c=function Dce(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}(a,r),d=o.getCols(),u=c.filter(_=>Oc(t,_)),h=c.filter(_=>!Oc(t,_)),f=d.filter(_=>!Oc(t,_));let m,g=0,p=n;if(i){let _=0;u.forEach(x=>_+=x.getActualWidth()),p-=_}if(p>0){for(let _=0;_<h.length&&(p-=h[_].getActualWidth(),!(p<0));_++)g++;i&&g++}g>0?m=f.indexOf(h[g-1])+1:(m=f.indexOf(h[0]),-1===m&&(m=0));const C=[m],v=(_,x)=>_-x;if(i){let _=m+1;const x=d.length-1;for(;_<=x;)C.push(_),_++;C.sort(v)}else{let _=m;const x=d.length-1;let R=d[_];for(;_<=x&&c.indexOf(R)<0;)_++,C.push(_),R=d[_];_=m-1;const M=0;for(;_>=M;)C.push(_),_--;C.sort(v).reverse()}return C}({movingCols:g,draggingRight:h,xPosition:n,pinned:o,gos:a,columnModel:l,presentedColsService:d}),m=function Sce(e,t){const i=t.getCols(),n=function Zse(e){return e.sort((t,i)=>t-i)}(e.map(l=>i.indexOf(l))),r=n[0];return St(n)-r!=n.length-1?null:r}(g,l);if(0===p.length)return;const C=p[0];let v=null!==m&&!r;if(t&&(v=null!==m),v&&!s&&(u&&C>=m||h&&C<=m))return;const _=d.getAllCols(),x=[];let R=null;for(let M=0;M<p.length;M++){const S=p[M],N=c.getProposedColumnOrder(g,S);if(!c.doesOrderPassRules(N))continue;const B=N.filter(K=>_.includes(K));if(null===R)R=B;else if(!wl(B,R))break;const j=Ece(N);x.push({move:S,fragCount:j})}return 0!==x.length?(x.sort((M,S)=>M.fragCount-S.fragCount),jV(f,x[0].move,"uiColumnMoved",!1,c)):void 0}function jV(e,t,i,n,r){return r.moveColumns(e,t,i,n),n?null:{columns:e,toIndex:t}}function Ece(e){function t(n){const r=[];let s=n.getOriginalParent();for(;null!=s;)r.push(s),s=s.getOriginalParent();return r}let i=0;for(let n=0;n<e.length-1;n++){let r=t(e[n]),s=t(e[n+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(o=>{-1===s.indexOf(o)&&i++})}return i}function X1(e,t,i,n,r){const s=r.getHeaderRowContainerCtrl(t)?.getViewportElement();return s?(i&&(e-=s.getBoundingClientRect().left),n.get("enableRtl")&&(e=s.clientWidth-e),null==t&&(e+=r.get("center").getCenterViewportScrollLeft()),e):0}var Ace=class extends ne{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!_e(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const e=this.lastDraggingEvent.dragItem.columns??[];return this.pinned?e.some(i=>!i.getColDef().lockPinned||i.getPinned()===this.pinned)?"pinned":"notAllowed":e.some(i=>!i.getColDef().lockPinned||!i.isPinned())?"move":"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(0===e.dragSource.type)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,r=(t||[]).filter(s=>n[s.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(e){const n=e.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColsVisible(n,t,i)}}setColumnsPinned(e,t,i){if(e){const n=e.filter(r=>!r.getColDef().lockPinned);this.columnModel.setColsPinned(n,t,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.isCenterContainer){const t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),n=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<i+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,n=!1){if(n){if(this.lastMovedInfo){const{columns:c,toIndex:d}=this.lastMovedInfo;jV(c,d,"uiColumnMoved",!0,this.columnMoveService)}return}if(this.lastDraggingEvent=e,ft(e.hDirection))return;const r=X1(e.x,this.pinned,!1,this.gos,this.ctrlsService);t||this.checkCenterForScrolling(r);const s=this.normaliseDirection(e.hDirection),o=e.dragSource.type,l=Y1({allMovingColumns:e.dragSource.getDragItem().columns?.filter(c=>!c.getColDef().lockPinned||c.getPinned()==this.pinned)||[],isFromHeader:1===o,hDirection:s,xPosition:r,pinned:this.pinned,fromEnter:t,fakeEvent:i,gos:this.gos,columnModel:this.columnModel,columnMoveService:this.columnMoveService,presentedColsService:this.visibleColsService});l&&(this.lastMovedInfo=l)}normaliseDirection(e){if(!this.gos.get("enableRtl"))return e;switch(e){case 0:return 1;case 1:return 0;default:Ft(`Unknown direction ${e}`)}}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const r=this.lastDraggingEvent.dragItem.columns.filter(s=>!s.getColDef().lockPinned);r.length>0&&(this.dragAndDropService.setGhostIcon("pinned"),this.failedMoveAttempts>7)&&(this.setColumnsPinned(r,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}}},Rce=class extends ne{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]]}}),this.moveColumnFeature=this.createManagedBean(new Ace(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new xce(this.pinned)),this.dragAndDropService.addDropTarget(this)}isInterestedIn(e){return 1===e||0===e&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&0===e.dragSource.type}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}},Fce=class extends ne{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,n,r){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=n,this.ctrl=r}postConstruct(){const e=[];let t,i;const n=()=>{if(vi(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),i){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const c=new El(this.eResize);c.addEventListener("doubleTap",l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),c.removeEventListener("doubleTap",l),c.destroy()})}},r=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==i)&&(t=o,i=a,r(),n())};s(),this.addDestroyFunc(r),this.ctrl.addRefreshFunction(s)}onResizing(e,t){const{column:i,lastResizeAmount:n,resizeStartWidth:r}=this,s=this.normaliseResizeAmount(t),a=[{key:i,newWidth:r+s}];this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(s-n)>Dp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50||(this.lastResizeAmount=s,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1))}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i="left"!==this.pinned,n="right"===this.pinned;return this.gos.get("enableRtl")?i&&(t*=-1):n&&(t*=-1),t}},Mce=class extends ne{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(this.gos.getActiveDomElement())&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new nC),this.cbSelectAll.addCssClass("ag-header-select-all"),Rr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),g1(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?`${n} (${i})`:null),this.cbSelectAll.setInputAriaLabel(`${n} (${i})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return"multiple"===this.gos.get("rowSelection")||(de(`${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){const t=this.rowModel.getType();return"clientSide"===t||"serverSide"===t||(de(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly();let n="uiSelectAll";i?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const r={source:n,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))),!!e&&this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection")}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},kce=class extends oC{constructor(e,t,i){super(e,t,i),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,n){this.comp=e,this.setGui(t),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:r=>this.addRefreshFunction(r)}),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new Fce(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new U1([this.column],t)),this.createManagedBean(new W1(this.column,t,this.beans)),this.createManagedBean(new Hc(t,{shouldStopEventPropagation:r=>this.shouldStopEventPropagation(r),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(t),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListeners(this.column,{colDefChanged:this.refresh.bind(this)}),this.addManagedEventListeners({columnValueChanged:this.onColumnValueChanged.bind(this),columnRowGroupChanged:this.onColumnRowGroupChanged.bind(this),columnPivotChanged:this.onColumnPivotChanged.bind(this),headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}resizeHeader(e,t){if(!this.column.isResizable())return;const i=this.column.getActualWidth(),n=this.column.getMinWidth(),r=this.column.getMaxWidth(),s=Math.min(Math.max(i+e,n),r);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:s}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,column:i,gos:n,ctrlsService:r}=this,s=this.getPinned(),o=t.getBoundingClientRect().left,a=i.getActualWidth(),d=X1(0===e!==n.get("enableRtl")?o-20:o+a+20,s,!0,n,r),u=this.focusService.getFocusedHeader();Y1({allMovingColumns:[i],isFromHeader:!0,hDirection:e,xPosition:d,pinned:s,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:this.beans.columnModel,columnMoveService:this.beans.columnMoveService,presentedColsService:this.beans.visibleColsService}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&u&&this.restoreFocus(u)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:t=>{this.menuService.showColumnMenu({column:this.column,buttonElement:t,positionBy:"button"})},showColumnMenuAfterMouseClick:t=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:t,positionBy:"mouse"})},showFilter:t=>{this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"columnFilter",positionBy:"button"})},progressSort:t=>{this.beans.sortController.progressSort(this.column,!!t,"uiColumnSorted")},setSort:(t,i)=>{this.beans.sortController.setSortForColumn(this.column,t,!!i,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(t,i)=>{this.setupTooltip(t,i)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new Mce(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Y.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===Y.ENTER&&this.onEnterKeyDown(e),e.key===Y.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();!i||!(i instanceof k1)||i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i="whenTruncated"===this.gos.get("tooltipShowMode"),n=this.eGui,r=this.column.getColDef();!t&&i&&!r.headerComponent&&(t=()=>{const a=n.querySelector(".ag-header-cell-text");return!a||a.scrollWidth>a.clientWidth});const o=this.createManagedBean(new ju({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>n,getLocation:()=>"header",getTooltipValue:()=>e??this.column.getColDef().headerTooltip,shouldDisplayTooltip:t}));this.refreshFunctions.push(()=>o.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const i=NV(this.column.getColDef(),this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(r=>{n.has(r)?n.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),n.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:i,displayName:n,dragAndDropService:r,gos:s}=this,{columnModel:o}=i;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{a=!s.get("suppressDragLeaveHidesColumns"),t.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>t.setMoving(!1,"uiColumnMoved"),onGridEnter:c=>{if(a){const d=c?.columns?.filter(u=>!u.getColDef().lockVisible)||[];o.setColsVisible(d,!0,"uiColumnMoved")}},onGridExit:c=>{if(a){const d=c?.columns?.filter(u=>!u.getColDef().lockVisible)||[];o.setColsVisible(d,!1,"uiColumnMoved")}}};r.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!(!t||!t.refresh)&&t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!(this.gos.get("suppressMovableColumns")||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};this.addManagedListeners(this.column,{widthChanged:e}),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListeners(this.column,{movingChanged:e}),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListeners(this.column,{menuVisibleChanged:e}),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(){const e=()=>{const t=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",t),this.refreshAria()};this.addManagedListeners(this.column,{filterActiveChanged:e}),e()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:n}=this;if(!t.isSpanHeaderHeight())return e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),void i.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents:r,isSpanningTotal:s}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",r>0);const{columnModel:o}=n,a=o.getColumnHeaderRowHeight();if(0===r)return i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),void e.style.setProperty("height",`${a}px`);i.addOrRemoveCssClass("ag-header-span-total",s);const l=this.beans.columnModel.getGroupRowsHeight();let c=0;for(let d=0;d<r;d++)c+=l[l.length-1-d];e.style.setProperty("top",-c+"px"),e.style.setProperty("height",`${a+c}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(function Boe(e){let t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(this.beans.gos.getActiveDomElement()))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>"filter"===t?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedEventListeners({columnHoverChanged:e}),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=n=>this.handleMouseOverChange("mouseenter"===n.type);this.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),contextmenu:n=>this.handleContextMenuMouseEvent(n,void 0,this.column)})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof k1?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},Ice=class extends ne{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,n){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||i.push(r.getColId())}),i.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const n=this.normaliseDragChange(t);this.resizeColumnsFromLocalValues(this.resizeStartWidth+n,i,e)}getInitialValues(e){const t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),r={columnsToResize:t,resizeStartWidth:i,resizeRatios:this.getSizeRatiosOfColumns(t,i)};let s=null;if(e&&(s=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),s){const o=s.getDisplayedLeafColumns(),a=r.groupAfterColumns=o.filter(c=>c.isResizable()),l=r.groupAfterStartWidth=this.getInitialSizeOfColumns(a);r.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:n,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=n,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){this.resizeCols&&this.resizeRatios&&this.resizeColumns({columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0},e,t,i)}resizeColumns(e,t,i,n=!0){const{columnsToResize:r,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];d.push({columns:r,ratios:o,width:t}),a&&d.push({columns:a,ratios:c,width:l-(t-s)}),this.columnSizeService.resizeColumnSets({resizeSets:d,finished:n,source:i}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(i=>i.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},Pce=class extends ne{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}},Oce=class extends oC{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,t,i,n){this.comp=e,this.setGui(t),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupAutoHeight({wrapperElement:n}),this.setupUserComp(),this.addHeaderMouseListeners();const r=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new U1(s,t)),this.createManagedBean(new W1(this.column,t,this.beans)),this.createManagedBean(new Pce(e,this.column)),this.resizeFeature=this.createManagedBean(new Ice(e,i,r,this.column)),this.createManagedBean(new Hc(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(t)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:i,column:n,gos:r,ctrlsService:s}=this,o=r.get("enableRtl"),a=0===e,l=this.getPinned(),c=i.getBoundingClientRect(),d=c.left,h=X1(a!==o?d-20:d+c.width+20,l,!0,r,s),f=n.getGroupId(),g=this.focusService.getFocusedHeader();Y1({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:h,pinned:l,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:t.columnModel,columnMoveService:t.columnMoveService,presentedColsService:t.visibleColsService});const p=n.getDisplayedLeafColumns(),m=a?p[0]:St(p);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(m,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&g&&this.restoreFocus(f,n,g)}restoreFocus(e,t,i){const n=t.getLeafColumns();if(!n.length)return;const r=n[0].getParent();if(!r)return;const s=this.findGroupWidthId(r,e);s&&this.focusService.focusHeaderPosition({headerPosition:{...i,column:s}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){const e=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:i=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),i,"gridInitializing")},setTooltip:(i,n)=>{this.setupTooltip(i,n)}}),t=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(t)}addHeaderMouseListeners(){const e=n=>this.handleMouseOverChange("mouseenter"===n.type);this.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),contextmenu:n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i=this.column.getColGroupDef(),n="whenTruncated"===this.gos.get("tooltipShowMode"),r=this.eGui;!t&&n&&!i?.headerGroupComponent&&(t=()=>{const o=r.querySelector(".ag-header-group-text");return!o||o.scrollWidth>o.clientWidth});const s={getColumn:()=>this.column,getGui:()=>r,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(i&&i.headerTooltip),shouldDisplayTooltip:t};i&&(s.getColDef=()=>i),this.createManagedBean(new ju(s))}setupExpandable(){const e=this.column.getProvidedColumnGroup();this.refreshExpanded();const t=this.refreshExpanded.bind(this);this.addManagedListeners(e,{expandedChanged:t,expandableChanged:t})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.comp.setAriaExpanded(this.expandable?t?"true":"false":void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=NV(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e?.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(){const t=this.column.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());t.forEach(n=>{this.addManagedListeners(n,{movingChanged:i})}),i()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===Y.ENTER){const i=this.column,n=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:i,displayName:n,gos:r,dragAndDropService:s}=this,{columnModel:o}=t,a=i.getProvidedColumnGroup().getLeafColumns();let l=!r.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:n,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!r.get("suppressDragLeaveHidesColumns"),a.forEach(d=>d.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>a.forEach(d=>d.setMoving(!1,"uiColumnDragged")),onGridEnter:d=>{if(l){const{columns:u=[],visibleState:h}=d??{},f=u.filter(g=>!g.getColDef().lockVisible&&(!h||h[g.getColId()]));o.setColsVisible(f,!0,"uiColumnMoved")}},onGridExit:d=>{if(l){const u=d?.columns?.filter(h=>!h.getColDef().lockVisible)||[];o.setColsVisible(u,!1,"uiColumnMoved")}}};s.addDragSource(c,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(r=>i[r.getId()]=r.isVisible());const n=[];return this.beans.visibleColsService.getAllCols().forEach(r=>{t.indexOf(r)>=0&&(n.push(r),cr(t,r))}),t.forEach(r=>n.push(r)),{columns:n,visibleState:i}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}},Lce=0,Z1=class extends ne{constructor(e,t,i){super(),this.instanceId=Lce++,this.rowIndex=e,this.pinned=t,this.type=i,this.headerRowClass="ag-header-row "+("group"==i?"ag-header-row-column-group":"filter"==i?"ag-header-row-column-filter":"ag-header-row-column")}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}getInstanceId(){return this.instanceId}areCellsRendered(){return!!this.comp&&this.getHeaderCellCtrls().every(e=>null!=e.getGui())}setComp(e,t=!0){this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){const e=this.onRowHeightChanged.bind(this);this.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:t=>this.onVirtualColumnsChanged(t.afterScroll),columnGroupHeaderHeightChanged:e,columnHeaderHeightChanged:e,gridStylesChanged:e,advancedFilterEnabledChanged:e}),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",t=>this.isEnsureDomOrder=t.currentValue),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return U0(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,i=[],n=e.getGroupRowsHeight(),r=e.getColumnHeaderRowHeight();i.push(...n),i.push(r),t?.hasFloatingFilters()&&i.push(e.getFloatingFiltersHeight());let s=0;for(let a=0;a<this.rowIndex;a++)s+=i[a];return{topOffset:s,rowHeight:i[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls();this.comp.setHeaderCtrls(t,this.isEnsureDomOrder||this.isPrintLayout,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const i=n=>{const{focusService:r,visibleColsService:s}=this.beans;return!!r.isHeaderWrapperFocused(n)&&s.isVisible(n.getColumnGroupChild())};if(e)for(const[n,r]of e)i(r)?this.headerCellCtrls.set(n,r):this.destroyBean(r);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const i=e.getUniqueId();let n;if(t&&(n=t.get(i),t.delete(i)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),null==n)switch(this.type){case"filter":n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break;case"group":n=this.createBean(new Oce(e,this.beans,this));break;default:n=this.createBean(new kce(e,this.beans,this))}this.headerCellCtrls.set(i,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach(n=>{const r=i.getHeadersToRender(n,t);e=e.concat(r)}),e}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){return this.headerCellCtrls?this.getHeaderCellCtrls().find(n=>n.getColumnGroupChild()==e):void 0}focusHeader(e,t){const i=this.findHeaderCellCtrl(e);return!!i&&i.focus(t)}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}},Nce=class extends ne{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i}),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new Uu,i=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const c=this.createBean(new Z1(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}})(),(()=>{const a=t.next(),l=!(this.hidden||null!=this.columnsRowCtrl&&e&&this.columnsRowCtrl.getRowIndex()===a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new Z1(a,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void a();const l=t.next();if(this.filtersRowCtrl){const c=this.filtersRowCtrl.getRowIndex()!==l;(!e||c)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Z1(l,this.pinned,"filter")))})();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(e){if(xl(e))return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(let t=0;t<this.groupsRowCtrls.length;t++){const i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){const r=this.getAllCtrls()[e];return!!r&&r.focusHeader(t,i)}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new Rce(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new q1(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(null==this.pinned)return;const e="left"===this.pinned,t="right"===this.pinned;this.hidden=!0;const i=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==n)return;const r=0==n,s=this.hidden!==r,o=this.gos.get("enableRtl"),a=this.gos.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?n+a:n;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!r),s&&(this.hidden=r,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},Q1=class extends kt{constructor(e){super(),this.eCenterContainer=Le,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();const e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{const n=this.getGui();n.style.width=i,n.style.maxWidth=i,n.style.minWidth=i}};this.createManagedBean(new Nce(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){this.setTemplate("left"==this.pinned?'<div class="ag-pinned-left-header" role="rowgroup"></div>':"right"==this.pinned?'<div class="ag-pinned-right-header" role="rowgroup"></div>':'<div class="ag-header-viewport" role="presentation">\n        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>\n    </div>'),this.eRowContainer=this.eCenterContainer!==Le?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const t=this.headerRowComps;let i;this.headerRowComps={},this.rowCompsList=[];const n=r=>{const s=r.getGui();s.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(s),i&&tV(this.eRowContainer,s,i),i=s};e.forEach(r=>{const s=r.getInstanceId(),o=t[s];delete t[s];const a=o||this.createBean(new _ce(r));this.headerRowComps[s]=a,this.rowCompsList.push(a),n(a)}),bl(t).forEach(r=>this.destroyRowComp(r))}},zce={selector:"AG-HEADER-ROOT",component:class extends kt{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){const e={addOrRemoveCssClass:(n,r)=>this.addOrRemoveCssClass(n,r),setHeightAndMinHeight:n=>{this.getGui().style.height=n,this.getGui().style.minHeight=n}};this.createManagedBean(new bce).setComp(e,this.getGui(),this.getFocusableElement());const i=n=>{this.createManagedBean(n),this.appendChild(n)};i(new Q1("left")),i(new Q1(null)),i(new Q1("right"))}}},J1=class extends ne{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e};this.view.updateLayoutClasses(t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal",t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(de(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},jce={selector:"AG-OVERLAY-WRAPPER",component:class extends kt{constructor(){super('\n            <div class="ag-overlay" role="presentation">\n                <div class="ag-overlay-panel" role="presentation">\n                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>\n                </div>\n            </div>'),this.eOverlayWrapper=Le,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==Y.TAB||e.defaultPrevented||Da(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;i=e.shiftKey?this.focusService.focusGridView(St(this.visibleColsService.getAllCols()),!0,!1):this.focusService.focusNextGridCoreContainer(!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new J1(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.focusService.isGridFocused()){const r=this.gos.getActiveDomElement();r&&!this.gos.isNothingFocused()&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e)return void(this.activeOverlay!==r&&(this.destroyBean(r),r=null));if(this.activePromise=null,!r)return;if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,n)){const o=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:a})=>{o.refresh?.(this.gos.addGridCommonParams({...a??{}}))})}const s=this.focusService;i&&s.isGridFocused()&&s.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Gn(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),super.destroy()}}},$V=class extends kt{constructor(e,t){super(),this.direction=t,this.eViewport=Le,this.eContainer=Le,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",qB()||Sl())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=XB(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();!function hoe(e,t,i=100,n){const r=(new Date).getTime();let s=null,o=!1;const a=()=>{const l=(new Date).getTime()-r>i;(e()||l)&&(t(),o=!0,null!=s&&(window.clearInterval(s),s=null),l&&n&&de(n))};a(),o||(s=window.setInterval(a,10))}(()=>ho(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},Kce={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:class extends $V{constructor(){super('<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>\n        </div>',"horizontal"),this.eLeftSpacer=Le,this.eRightSpacer=Le}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new q1(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,n=this.gos.getScrollbarWidth();i&&(t+=n),fo(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let r=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(r+=n),fo(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),n=e&&this.gos.getScrollbarWidth()||0,s=i?0:0===n&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Tp(this.getGui(),s),Tp(this.eViewport,s),Tp(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return J0(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){ho(this.getViewportElement())||this.attemptSettingScrollPosition(e),eC(this.getViewportElement(),e,this.enableRtl)}}},KV=class extends ne{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},Yce={selector:"AG-FAKE-VERTICAL-SCROLL",component:class extends $V{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super('<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>\n            </div>\n        </div>',"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new KV(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.gos.getScrollbarWidth()||0,n=0===i&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),fo(this.getGui(),n),fo(this.eViewport,n),fo(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,i=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),r=i.scrollTop;n!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!ho(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}}},eE=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(eE||{}),Xce=class extends ne{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=ur(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=ur(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){const e=this.ctrlsService.getParams();this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const t of Object.values(eE))this.registerScrollPartner(e[t],this.onHScroll.bind(this,t))}addVerticalScrollListeners(){const e=this.ctrlsService.getParams(),t=this.gos.get("debounceVerticalScrollbar"),i=t?ur(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),n=t?ur(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e.fakeVScrollComp,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){null!=this.centerRowsCtrl&&(void 0===e&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(eE),"Viewport"])this.lastScrollSource[1]!==t&&eC(this.getViewportForSource(t),e,this.enableRtl)}getViewportForSource(e){return"Viewport"===e?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(0===t?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;const n=J0(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;t="Viewport"===e?this.eBodyViewport.scrollTop:this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,"Viewport"===e?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,i=!1){return!(i&&!Sl())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=A1(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Q0()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl&&Q0()?e>0?0:n:Math.min(Math.max(e,0),n)),eC(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const i=this.rowModel.getRowCount();let n=-1;for(let r=0;r<i;r++){const s=this.rowModel.getRow(r);if("function"==typeof e){if(s&&e(s)){n=r;break}}else if(e===s||e===s.data){n=r;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(this.gos.isDomLayout("print"))return;const i=this.rowModel.getRowCount();if("number"!=typeof e||e<0||e>=i)return void de("Invalid row index for ensureIndexVisible: "+e);const r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{r||this.paginationService?.goToPageWithIndex(e);const s=this.ctrlsService.getGridBodyCtrl(),o=s.getStickyTopHeight(),a=s.getStickyBottomHeight(),l=this.rowModel.getRow(e);let c;do{const d=l.rowTop,u=l.rowHeight,h=this.pageBoundsService.getPixelOffset(),f=l.rowTop-h,g=f+l.rowHeight,p=this.getVScrollPosition(),m=this.heightScaler.getDivStretchOffset(),C=p.top+m,v=p.bottom+m,_=v-C,x=this.heightScaler.getScrollPositionForPixel(f),R=this.heightScaler.getScrollPositionForPixel(g-_),M=Math.min((x+R)/2,f);let B=null;"top"===t?B=x:"bottom"===t?B=R:"middle"===t?B=M:C+o>f?B=x-o:v-a<g&&(B=R+a),null!==B&&(this.setVerticalScrollPosition(B),this.rowRenderer.redraw({afterScroll:!0})),c=d!==l.rowTop||u!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const i=this.columnModel.getCol(e);if(!i||i.isPinned()||!this.visibleColsService.isColDisplayed(i))return;const n=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming(()=>{null!==n&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:n)||r,l=o?n:i;"auto"!==t&&(a="start"===t,l="end"===t);const c="middle"===t;if(a||l||c){const{colLeft:d,colMiddle:u,colRight:h}=this.getColumnBounds(e);return c?u-s/2:a?o?h:d:o?d-s:h-s}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:n,colRight:r}=this.getColumnBounds(e),s=this.enableRtl;return{columnBeforeStart:s?t>r:i<r,columnAfterEnd:s?i<n:t>n}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),n=e.getActualWidth(),r=e.getLeft(),s=t?-1:1,o=t?i-r:r;return{colLeft:o,colMiddle:o+n/2*s,colRight:o+n*s}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}},Zce=class extends ne{wireBeans(e){this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const t=Dp(this.gridBodyCtrl.getBodyViewportElement());if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50);const n=this.gos.getCallback("processUnpinnedColumns");i.length&&(n&&(i=n({columns:i,viewportWidth:t})),this.columnModel.setColsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const n=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(n<e)return[];const r=[...this.visibleColsService.getLeftCols()],s=[...this.visibleColsService.getRightCols()];let o=0,a=0;const c=[];let d=n-0-e;for(;(a<r.length||o<s.length)&&d>0;){if(o<s.length){const u=s[o++];d-=u.getActualWidth(),c.push(u)}if(a<r.length&&d>0){const u=r[a++];d-=u.getActualWidth(),c.push(u)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const t=A1(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},Qce=class extends ne{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){this.rangeService&&(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",t=>{t.currentValue?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gos.get("enableRangeSelection")&&this.enableFeature())}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},Jce=class extends kt{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[I1]),this.eCheckbox=Le}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=m1(e,t),[n,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=e(n,r);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:n=>Bu(n),click:n=>{Bu(n);const r=this.gos.get("groupSelectsFiltered"),s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,r)?0===this.onClicked(!0,r,n||{})&&this.onClicked(!1,r,n):s?this.onClicked(!1,r,n):this.onClicked(!0,r,n||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.gos.get("isRowSelectable")||"function"==typeof this.getIsVisible()){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gos.isRowModelType("clientSide")}showOrHideSelect(){let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if("function"==typeof t){const n=this.overrides?.callbackParams;if(this.column){const r=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...n,...r})}else e=t({...n,node:this.rowNode,data:this.rowNode.data})}else e=t??!1;if(this.column?.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!e),this.setVisible(!0),void this.setDisplayed(!0);this.overrides?.removeHidden?this.setDisplayed(e):this.setVisible(e)}getIsVisible(){return this.overrides?this.overrides.isVisible:this.column?.getColDef()?.checkboxSelection}},ede=class extends kt{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(ts("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),t?t(this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e})):(()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}})()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},tde=class extends ne{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if("function"==typeof e.cellStyle){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});t=(0,e.cellStyle)(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},ide=class extends ne{constructor(e,t,i,n,r){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case Y.ENTER:this.onEnterKeyDown(e);break;case Y.F2:this.onF2KeyDown(e);break;case Y.ESCAPE:this.onEscapeKeyDown(e);break;case Y.TAB:this.onTabKeyDown(e);break;case Y.BACKSPACE:case Y.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Y.DOWN:case Y.UP:case Y.RIGHT:case Y.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:n,rowNode:r}=this,{gos:s,rangeService:o,eventService:a}=n;if(!i.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),function Tle(e,t=!1){return e===Y.DELETE||!t&&e===Y.BACKSPACE&&qB()}(e,s.get("enableCellEditingOnBackspace"))){if(o&&s.get("enableRangeSelection"))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const l=i.getColumn(),c=this.beans.valueService.parseValue(l,r,"",r.getValueFromValueService(l))??null;r.setDataValue(l,c,"cellClear")}}else i.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey):this.beans.gos.get("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,e.shiftKey?Y.UP:Y.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Y.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault())}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Y.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;" "===n?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(n,e),e.preventDefault())}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const i=this.rowNode.isSelected(),n=!i;if(n||!t.get("suppressRowDeselection")){const r=this.beans.gos.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});void 0===i&&0===s&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},nde=class extends ne{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!Da(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();const{eventService:t,rangeService:i,gos:n}=this.beans;i&&(e.ctrlKey||e.metaKey)&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const s=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(s);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(s)})},0),(n.get("singleClickEdit")||o.singleClickEdit)&&!n.get("suppressClickEdit")&&(!e.shiftKey||0==i?.getCellRanges().length)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Sl()||TB("dblclick"))return!1;const e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:n}=this,{eventService:r,frameworkOverrides:s,gos:o}=i,a=t.getColDef(),l=n.createEvent(e,"cellDoubleClicked");r.dispatchEvent(l),"function"==typeof a.onCellDoubleClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&n.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:n}=e,r=e.target,{cellCtrl:s,beans:o}=this,{eventService:a,rangeService:l,focusService:c,gos:d}=o;if(this.isRightClickInExistingRange(e))return;const u=l&&0!=l.getCellRanges().length;if(!n||!u){const f=d.get("enableCellTextSelection")&&e.defaultPrevented,g=(jo()||f)&&!s.isEditing()&&!T1(r);s.focusCell(g)}if(n&&u&&!c.isCellFocused(s.getCellPosition())){e.preventDefault();const h=c.getFocusedCell();if(h){const{column:f,rowIndex:g,rowPinned:p}=h,C=o.rowRenderer.getRowByPosition({rowIndex:g,rowPinned:p})?.getCellCtrl(f);C?.isEditing()&&C.stopEditing(),c.setFocusedCell({column:f,rowIndex:g,rowPinned:p,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(l){const h=this.cellCtrl.getCellPosition();n?l.extendLatestRangeToCell(h):l.setRangeToCell(h,t||i)}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=2===e.button||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&n)return!0}return!1}containsWidget(e){return zu(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}destroy(){super.destroy()}},rde=class extends ne{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();wl(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else{let i=this.column;const n=this.column.getPinned();for(let r=0;i&&r<e&&(t.push(i),i=this.beans.visibleColsService.getColAfter(i),i&&!ft(i)&&n===i.getPinned());r++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gos.get("enableRtl")&&this.colsSpanning?St(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;const t=this.beans.visibleColsService.getColsLeftWidth();return"right"===this.column.getPinned()?t+this.beans.visibleColsService.getBodyContainerWidth()+(e||0):t+(e||0)}applyRowSpan(e){if(1===this.rowSpan&&!e)return;const i=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},Ip="ag-cell-range-selected",Ede=0,qV=class VT extends ne{constructor(t,i,n,r){super(),this.column=t,this.rowNode=i,this.beans=n,this.rowCtrl=r,this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.instanceId=t.getId()+"-"+Ede++,this.colIdSanitised=Uo(this.column.getId()),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new rde(this,this.beans),this.addDestroyFunc(()=>{this.cellPositionFeature?.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new tde(this,this.beans),this.addDestroyFunc(()=>{this.cellCustomStyleFeature?.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new nde(this,this.beans,this.column),this.addDestroyFunc(()=>{this.cellMouseListenerFeature?.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new ide(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{this.cellKeyboardListenerFeature?.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Ip,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Ip}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Ip}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Ip}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Ip}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),q0(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.right,r=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!t&&e.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",s)}isSingleCell(){const{rangeService:e}=this.beans;return 1===this.rangeCount&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(i=>Oc([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,i=!1,n=!1,r=!1;const s=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService;let a,l;e?(a=o.getColAfter(s),l=o.getColBefore(s)):(a=o.getColBefore(s),l=o.getColAfter(s));const c=this.rangeService.getCellRanges().filter(d=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),d));a||(r=!0),l||(i=!0);for(let d=0;d<c.length&&!(t&&i&&n&&r);d++){const u=c[d],h=this.rangeService.getRangeStartRow(u),f=this.rangeService.getRangeEndRow(u);!t&&this.beans.rowPositionUtils.sameRow(h,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(n=!0),!r&&a&&u.columns.indexOf(a)<0&&(r=!0),!i&&l&&u.columns.indexOf(l)<0&&(i=!0)}return{top:t,right:i,bottom:n,left:r}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;const n=St(t),r=this.cellCtrl.getCellPosition(),s=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),o=e.get("enableRangeHandle");let a=1===i&&!this.cellCtrl.isEditing()&&(s||o);if(this.hasChartRange){const c=1===t[0].type&&this.rangeService.isCellInSpecificRange(r,t[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",c),a=0===n.type}return a&&null!=n.endRow&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,r)}addSelectionHandle(){const e=this.beans.gos,t=St(this.rangeService.getCellRanges()).type,n=e.get("enableFillHandle")&&ft(t)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}}(this.beans,this),this.addDestroyFunc(()=>{this.cellRangeFeature?.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(t,i){const r="whenTruncated"===this.beans.gos.get("tooltipShowMode");!i&&r&&!this.isCellRenderer()&&(i=()=>{const o=this.getGui(),a=0===o.children.length?o:o.querySelector(".ag-cell-value");return!a||a.scrollWidth>a.clientWidth}),this.tooltipFeature=new ju({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=t?()=>t:()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&_e(a))return yp(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i},this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(t,i,n,r,s){this.cellComp=t,this.eGui=i,this.printLayout=r,this.addDomData(),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(i),this.cellCustomStyleFeature?.setComp(t),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(o=>o()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const i=t.parentElement,n=this.beans.gos.getRowHeightForNode(this.rowNode).height,r=a=>{if(this.editing||!this.isAlive())return;const{paddingTop:l,paddingBottom:c,borderBottomWidth:d,borderTopWidth:u}=Bc(i),g=t.offsetHeight+(l+c+d+u);if(a<5){const m=this.beans.gos.getDocument();if(!m||!m.contains(t)||0==g)return void window.setTimeout(()=>r(a+1),0)}const p=Math.max(g,n);this.rowNode.setRowAutoHeight(p,this.column)},s=()=>r(0);s();const o=this.beans.resizeObserverService.observeResize(t,s);this.addDestroyFunc(()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}getInstanceId(){return this.instanceId}getColumnIdSanitised(){return this.colIdSanitised}isCellRenderer(){const t=this.column.getColDef();return null!=t.cellRenderer||null!=t.cellRendererSelector}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){const i=this.getValueToDisplay();let n;if(this.rowNode.stub&&null==this.rowNode.groupData?.[this.column.getId()]){const s=this.createCellRendererParams();n=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),s)}else if(this.isCellRenderer()){const s=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),s)}this.cellComp.setRenderDetails(n,i,t),this.cellRangeFeature?.refreshHandle()}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return null==this.rowNode.rowPinned&&("function"==typeof t||!0===t)}refreshShouldDestroy(){const t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),r=this.includeDndSource!=this.isIncludeControl(t.dndSource),s=this.isAutoHeight!=this.column.isAutoHeight();return i||n||r||s}startEditing(t=null,i=!1,n=null){const{editService:r}=this.beans;if(this.isCellEditable()&&!this.editing&&r){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,i,n)});r.startEditing(this,t,i,n)}}setEditing(t,i){this.editCompDetails=i,this.editing!==t&&(this.editing=t,this.cellRangeFeature?.refreshHandle())}stopRowOrCellEdit(t=!1){"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){const{editService:i}=this.beans;return!(!this.editing||!i)&&i.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,n,r,s)=>this.registerRowDragger(i,n,s),setTooltip:(i,n)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,n),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(t)}refreshCell(t){if(this.suppressRefreshCell||this.editing)return;const i=this.column.getColDef(),n=null!=t&&!!t.newData,r=null!=t&&!!t.suppressFlash||!!i.suppressCellFlash,o=t&&t.forceRefresh||null==i.field&&null==i.valueGetter&&null==i.showRowGroup||n,a=!!this.cellComp,l=this.updateAndFormatValue(a);if(a){if(o||l){this.showValue(n);const d=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!r&&!d&&(this.beans.gos.get("enableCellChangeFlash")||i.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(t=!1,i=!1){this.beans.editService?.stopEditingAndFocus(this,t,i)}flashCell(t){this.animateCell("data-changed",t?.flashDuration??t?.flashDelay,t?.fadeDuration??t?.fadeDelay)}animateCell(t,i,n){if(!this.cellComp)return;const{gos:r}=this.beans;if(i||(i=r.get("cellFlashDuration")),0===i)return;_e(n)||(n=r.get("cellFadeDuration"));const s=`ag-cell-${t}`,o=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},n))},i)})}onFlashCells(t){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const i=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!t||!this.valuesAreEqual(i,this.value)||this.valueFormatted!=n}valuesAreEqual(t,i){const n=this.column.getColDef();return n.equals?n.equals(t,i):t===i}getComp(){return this.cellComp}getValue(){return this.value}addDomData(){const t=this.getGui();this.beans.gos.setDomData(t,VT.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gos.setDomData(t,VT.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,i){return this.beans.gos.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){this.cellKeyboardListenerFeature?.processCharacter(t)}onKeyDown(t){this.cellKeyboardListenerFeature?.onKeyDown(t)}onMouseEvent(t,i){this.cellMouseListenerFeature?.onMouseEvent(t,i)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:i,beans:n}=this;BV(t,i,n.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);jB(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,i=null){this.cellComp?"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,i):this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,i)})}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&Ms(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(i&&t?.forceBrowserFocus&&(this.focusEventToRestore=t));if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",i),i&&t&&t.forceBrowserFocus){let r=this.cellComp.getFocusableElement();if(this.editing){const s=this.beans.focusService.findFocusableElements(r,null,!0);s.length&&(r=s[0])}r.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const n="fullRow"===this.beans.gos.get("editType");!i&&!n&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Ta(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}onColDefChanged(){this.cellComp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)}dispatchCellContextMenuEvent(t){const i=this.column.getColDef(),n=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(n),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(n)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new Jce;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new ede(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,i,n){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(t,i);const r=this.createRowDragComp(t,i,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(t,i,n){const r=this.beans.gos.get("pagination"),s=this.beans.gos.get("rowDragManaged"),o=this.beans.gos.isRowModelType("clientSide");if(s){if(!o)return void de("managed row dragging is only allowed in the Client Side Row Model");if(r)return void de("managed row dragging is not possible when doing pagination")}const a=new O1(()=>this.value,this.rowNode,this.column,t,i,n);return this.beans.context.createBean(a),a}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}};qV.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var zc=qV,Dde=0,YV=class HT extends ne{constructor(t,i,n,r,s){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gos=i.gos,this.rowNode=t,this.paginationPage=i.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=r,this.printLayout=s,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+Dde++,this.rowId=Uo(t.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Uo(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}getInstanceId(){return this.instanceId}updateGui(t,i){"left"===t?this.leftGui=i:"right"===t?this.rightGui=i:"fullWidth"===t?this.fullWidthGui=i:this.centerGui=i}setComp(t,i,n){const r={rowComp:t,element:i,containerType:n};this.allRowGuis.push(r),this.updateGui(n,r),this.initialiseRowComp(r),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(t){const i=t?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=i)}initialiseRowComp(t){const i=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(s=>n.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&K0(t.element,1==this.rowNode.expanded),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),i.setDomData(t.element,HT.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>i.setDomData(t.element,HT.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){null!=this.businessKeySanitised&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=Uo(this.rowNode.id),null!=this.rowId&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:i}=t;this.slideInAnimation[i]&&(IB(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(IB(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(t){if(this.gos.get("enableRangeSelection"))return void de("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");const i=this.beans.localeService.getLocaleTextFunc(),n=new O1(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),r=this.createBean(n,this.beans.context);this.rowDragComps.push(r)}setupFullWidth(t){const i=this.getPinnedForContainer(t.containerType);if("FullWidthDetail"==this.rowType&&!hr.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const n=this.createFullWidthCompDetails(t.element,i);t.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(t=>t?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(t){const i=this.getCellCtrl(t);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");t&&this.areAllContainersReady()&&t({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),i=!!this.centerGui,n=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&i&&n}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),i=this.rowNode.isFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(r);this.rowType=t?"FullWidthLoading":n?"FullWidthDetail":i?"FullWidth":o?"FullWidthGroup":"Normal"}updateColumnLists(t=!1,i=!1){this.isFullWidth()||(t||this.gos.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(i):this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))}createCellCtrls(t,i,n=null){const r={list:[],map:{}},s=(o,a)=>{r.list.push(a),r.map[o]=a};return i.forEach(o=>{const a=o.getInstanceId();let l=t.map[a];l||(l=new zc(o,this.rowNode,this.beans,this)),s(a,l)}),t.list.forEach(o=>{null==r.map[o.getColumn().getInstanceId()]&&(this.isCellEligibleToBeRemoved(o,n)?o.destroy():s(o.getColumn().getInstanceId(),o))}),r}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(i=>{const n=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(n,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,i=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=i.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const s=i.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(t,i){if(t.getColumn().getPinned()!=i)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const c=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(c)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}listenOnDomOrder(t){const i=()=>{t.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)}setAnimateFlags(t){if(this.isSticky()||!t)return;const i=_e(this.rowNode.oldRowTop),n=this.beans.visibleColsService.isPinningLeft(),r=this.beans.visibleColsService.isPinningRight();if(i){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=r}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=r}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const t=(a,l)=>!a||a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params),i=t(this.fullWidthGui,null),n=t(this.centerGui,null),r=t(this.leftGui,"left"),s=t(this.rightGui,"right");return i&&n&&r&&s}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{this.gos.get("rowDragEntireRow")?this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)}):this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(t))}})}onRowNodeDataChanged(t){this.isFullWidth()===!!this.rowNode.isFullWidthCell()?this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()):this.beans.rowRenderer.redrawRow(this.rowNode)}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const r=1===t;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",0===t),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),i=1==this.rowNode.expanded;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),K0(n.element,t&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Ta(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(t){const i=this.allRowGuis.find(l=>l.element.contains(t.target));if((i?i.element:null)!==t.target)return;const s=this.rowNode,o=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(t,t.key,{rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:o&&o.column},!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Da(t))return;const i=this.allRowGuis.find(o=>o.element.contains(t.target)),n=i?i.element:null,r=n===t.target;let s=null;r||(s=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&r||!s)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const t=this.allRowGuis.find(i=>ho(i.element))?.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const i=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(n=>{Ms(n.element,"tabindex",i)})}onFullWidthRowFocused(t){const i=this.rowNode,n=!!t&&this.isFullWidth()&&t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned,r=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;r&&(r.classList.toggle("ag-full-width-focus",n),n&&t?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,i){const n={list:[],map:{}};return t.list.forEach(r=>{r!==i&&(n.list.push(r),n.map[r.getColumn().getInstanceId()]=r)}),n}onMouseEvent(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i)}}createRowEvent(t,i){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(t,i){const n=this.createRowEvent(t,i);return n.source=this,n}onRowDblClick(t){Da(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}onRowMouseDown(t){if(this.lastMouseDownOnDragger=zu(t.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode,n=this.beans.visibleColsService;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const r=this.getFullWidthElement(),s=t.target;let o=!0;r&&r.contains(s)&&T1(s)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:n.getAllCols()[0],rowPinned:i.rowPinned,forceBrowserFocus:o})}onRowClick(t){if(Da(t)||this.lastMouseDownOnDragger)return;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const n=t.ctrlKey||t.metaKey,r=t.shiftKey;if(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))return;const o=this.gos.get("rowMultiSelectWithClick"),a=!this.gos.get("suppressRowDeselection"),l="rowClicked";this.rowNode.isSelected()?o?this.rowNode.setSelectedParams({newValue:!1,event:t,source:l}):n?a&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:l}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!r,rangeSelect:r,event:t,source:l}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o&&!n,rangeSelect:r,event:t,source:l})}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}setupDetailRowAutoHeight(t){if("FullWidthDetail"!==this.rowType||!this.gos.get("detailRowAutoHeight"))return;const i=()=>{const r=t.clientHeight;null!=r&&r>0&&window.setTimeout(()=>{this.rowNode.setRowHeight(r),("clientSide"===this.beans.rowModel.getType()||"serverSide"===this.beans.rowModel.getType())&&this.beans.rowModel.onRowHeightChanged()},0)},n=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(n),i()}createFullWidthCompDetails(t,i){const{gos:n,rowNode:r}=this,s=n.addGridCommonParams({fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,l,c,d)=>this.addFullWidthRowDragging(a,l,c,d),setTooltip:(a,l)=>this.refreshRowTooltip(a,l)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(s);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(s);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(s);default:return o.getFullWidthCellRendererDetails(s)}}refreshRowTooltip(t,i){if(!this.fullWidthGui)return;const n={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new ju(n,this.beans))}addFullWidthRowDragging(t,i,n="",r){if(!this.isFullWidth())return;const s=new O1(()=>n,this.rowNode,void 0,t,i,r);this.createBean(s,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(s,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const i="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(i,!0),r.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(t=!1){this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(i=>i.isEditing());this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,i=null,n=null){this.editingRow||this.beans.rowEditService?.startEditing(this,t,i,n)}getAllCellCtrls(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(i=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,i){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return"left"===t||"right"===t?t:null}getInitialRowClasses(t){const i=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&"function"==typeof t)return void de("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const i=this.gos.getCallback("getRowStyle");let n;return i&&(n=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),n||t?Object.assign({},t,n):this.emptyStyle}onRowSelected(t){const i=!!this.rowNode.isSelected();this.forEachGui(t,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",i),q0(n.element,i),n.element.contains(this.gos.getActiveDomElement())&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&this.gos.get("suppressRowDeselection"))return;const n=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(n,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{rowNode:i,beans:n,gos:r}=this;this.addManagedListeners(t,{mouseenter:()=>i.onMouseEnter(),mouseleave:()=>i.onMouseLeave()}),this.addManagedListeners(i,{mouseEnter:()=>{!n.dragService.isDragging()&&!r.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{t.classList.remove("ag-row-hover"),i.setHovered(!1)}})}roundRowTopToBounds(t){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(i.top,!0)-100,r=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(n,t),r)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,i){t?i(t):this.allRowGuis.forEach(i)}onRowHeightChanged(t){if(null==this.rowNode.rowHeight)return;const i=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),s=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,o=s?Math.min(n,s)-2+"px":void 0;this.forEachGui(t,a=>{a.element.style.height=`${i}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,i){super.addEventListener(t,i)}removeEventListener(t,i){super.removeEventListener(t,i)}destroyFirstPass(t=!1){if(this.active=!1,!t&&this.gos.isAnimateRows()&&!this.isSticky())if(null!=this.rowNode.rowTop){const r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=i=>(i.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const t=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,i=!1){return this.rowNode.isRowPinned()||this.rowNode.sticky?t:t+this.beans.pageBoundsService.getPixelOffset()*(i?1:-1)}setRowTop(t){if(!this.printLayout&&_e(t)){const i=this.applyPaginationOffset(t),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(s)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const i=this.rowNode;let n;if(this.isSticky())n=i.stickyRowTop;else{const r=this.slideInAnimation[t]?this.roundRowTopToBounds(i.oldRowTop):i.rowTop,s=this.applyPaginationOffset(r);n=i.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s)}return n+"px"}setRowTopStyle(t){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(t):i.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let i=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==t&&(i=n)}),null!=i||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(t)>=0&&(i=n)}),i}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){const i=this.rowNode.getRowIndexString();if(null===i)return;const n=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2==0,s=n+this.rowNode.rowIndex+1;this.forEachGui(t,o=>{o.rowComp.setRowIndex(i),o.rowComp.addOrRemoveCssClass("ag-row-even",r),o.rowComp.addOrRemoveCssClass("ag-row-odd",!r),UB(o.element,s)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};YV.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Wc=YV,Tde=class extends ne{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",TB("touchstart")?"touchstart":"mousedown"].forEach(i=>{const n=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:n})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Da(t))return;const i=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,void 0,i,n):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Sl())return;const e=new El(this.element);this.addManagedListeners(e,{longTap:i=>{const n=this.getRowForEvent(i.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,n,r)}}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const i=this.gos.getDomData(t,Wc.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,n){const r=i?i.getRowNode():null,s=n?n.getColumn():null;let o=null;s&&(n.dispatchCellContextMenuEvent((e||t)??null),o=this.valueService.getValue(s,r));const a=this.ctrlsService.getGridBodyCtrl(),l=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:r,column:s,value:o,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:JS(this.gos,e,zc.DOM_DATA_KEY_CELL_CTRL),rowCtrl:JS(this.gos,e,Wc.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,i){const n=e.getRowNode(),r=e.getColumn(),s=e.isEditing();!B1(this.gos,i,n,r,s)&&"keydown"===t&&(!s&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),SV(i)&&e.processCharacter(i)),"keydown"===t&&this.eventService.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){const n=e.getRowNode(),r=this.focusService.getFocusedCell();if(!B1(this.gos,i,n,r&&r.column,!1)&&"keydown"===t)switch(i.key){case Y.PAGE_HOME:case Y.PAGE_END:case Y.PAGE_UP:case Y.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case Y.UP:case Y.DOWN:e.onKeyboardNavigate(i);break;case Y.TAB:e.onTabKeyDown(i)}"keydown"===t&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const i=function Dle(e){const{keyCode:t}=e;let i;switch(t){case 65:i=Y.A;break;case 67:i=Y.C;break;case 86:i=Y.V;break;case 68:i=Y.D;break;case 90:i=Y.Z;break;case 89:i=Y.Y;break;default:i=e.code}return i}(e);return i===Y.A?this.onCtrlAndA(e):i===Y.C?this.onCtrlAndC(e):i===Y.D?this.onCtrlAndD(e):i===Y.V?this.onCtrlAndV(e):i===Y.X?this.onCtrlAndX(e):i===Y.Y?this.onCtrlAndY():i===Y.Z?this.onCtrlAndZ(e):void 0}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:i,rangeService:n}=this;if(n&&i.isRowsToRender()){const[r,s]=[t.isEmpty("top"),t.isEmpty("bottom")],o=r?null:"top";let a,l;s?(a=null,l=i.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowCount()-1);const c=this.visibleColsService.getAllCols();if(Ar(c))return;n.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:c[0],columnEnd:St(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},Ade=class extends ne{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth();vi(this.element,e>0),fo(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},Rde=class extends ne{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth();vi(this.element,e>0),fo(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},lC=e=>e.getTopRowCtrls(),cC=e=>e.getStickyTopRowCtrls(),dC=e=>e.getStickyBottomRowCtrls(),uC=e=>e.getBottomRowCtrls(),hC=e=>e.getCentreRowCtrls(),Fde={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:hC},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:hC},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:hC},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:hC},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:lC},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:lC},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:lC},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:lC},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:cC},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:cC},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:cC},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:cC},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:dC},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:dC},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:dC},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:dC},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:uC},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:uC},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:uC},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:uC}};function Ku(e){return Fde[e]}var Pde=["center","left","right","fullWidth"],Ode=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Lde=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Nde=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],XV=["stickyTopCenter","stickyTopLeft","stickyTopRight"],ZV=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Bde=[...XV,"stickyTopFullWidth",...ZV,"stickyBottomFullWidth"],Vde=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right",...XV,...ZV],Hde=class extends ne{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=Ku(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Zce(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new Tde(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const n=()=>this.onPinnedWidthChanged();this.forContainers(Lde,()=>{this.pinnedWidthFeature=this.createManagedBean(new Ade(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:n})}),this.forContainers(Nde,()=>{this.pinnedWidthFeature=this.createManagedBean(new Rde(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:n})}),this.forContainers(Pde,()=>this.createManagedBean(new KV(this.eContainer,"center"===this.name?i:void 0))),this.forContainers(Vde,()=>this.createManagedBean(new Qce(this.eContainer))),this.forContainers(Ode,()=>this.createManagedBean(new q1(r=>this.comp.setContainerWidth(`${r}px`)))),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(Bde.indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const t=()=>{const i=this.gos.get("ensureDomOrder"),n=this.gos.isDomLayout("print");this.comp.setDomOrder(i||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,i,e)}getCenterWidth(){return Dp(this.eViewport)}getCenterViewportScrollLeft(){return J0(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return eV(this.eViewport)}getViewportScrollLeft(){return J0(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||function sae(e){return e.clientWidth<e.scrollWidth}(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){eC(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||0===t.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const i=this.gos.isDomLayout("print"),r=this.gos.get("embedFullWidthRows")||i,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},QV="ag-force-vertical-scroll",Wde=class extends ne{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,n,r,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=n,this.eBottom=r,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=i.querySelector(`.${Ku("center").viewport}`),this.eFullWidthContainer=i.querySelector(`.${Ku("fullWidth").container}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${Ku("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${Ku("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new J1(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Xce(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,r,s,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager?.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{const{target:n}=i,r=zu(n,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:i=>{const{target:n,relatedTarget:r}=i,s=t.contains(r),o=zu(r,"ag-root",t);zu(n,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss("ag-selectable",e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const n=`calc(100% + ${(e&&this.gos.getScrollbarWidth()||0)+(XB()?16:0)}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n))}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=i=>{const n=i.relatedTarget;if(null===D1(n))return void this.rowRenderer.stopEditing();let r=t.some(s=>s.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!r){const s=this.popupService;r=s.getActivePopups().some(o=>o.contains(n))||s.isElementWithinCustomPopup(n)}r||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(i=>this.addManagedElementListeners(i,{focusout:e}))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===t?-1:e+t)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?QV:null,i=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&function oae(e){return e.clientHeight<e.scrollHeight}(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const i=e&&this.gos.isAnimateRows()&&!this.rowContainerHeightService.isStretching();this.comp.setRowAnimationCssOnBodyViewport(i?"ag-row-animation":"ag-row-no-animation",i)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:i,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(i))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:i,shiftKey:n}=e,r=n||Math.abs(t)>Math.abs(i),s=e.target;r?(this.eStickyTopFullWidthContainer.contains(s)||this.eStickyBottomFullWidthContainer.contains(s))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Sl())return;const t=new El(this.eBodyViewport);this.addManagedListeners(t,{longTap:n=>{e(void 0,n.touchStart,n.touchEvent)}}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new sle(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(e){const t=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),i=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;t>0&&(n+=t),i>0&&(n+=i),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0;this.comp.setStickyBottomBottom(`${e+i}px`)}sizeColumnsToFit(e,t){const n=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,s=Dp(this.eGridBody)-n;s>0?this.columnSizeService.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):100===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):500===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):de("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},Ude=class extends kt{constructor(e,t,i,n,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=n,this.cellCtrl=t;const s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(s);const o=this.getGui();var c,d;this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1),Rr(o,t.getCellAriaRole()),c="col-id",null!=(d=t.getColumnIdSanitised())&&""!=d?o.setAttribute(c,d):o.removeAttribute(c);const l={addOrRemoveCssClass:(c,d)=>this.addOrRemoveCssClass(c,d),setUserStyles:c=>nV(o,c),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:c=>this.includeSelection=c,setIncludeRowDrag:c=>this.includeRowDrag=c,setIncludeDndSource:c=>this.includeDndSource=c,setRenderDetails:(c,d,u)=>this.setRenderDetails(c,d,u),setEditDetails:(c,d,u)=>this.setEditDetails(c,d,u),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(l,this.getGui(),this.eCellWrapper,i,r)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!i&&!r&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,n=i&&null==this.eCellWrapper;if(n){const c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}const r=!i&&null!=this.eCellWrapper;r&&(uo(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const s=!e&&i,o=s&&null==this.eCellValue;if(o){const c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}const a=!s&&null!=this.eCellValue;a&&(uo(this.eCellValue),this.eCellValue=void 0);const l=n||r||o||a;return l&&this.removeControls(),e||t&&this.addControls(),l}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){const n=this.editorVersion,r=e.newAgStackInstance();if(null==r)return;const{params:s}=e;r.then(a=>this.afterCellEditorCreated(n,a,s,t,i)),ft(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();Gn(t);const i=null!=e?Uo(e,!0):null;null!=i&&(t.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),uo(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),uo(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return!0===t||void 0===t}createCellRendererInstance(e){const i=!this.beans.gos.get("suppressAnimationFrame"),n=this.rendererVersion,{componentClass:r}=e,s=()=>{if(this.rendererVersion!==n||!this.isAlive())return;const a=e.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,n,r);a&&a.then(l)};i&&this.firstRender?this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const r=this.getParentOfValue();Gn(r),r.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(i)}afterCellEditorCreated(e,t,i,n,r){if(e!==this.editorVersion)return void this.beans.context.destroyBean(t);if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void this.cellCtrl.stopEditing(!0);if(!t.getGui)return de(`cellEditor for column ${this.column.getId()} is missing getGui() method`),void this.beans.context.destroyBean(t);this.cellEditor=t,this.cellEditorGui=t.getGui();const a=n||void 0!==t.isPopup&&t.isPopup();a?this.addPopupCellEditor(i,r):this.addInCellEditor(),this.refreshEditStyles(!0,a),t.afterGuiAttached&&t.afterGuiAttached()}refreshEditStyles(e,t){this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),this.rowCtrl?.setInlineEditingCss()}addInCellEditor(){const e=this.getGui();e.contains(this.beans.gos.getActiveDomElement())&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){"fullRow"===this.beans.gos.get("editType")&&de("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(e));const n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);const r=this.beans.popupService,s=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),o=t??i.getPopupPosition?.()??"over",a=this.beans.gos.get("enableRtl"),l={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:o,alignSide:a?"right":"left",keepWithinBounds:!0},c=r.positionPopupByComponent.bind(r,l),d=this.beans.localeService.getLocaleTextFunc(),u=r.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});u&&(this.hideEditorPopup=u.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui();e.contains(this.beans.gos.getActiveDomElement())&&E1()&&e.focus({preventScroll:!0}),Gn(this.getParentOfValue())}},jde=class extends kt{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;const n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),n.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(n);const r=this.getGui(),s=r.style;this.domOrder=this.rowCtrl.getDomOrder(),Rr(r,"row"),e.setComp({setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(a,l)=>this.addOrRemoveCssClass(a,l),setUserStyles:a=>nV(r,a),setTop:a=>s.top=a,setTransform:a=>s.transform=a,setRowIndex:a=>r.setAttribute("row-index",a),setRowId:a=>r.setAttribute("row-id",a),setRowBusinessKey:a=>r.setAttribute("row-business-key",a),refreshFullWidth:a=>this.refreshFullWidth(a)},this.getGui(),i),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){const i=e.newAgStackInstance();i?.then(n=>{if(this.isAlive()){const r=n.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)})}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(n=>{const r=n.getInstanceId();null==this.cellComps[r]?this.newCellComp(n):t[r]=null});const i=bl(t).filter(n=>null!=n);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(i=>{const n=this.cellComps[i.getInstanceId()];n&&t.push(n.getGui())}),iV(this.getGui(),t)}newCellComp(e){const t=new Ude(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=bl(this.cellComps).filter(t=>null!=t);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&Ft("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(t=>{if(!t)return;const i=t.getCtrl().getInstanceId();this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}refreshFullWidth(e){const{fullWidthCellRenderer:t}=this;if(!t||!t.refresh)return!1;const i=e();return t.refresh(i)}},qde={selector:"AG-ROW-CONTAINER",component:class extends kt{constructor(){super(),this.eViewport=Le,this.eContainer=Le,this.rowComps={},this.name=kt.elementGettingCreated.getAttribute("name"),this.options=Ku(this.name),this.setTemplate(function $de(e){let t;return t="center"===e.type?`<div class="${e.viewport}" data-ref="eViewport" role="presentation">\n                <div class="${e.container}" data-ref="eContainer"></div>\n            </div>`:`<div class="${e.container}" data-ref="eContainer"></div>`,t}(this.options))}wireBeans(e){this.beans=e}postConstruct(){const e={setHorizontalScroll:i=>this.eViewport.scrollLeft=i,setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i,setOffsetTop:i=>this.eContainer.style.transform=`translateY(${i})`};this.createManagedBean(new Hde(this.name)).setComp(e,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy()}setRowCtrls(e){const t={...this.rowComps};this.rowComps={},this.lastPlacedElement=null,e.forEach(n=>{const r=n.getInstanceId(),s=t[r];if(s)this.rowComps[r]=s,delete t[r],this.ensureDomOrder(s.getGui());else{if(!n.getRowNode().displayed)return;const o=new jde(n,this.beans,this.options.type);this.rowComps[r]=o,this.appendRow(o.getGui())}}),bl(t).forEach(n=>{this.eContainer.removeChild(n.getGui()),n.destroy()}),Rr(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?function rae(e,t,i){i?i.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(tV(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}}};function Pp(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}var Yde=`<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root></ag-header-root>\n        <div class="ag-floating-top" data-ref="eTop" role="presentation">\n            ${Pp(["topLeft","topCenter","topRight","topFullWidth"])}\n        </div>\n        <div class="ag-body" data-ref="eBody" role="presentation">\n            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">\n            ${Pp(["left","center","right","fullWidth"])}\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">\n            ${Pp(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}\n        </div>\n        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">\n            ${Pp(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}\n        </div>\n        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">\n            ${Pp(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>`,Zde={selector:"AG-GRID-BODY",component:class extends kt{constructor(){super(Yde,[jce,Kce,Yce,zce,qde]),this.eBodyViewport=Le,this.eStickyTop=Le,this.eStickyBottom=Le,this.eTop=Le,this.eBottom=Le,this.eBody=Le}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.rangeService=e.rangeService}postConstruct(){const e=(i,n)=>{const r=`${i}px`;n.style.minHeight=r,n.style.height=r},t={setRowAnimationCssOnBodyViewport:(i,n)=>this.setRowAnimationCssOnBodyViewport(i,n),setColumnCount:i=>function Koe(e,t){Fs(e,"colcount",t)}(this.getGui(),i),setRowCount:i=>function $oe(e,t){Fs(e,"rowcount",t)}(this.getGui(),i),setTopHeight:i=>e(i,this.eTop),setBottomHeight:i=>e(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setStickyBottomHeight:i=>{this.eStickyBottom.style.height=i,this.eStickyBottom.classList.toggle("ag-hidden","0px"===i)},setStickyBottomBottom:i=>this.eStickyBottom.style.bottom=i,setStickyBottomWidth:i=>this.eStickyBottom.style.width=i,setColumnMovingCss:(i,n)=>this.addOrRemoveCssClass(i,n),updateLayoutClasses:(i,n)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(s=>{s.toggle("ag-layout-auto-height",n.autoHeight),s.toggle("ag-layout-normal",n.normal),s.toggle("ag-layout-print",n.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",n.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",n.normal),this.addOrRemoveCssClass("ag-layout-print",n.print)},setAlwaysVerticalScrollClass:(i,n)=>this.eBodyViewport.classList.toggle(QV,n),registerBodyViewportResizeListener:i=>{const n=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>n())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,n)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(i,n))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new Wde),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&this.gos.get("enableRangeSelection")||"multiple"===this.gos.get("rowSelection"))&&function joe(e,t){Fs(e,"multiselectable",t)}(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}}},Qde=class extends ne{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}},JV="__ag_grid_instance",e4=class R6 extends ne{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=R6.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[JV]=this.gridInstanceId}getRenderedCellForEvent(t){return JS(this.gos,t.target,zc.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let i=t;for(;i;){const n=i[JV];if(_e(n))return n===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(t){const i=this.getRenderedCellForEvent(t);return i?i.getCellPosition():null}getNormalisedPosition(t){const i=this.gos.isDomLayout("normal");let r,s;if(null!=t.clientX||null!=t.clientY?(r=t.clientX,s=t.clientY):(r=t.x,s=t.y),i){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition();r+=o.getScrollFeature().getHScrollPosition().left,s+=a.top}return{x:r,y:s}}};e4.gridInstanceSequence=new Uu;var Jde=e4,eue=class extends ne{constructor(){super(),this.beanName="navigationService",this.onPageDown=PB(this.onPageDown,100),this.onPageUp=PB(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,n=e.altKey,r=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(i){case Y.PAGE_HOME:case Y.PAGE_END:!r&&!n&&(this.onHomeOrEndKey(i),a=!0);break;case Y.LEFT:case Y.RIGHT:case Y.UP:case Y.DOWN:if(!o)return!1;r&&!n&&!s&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case Y.PAGE_DOWN:case Y.PAGE_UP:!r&&!n&&(a=this.handlePageUpDown(i,o,t))}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),!!t&&(e===Y.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo(e){const{scrollIndex:t,scrollType:i,scrollColumn:n,focusIndex:r,focusColumn:s}=e;_e(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),_e(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:r,rowPinned:null,column:s})}onPageDown(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),r=this.pageBoundsService.getPixelOffset(),o=this.rowModel.getRowIndexAtPixel(i.top+n+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.pageBoundsService.getPixelOffset(),s=this.rowModel.getRowIndexAtPixel(i.top+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)}navigateToNextPage(e,t,i=!1){const n=this.getViewportHeight(),r=this.pageBoundsService.getFirstRow(),s=this.pageBoundsService.getLastRow(),o=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=i?a?.rowHeight-n-o:n-o;let u,d=this.rowModel.getRowIndexAtPixel(a?.rowTop+l+o);d===e.rowIndex&&(t=d=e.rowIndex+(i?-1:1)),i?(u="bottom",d<r&&(d=r),t<r&&(t=r)):(u="top",d>s&&(d=s),t>s&&(t=s)),this.isRowTallerThanView(d)&&(t=d,u="top"),this.navigateTo({scrollIndex:t,scrollType:u,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const i=t?-1:1,n=this.getViewportHeight(),r=this.pageBoundsService.getLastRow();let s=0,o=e.rowIndex;for(;o>=0&&o<=r;){const a=this.rowModel.getRow(o);if(a){const l=a.rowHeight??0;if(s+l>n)break;s+=l}o+=i}return Math.max(0,Math.min(o,r))}getViewportHeight(){const{gridBodyCtrl:e,center:t}=this.ctrlsService.getParams(),i=e.getScrollFeature().getVScrollPosition(),n=this.gos.getScrollbarWidth();let r=i.bottom-i.top;return t.isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const i=t.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n}=i,r=i.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:r,focusIndex:n,focusColumn:r})}onHomeOrEndKey(e){const t=e===Y.PAGE_HOME,i=this.visibleColsService.getAllCols(),n=t?i[0]:St(i),r=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:n,focusIndex:r,focusColumn:n})}onTabKeyDown(e,t){const i=t.shiftKey,n=this.tabToNextCellCommon(e,i,t);if(!1===n)if(i){const{rowIndex:r,rowPinned:s}=e.getRowPosition();(s?0===r:r===this.pageBoundsService.getFirstRow())&&(0===this.gos.get("headerHeight")||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof zc&&e.focusCell(!0),(!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&t.preventDefault();else n?t.preventDefault():null===n&&this.focusService.allowFocusForNextGridCoreContainer(i)}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let n=this.getCellByPosition(i);return!!(n||(n=this.rowRenderer.getRowByPosition(i),n&&n.isFullWidth()))&&!!this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,i){let r,n=e.isEditing();if(!n&&e instanceof zc){const o=e.getRowCtrl();o&&(n=o.isEditing())}return r=n?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(e,t,i):this.moveToNextEditingCell(e,t,i):this.moveToNextCellNotEditing(e,t),null===r?r:r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const r=this.findNextCellToFocusOn(n,t,!0);return!1===r?null:null!=r&&(r.startEditing(null,!0,i),r.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const n=e.getCellPosition(),r=this.findNextCellToFocusOn(n,t,!0);if(!1===r)return null;if(null==r)return!1;const s=r.getCellPosition(),o=this.isCellEditable(n),a=this.isCellEditable(s),l=s&&n.rowIndex===s.rowIndex&&n.rowPinned===s.rowPinned;return o&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.visibleColsService.getAllCols();let n;n=e instanceof Wc?{...e.getRowPosition(),column:t?i[0]:St(i)}:e.getCellPosition();const r=this.findNextCellToFocusOn(n,t,!1);if(!1===r)return null;if(r instanceof zc)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return _e(r)}findNextCellToFocusOn(e,t,i){let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const r=this.gos.getCallback("tabToNextCell");if(_e(r)){const l=r({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:n||null});if(!0===l||null===l)null===l&&de("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=e;else{if(!1===l)return!1;n={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+n.rowIndex,column:n.column},fromCell:!0}),null}const s="fullRow"===this.gos.get("editType");if(i&&!s&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const o=this.getCellByPosition(n);if(!o){const a=this.rowRenderer.getRowByPosition(n);if(!a||!a.isFullWidth()||i)continue;return a}if(!o.isSuppressNavigable())return this.rangeService?.setRangeToCell(n),o}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,i,n){let r=i,s=!1;for(;r&&(r===i||!this.isValidNavigateCell(r));)this.gos.get("enableRtl")?t===Y.LEFT&&(r=this.getLastCellOfColSpan(r)):t===Y.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(t,r),s=ft(r);if(s&&e&&e.key===Y.UP&&(r={rowIndex:-1,rowPinned:null,column:i.column}),n){const a=this.gos.getCallback("navigateToNextCell");if(_e(a)){const c=a({key:t,previousCellPosition:i,nextCellPosition:r||null,event:e});r=_e(c)?{rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}:null}}if(!r)return;if(r.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+r.rowIndex,column:i.column},event:e||void 0,fromCell:!0})}const o=this.getNormalisedPosition(r);o?this.focusPosition(o):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){const i=this.visibleColsService.getAllCols(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?St(i):i[0])};this.focusPosition(s);const o=null!=r&&this.rowPositionUtils.before(s,r);return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,fromBelow:o}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:St(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gos.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(t&&i?.sticky)&&ft(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},tue=class extends ne{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},iue=class extends ne{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:n})},i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let n=-1,r="left";const s=this.menuService.isLegacyMenuEnabled();!s&&this.gos.get("enableRtl")&&(n=1,r="right");const o=s?void 0:4*n,a=s?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:l,nudgeX:o,nudgeY:a,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},i,t,s)}showPopup(e,t,i,n,r){const s=e?this.createBean(new ule(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!s?.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");let a;Rr(o,"presentation"),o.classList.add("ag-menu"),r||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:g=>this.trapFocusWithin(g,o)}),o.appendChild(s?.getGui());const c=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,u=this.localeService.getLocaleTextFunc(),h=r&&"columnFilter"!==i?u("ariaLabelColumnMenu","Column Menu"):u("ariaLabelColumnFilter","Column Filter"),f=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:g=>{e.setMenuVisible(!1,"contextMenu");const p=g instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),p&&n&&ho(n)){const m=this.focusService.findTabbableParent(n);m&&m.focus()}s?.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},positionCallback:()=>t(o),anchorToElement:c,ariaLabel:h});f&&(this.hidePopup=a=f.hideFunc),s.afterInit().then(()=>{t(o),s.afterGuiAttached({container:i,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==Y.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},rue=class extends ne{constructor(){super(...arguments),this.beanName="resizeObserverService",this.polyfillFunctions=[]}observeResize(e,t){const i=this.gos.getWindow(),r=()=>{let a=e?.clientWidth??0,l=e?.clientHeight??0,c=!0;const d=()=>{if(c){const u=e?.clientWidth??0,h=e?.clientHeight??0;(u!==a||h!==l)&&(a=u,l=h,t()),this.doNextPolyfillTurn(d)}};return d(),()=>c=!1},s=this.gos.get("suppressBrowserResizeObserver");return i.ResizeObserver&&!s?(()=>{const a=new i.ResizeObserver(t);return a.observe(e),()=>a.disconnect()})():this.getFrameworkOverrides().wrapIncoming(()=>r(),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){this.polyfillScheduled||(this.polyfillScheduled=!0,window.setTimeout(()=>{const t=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],t.forEach(i=>i())},50))}},sue=class extends ne{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){const i=this.paginationService?.getCurrentPage()??0;i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){!1===this.useAnimationFrame&&de(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,n)=>i.index!==n.index?t*(n.index-i.index):n.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,n=this.createTasksP2,r=n.list,s=this.destroyTasks,o=(new Date).getTime();let a=(new Date).getTime()-o;const l=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let u;if(i.length)this.sortTaskList(t),u=i.pop().task;else if(r.length)this.sortTaskList(n),u=r.pop().task;else{if(!s.length){this.cancelledTasks.clear();break}u=s.pop()}this.cancelledTasks.has(u)||u()}a=(new Date).getTime()-o}i.length||r.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gos.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{this.isOn()?t||(t=!0,this.addDestroyTask(()=>{t=!1,e()})):window.setTimeout(e,0)}}},aue=class extends ne{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(i=>{i.id&&t.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:i})=>{t&&i&&e.push(i)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,n){e&&(i&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,i,n),e.setExpanded(t,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},lue=class extends ne{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){const i=this.getRowCtrl(e),n=this.getCellGui(i,t);if(!n)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};const r=n.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(e){const{rowNode:t}=e,i=e.column;let{anchorToElement:n,value:r}=e;t&&i&&null==r&&(r=t.getValueFromValueService(i)),null==n&&(n=this.getContextMenuAnchorElement(t,i)),this.contextMenuFactory?.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,i??null,r,n)}showColumnChooser(e){this.columnChooserFactory?.showColumnChooser(e)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(i??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!e?.getColDef().suppressHeaderContextMenu&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Sl()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!(!this.filterManager?.isFilterAllowed(e)||this.isLegacyMenuEnabled()||this.isFilterMenuInHeaderEnabled(e)||this.isFloatingFilterButtonDisplayed(e))}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(e){const t=e.getColDef(),i=t.floatingFilterComponentParams?.suppressFilterButton;return null!=i&&de("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==t.suppressFloatingFilterButton?!i:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?!!this.gos.exists("suppressMenuHide")&&e:e}showColumnMenuCommon(e,t,i,n){const{positionBy:r}=t,s=t.column;if("button"===r){const{buttonElement:o}=t;e.showMenuAfterButtonClick(s,o,i,n)}else if("mouse"===r){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(s,o,i,n)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const o=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned())?.getHeaderCtrlForColumn(s);o&&e.showMenuAfterButtonClick(s,o.getAnchorElementForMenu(n),i,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:i}=e||{};if(null!=t)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){return e&&t&&e.getCellCtrl(t)?.getGui()||void 0}getContextMenuAnchorElement(e,t){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(e);return n?this.getCellGui(n,t)||(n.isFullWidth()?n.getFullWidthElement():i):i}},due={selector:"AG-INPUT-TEXT-AREA",component:class extends Vc{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}},hue=class extends $u{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gos.setDomData(this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params;this.addManagedElementListeners(e,{keydown:n=>{B1(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)}})}},fC=class extends $u{constructor(e){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${e.getTemplate()}\n            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=Le}init(e){this.params=e;const t=this.eInput;let i;if(this.cellEditorInput.init(t,e),e.cellStartedEdit){this.focusAfterAttached=!0;const n=e.eventKey;n===Y.BACKSPACE||e.eventKey===Y.DELETE?i="":n&&1===n.length?i=n:(i=this.cellEditorInput.getStartValue(),n!==Y.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();null!=i&&t.setStartValue(i),this.addManagedElementListeners(t.getGui(),{keydown:n=>{const{key:r}=n;(r===Y.PAGE_UP||r===Y.PAGE_DOWN)&&n.preventDefault()}})}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;jo()||t.getFocusableElement().focus();const i=t.getInputElement();this.highlightAllOnFocus?i.select():this.cellEditorInput.setCaret?.()}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},t4=class extends fC{constructor(){super(new class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[sC]}init(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return _e(e)||_e(this.params.value)?this.params.parseValue(e):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=_e(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}})}},n4={selector:"AG-INPUT-DATE-FIELD",component:class extends Gc{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=jo();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?ks(e??null,!1)??void 0:e;return this.min===t||(this.min=t,Ms(this.eInput,"min",t)),this}setMax(e){const t=e instanceof Date?ks(e??null,!1)??void 0:e;return this.max===t||(this.max=t,Ms(this.eInput,"max",t)),this}setStep(e){return this.step===e||(this.step=e,Ms(this.eInput,"step",e)),this}getDate(){if(this.eInput.validity.valid)return Fr(this.getValue())??void 0}setDate(e,t){this.setValue(ks(e??null,!1),t)}}},Op=class{constructor(e){this.cellValueChanges=e}},tE=class extends Op{constructor(e,t,i,n){super(e),this.initialRange=t,this.finalRange=i,this.ranges=n}},r4=class{constructor(e){this.actionStack=[],this.maxStackSize=e||10,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};function s4(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function o4(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}var Uc={version:$e,moduleName:"@ag-grid-community/edit-core",beans:[class extends ne{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,i=!1,n=null){const r=this.createCellEditorParams(e,t,i),s=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(s,r),a=null!=o?.popupFromSelector?o.popupFromSelector:!!s.cellEditorPopup,l=null!=o?.popupPositionFromSelector?o.popupPositionFromSelector:s.cellEditorPopupPosition;e.setEditing(!0,o),e.getComp().setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(n,"cellEditingStarted"))}stopEditing(e,t){const i=e.getComp(),{newValue:n,newValueExists:r}=this.takeValueFromCellEditor(t,i),s=e.getRowNode(),o=e.getColumn(),a=s.getValueFromValueService(o);let l=!1;return r&&(l=this.saveNewValue(e,a,n,s,o)),e.setEditing(!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:n,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t?.refresh){const{eventKey:i,cellStartedEdit:n}=e.getEditCompDetails().params,r=this.createCellEditorParams(e,i,n),s=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(s,r);t.refresh(o.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusIn?t.focusIn():e.focusCell(!0)}stopEditingAndFocus(e,t=!1,i=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(i,e.getCellPosition())}createPopupEditorWrapper(e){return new hue(e)}takeValueFromCellEditor(e,t){const i={newValueExists:!1};if(e)return i;const n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?i:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t,i,n,r){if(i===t)return!1;e.setSuppressRefreshCell(!0);const s=n.setDataValue(r,i,"edit");return e.setSuppressRefreshCell(!1),s}createCellEditorParams(e,t,i){const n=e.getColumn(),r=e.getRowNode();return this.gos.addGridCommonParams({value:r.getValueFromValueService(n),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:r,data:r.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:s=>this.valueService.parseValue(n,r,s,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){this.gos.get("enterNavigatesVerticallyAfterEdit")&&this.navigationService.navigateToNextCell(null,e?Y.UP:Y.DOWN,t,!1)}}]},Bue={version:$e,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:function Aue(e){e.undoRedoService?.undo("api")},redoCellEditing:function Rue(e){e.undoRedoService?.redo("api")},getCellEditorInstances:function Fue(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(Rp)},getEditingCells:function Mue(e){return e.rowRenderer.getEditingCells()},stopEditing:function kue(e,t=!1){e.rowRenderer.stopEditing(t)},startEditingCell:function Iue(e,t){const i=e.columnModel.getCol(t.colKey);if(!i)return void de(`no column found for ${t.colKey}`);const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};null==t.rowPinned&&o4(e,t.rowIndex),s4(e,t.colKey);const s=e.navigationService.getCellByPosition(n);if(!s)return;const{focusService:o,gos:a}=e,c=a.get("stopEditingWhenCellsLoseFocus")&&(()=>{const d=a.getActiveDomElement(),u=s.getGui();return d!==u&&u.contains(d)})();(c||!o.isCellFocused(n))&&o.setFocusedCell({...n,forceBrowserFocus:c,preventScrollOnBrowserFocus:!0}),s.startRowOrCellEdit(t.key)},getCurrentUndoSize:function Pue(e){return e.undoRedoService?.getCurrentUndoStackSize()??0},getCurrentRedoSize:function Oue(e){return e.undoRedoService?.getCurrentRedoStackSize()??0}},dependantModules:[Uc]},a4={version:$e,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:t4}],dependantModules:[Uc]},jue={version:$e,moduleName:"@ag-grid-community/editing",dependantModules:[Uc,{version:$e,moduleName:"@ag-grid-community/undo-redo-edit",beans:[class extends ne{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:c}=e,d={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new r4(e),this.redoStack=new r4(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,i,n,r){if(!e)return!1;const s=e.pop();return!(!s||!s.cellValueChanges||(this.processAction(s,o=>o[n],r),s instanceof tE?this.processRange(this.rangeService,s.ranges||[s[i]]):this.processCell(s.cellValueChanges),t.push(s),0))}processAction(e,t,i){e.cellValueChanges.forEach(n=>{const{rowIndex:r,rowPinned:s,columnId:o}=n,l=this.rowPositionUtils.getRowNode({rowIndex:r,rowPinned:s});l.displayed&&l.setDataValue(o,t(n),i)})}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach((n,r)=>{if(!n)return;const s=n.startRow,o=n.endRow;r===t.length-1&&(i={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(i)),e.addCellRange({rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:n.startColumn,columns:n.columns})})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:n}=t,s=this.rowPositionUtils.getRowNode({rowIndex:i,rowPinned:n});this.setLastFocusedCell({rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId},this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:n,rowPinned:r}=e,s=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(n);if(!o)return;s.ensureIndexVisible(i),s.ensureColumnVisible(o);const a={rowIndex:i,column:o,rowPinned:r};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t?.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Op(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new Op(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Op(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new tE(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;e=this.rangeService&&this.gos.get("enableRangeSelection")?new tE(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new Op(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}}],dependantModules:[Uc]},{version:$e,moduleName:"@ag-grid-community/full-row-edit",beans:[class extends ne{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,i=null,n=null){e.getAllCellCtrls().reduce((s,o)=>{const a=o===i;return o.startEditing(a?t:null,a,n),!!s||o.isEditing()},!1)&&this.setEditing(e,!0)}stopEditing(e,t=!1){const i=e.getAllCellCtrls(),n=e.isEditing();e.setStoppingRowEdit(!0);let r=!1;for(const s of i){const o=s.stopEditing(t);n&&!t&&!r&&o&&(r=!0)}r&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=e.createRowEvent(t?"rowEditingStarted":"rowEditingStopped");this.eventService.dispatchEvent(i)}}],dependantModules:[Uc]},{version:$e,moduleName:"@ag-grid-community/all-editors",dependantModules:[a4,{version:$e,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:t4},{name:"agNumberCellEditor",classImp:class extends fC{constructor(){super(new class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[Ale]}init(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step);const i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===Y.UP||e.key===Y.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!_e(e)&&!_e(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(null==t)return t;if("string"==typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){jo()&&this.eInput.getInputElement().focus({preventScroll:!0})}})}}},{name:"agDateCellEditor",classImp:class extends fC{constructor(){super(new class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[n4]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return _e(e)||_e(this.params.value)?e??null:this.params.value}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return ks(e,!1)}})}}},{name:"agDateStringCellEditor",classImp:class extends fC{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[n4]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return _e(e)||_e(this.params.value)?this.params.parseValue(e??""):this.params.value}getStartValue(){return ks(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Fr(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):ks(e??null,!1)??void 0}}(()=>this.dataTypeService))}}},{name:"agCheckboxCellEditor",classImp:class extends $u{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[I1]),this.eCheckbox=Le}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=m1(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}}}],dependantModules:[a4]},{version:$e,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:class extends $u{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>\n            </div>',[Cle]),this.eSelect=Le,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:i,gos:n}=this,{values:r,value:s,eventKey:o}=e;if(ft(r))return void de("no values found for select cellEditor");this.startedByEnter=null!=o&&o===Y.ENTER;let a=!1;r.forEach(u=>{const h={value:u},f=i.formatValue(e.column,null,u);h.text=null!=f?f:u,t.addOption(h),a=a||s===u}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;null!=l&&t.setPickerGap(l),null!=d&&t.setPickerMaxHeight(d),null!=c&&t.setPickerMaxWidth(c),"fullRow"!==n.get("editType")&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}}],dependantModules:[Uc]},{version:$e,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:class extends $u{constructor(){super('<div class="ag-large-text">\n        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',[due]),this.eTextArea=Le}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),_e(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===Y.LEFT||t===Y.UP||t===Y.RIGHT||t===Y.DOWN||e.shiftKey&&t===Y.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return _e(e)||_e(this.params.value)?this.params.parseValue(e):this.params.value}}}],dependantModules:[Uc]}]},Bue]},$ue=class extends ne{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(i),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach(s=>this.cloneItemIntoDummy(s,t)),i.appendChild(t);const n=t.offsetWidth;return i.removeChild(t),n+this.getAutoSizePadding()}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const n=i.getHtmlElementForColumnHeader(e);null!=n&&(t=n)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const n=document.createElement("div"),r=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(r.add("ag-header","ag-header-row"),n.style.position="static"):r.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];"ag-row-position-absolute"!=c&&r.add(c)}break}o=o.parentElement}n.appendChild(i),t.appendChild(n)}},Kue=class extends ne{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.topContainerHeight=0,this.bottomContainerHeight=0,this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let i=e.childStore?.getStoreBounds();return e.footer&&(i=e.sibling.childStore?.getStoreBounds()),(i?.heightPx??0)+(i?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&0===e.rowIndex)return Number.MAX_SAFE_INTEGER;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let n=e.footer?e.sibling:e;for(;n.isExpandable()&&n.expanded;)if(n.master)n=n.detailNode;else if(n.childrenAfterSort){if(0===n.childrenAfterSort.length)break;n=St(n.childrenAfterSort)}return n.rowTop+n.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t="top"===e;let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);const n=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,r=new Set,s=c=>{if(r.add(c),t){const d=this.getLastPixelOfGroup(c),u=n+i+c.rowHeight;c.stickyRowTop=d<u?i+(d-u):i}else{const d=this.getFirstPixelOfGroup(c),u=n-(i+c.rowHeight);c.stickyRowTop=d>u?i-(d-u):i}i=0,r.forEach(d=>{const u=d.stickyRowTop+d.rowHeight;i<u&&(i=u)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=c=>!!c.displayed&&(c.footer?!(!0===o||"grand"===o&&-1===c.level||"group"===o&&c.level>-1)&&!("bottom"===e&&c.sibling.rowIndex&&c.sibling.rowIndex+1===c.rowIndex||r.has(c)):!!c.isExpandable()&&!0!==a&&"bottom"!==e&&!r.has(c)&&c.expanded);for(let c=0;c<100;c++){let d=n+i;t||(d=n-i);const u=this.rowModel.getRowIndexAtPixel(d),h=this.rowModel.getRow(u);if(null==h)break;const g=this.getStickyAncestors(h).find(m=>(t?m.rowIndex<u:m.rowIndex>u)&&l(m));if(g)s(g);else{if(!(t?h.rowTop<d:h.rowTop+h.rowHeight>d)||!l(h))break;s(h)}}return t||r.forEach(c=>{c.stickyRowTop=i-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(e,r,i)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(!0===e)return!0;const t=!!this.gos.get("groupIncludeFooter")||"group"===e,i=!!this.gos.get("groupIncludeTotalFooter")||"grand"===e;return!(!t||!i)||(i?"grand":!!t&&"group")}canRowsBeSticky(){const e=this.gos.isGroupRowsSticky(),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){const t=[];let i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(i=>i.getRowNode()===e)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const n=this.stickyTopRowCtrls[i].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows()}else{for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const n=this.stickyBottomRowCtrls[i].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}}refreshNodesAndContainerHeight(e,t,i){const n="top"===e,r=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,s={},o=[];for(let h=0;h<r.length;h++){const f=r[h].getRowNode();t.has(f)?o.push(r[h]):(s[f.id]=r[h],f.sticky=!1)}const a=new Set;for(let h=0;h<o.length;h++)a.add(o[h].getRowNode());const l=[];t.forEach(h=>{a.has(h)||(h.sticky=!0,l.push(this.createRowCon(h,!1,!1)))});let c=!!l.length||o.length!==r.length;n?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),c=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),c=!0),this.destroyRowCtrls(s,!1);const d=[...o,...l];d.sort((h,f)=>f.getRowNode().rowIndex-h.getRowNode().rowIndex),n||d.reverse(),d.forEach(h=>h.setRowTop(h.getRowNode().stickyRowTop));let u=0;return n?(t.forEach(h=>{h.rowIndex<this.pageBoundsService.getFirstRow()&&(u+=h.rowHeight)}),u>this.topContainerHeight&&(u=this.topContainerHeight),this.setOffsetTop(u)):(t.forEach(h=>{h.rowIndex>this.pageBoundsService.getLastRow()&&(u+=h.rowHeight)}),u>this.bottomContainerHeight&&(u=this.bottomContainerHeight),this.setOffsetBottom(u)),!!c&&(n?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0)}ensureRowHeightsValid(){let e=!1;const t=i=>{const n=i.getRowNode();if(n.rowHeightEstimated){const r=this.gos.getRowHeightForNode(n);n.setRowHeight(r.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},que=class extends ne{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onRangeSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener("rangeSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},n=()=>{this.eventService.removeEventListener("rangeSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListener("enableRangeSelection",s=>{s.currentValue?i():n()}),this.gos.get("enableRangeSelection")&&i()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){if(this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this)}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gos.isGroupRowsSticky()){const e=this.rowModel.getType();("clientSide"===e||"serverSide"===e)&&(this.stickyRowFeature=this.createManagedBean(new Kue(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new Yue(e??3)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=bl(this.rowCtrlsByRowIndex),t=bl(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=t.length>0||i.length>0?[...e,...t,...i]:e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const i=l=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===t&&l(c)})},n=()=>{i(l=>l.onLeftChanged())},r=()=>{i(l=>l.onWidthChanged())},s=()=>{i(l=>l.onFirstRightPinnedChanged())},o=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",r),t.addEventListener("firstRightPinnedChanged",s),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",r),t.removeEventListener("firstRightPinnedChanged",s),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=this.gos.isDomLayout("print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const n=i.getCellElement(e);n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:i,beans:n,printLayout:r}=this,s=Object.fromEntries(e.map(a=>[a.getRowNode().id,a]));i.forEachPinnedRow(t,(a,l)=>{const c=e[l];c&&void 0===i.getPinnedRowById(c.getRowNode().id,t)&&(c.destroyFirstPass(),c.destroySecondPass()),a.id in s?(e[l]=s[a.id],delete s[a.id]):e[l]=new Wc(a,n,!1,!1,r)});const o="top"===t?i.getPinnedTopRowCount():i.getPinnedBottomRowCount();e.length=o}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(this.cachedRowCtrls?.has(e))return void this.cachedRowCtrls.removeRow(e);{const i=n=>{const r=n[e.rowIndex];r&&r.getRowNode()===e&&(r.destroyFirstPass(),r.destroySecondPass(),n[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(null!=e)return e?.forEach(i=>this.redrawRow(i,!0)),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;const i=this.gos.getActiveDomElement(),n=this.gos.getDomData(i,zc.DOM_DATA_KEY_CELL_CTRL),r=this.gos.getDomData(i,Wc.DOM_DATA_KEY_ROW_CTRL);return n||r?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&this.gos.isAnimateRows(),r=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const s=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();s&&this.updateContainerHeights(s)}this.recycleRows(r,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let t=this.pageBoundsService.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){if(this.refreshInProgress){const e=this.frameworkOverrides.getLockOnRefreshError?.()??"";throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace."+e)}this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let n=0;n<i;n++){const r=t[n].getAllCellCtrls(),s=r.length;for(let o=0;o<s;o++)e.push(r[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const n in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[n]);return i}addRenderedRowListener(e,t,i){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,i)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&E1()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const i of this.getRowCtrls(e))i.isFullWidth()&&(i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0));this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){const t=this.getCellCtrls(e.rowNodes,e.columns).map(r=>r.getCellRenderer()).filter(r=>null!=r);if(e.columns?.length)return t;const i=[],n=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(r=>{if(n&&!this.isRowInMap(r.getRowNode(),n)||!r.isFullWidth())return;const s=r.getFullWidthCellRenderers();for(let o=0;o<s.length;o++){const a=s[o];null!=a&&i.push(a)}}),[...i,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{const n=i.getCellEditor();n&&t.push(n)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const n=i.id;switch(i.rowPinned){case"top":t.top[n]=i;break;case"bottom":t.bottom[n]=i;break;default:t.normal[n]=i}}),t}isRowInMap(e,t){const i=e.id;switch(e.rowPinned){case"top":return null!=t.top[i];case"bottom":return null!=t.bottom[i];default:return null!=t.normal[i]}}getRowCtrls(e){const t=this.mapRowNodes(e),i=this.getAllRowCtrls();return e&&t?i.filter(n=>{const r=n.getRowNode();return this.isRowInMap(r,t)}):i}getCellCtrls(e,t){let i;_e(t)&&(i={},t.forEach(r=>{const s=this.columnModel.getCol(r);_e(s)&&(i[s.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(s=>{const o=s.getColumn().getId();i&&!i[o]||n.push(s)})}),n}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];Es(this.rowCtrlsByRowIndex,(i,n)=>{null==n.getRowNode().id&&e.push(i)}),this.removeRowCtrls(e);const t={};return Es(this.rowCtrlsByRowIndex,(i,n)=>{const r=n.getRowNode();t[r.id]=n}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const n=this.rowCtrlsByRowIndex[i];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let i;this.stickyRowFeature&&E1()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;if(this.stickyRowFeature){s=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}if((!t||s||this.firstRenderedRow!==n||this.lastRenderedRow!==r)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!s),null!=i)){const a=this.getCellToRestoreFocusToAfterRefresh();null!=i&&null==a&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(s=>i[s]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!i[s]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){const t=function Mle(e,t){const i=[];for(let n=e;n<=t;n++)i.push(n);return i}(this.firstRenderedRow,this.lastRenderedRow),i=(r,s)=>{const o=s.getRowNode().rowIndex;null!=o&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(o)};Es(this.rowCtrlsByRowIndex,i),Es(e,i),t.sort((r,s)=>r-s);const n=[];for(let r=0;r<t.length;r++){const s=t[r],o=this.rowModel.getRow(s);o&&!o.sticky&&n.push(s)}return n}recycleRows(e,t=!1,i=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(n,!t);const r=[];n.forEach(s=>{const o=this.createOrUpdateRowCtrl(s,e,t,i);_e(o)&&r.push(o)}),e&&(!i||this.gos.get("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,t):this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const n=i.getRowNode();return!(null!=t&&!this.isRowInMap(n,t))})}createOrUpdateRowCtrl(e,t,i,n){let r,s=this.rowCtrlsByRowIndex[e];if(s||(r=this.rowModel.getRow(e),_e(r)&&_e(t)&&t[r.id]&&r.alreadyRendered&&(s=t[r.id],t[r.id]=null)),!s){if(r||(r=this.rowModel.getRow(e)),!_e(r))return;s=this.createRowCon(r,i,n)}return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const i=[];Es(e,(n,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable())return void this.cachedRowCtrls.addRow(r);r.destroyFirstPass(!t),t?(this.zombieRowCtrls[r.getInstanceId()]=r,i.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[r.getInstanceId()]})):r.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),function doe(e){!function uoe(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(i=>i()),t)}(e,400)}(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*this.gos.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let e,t;if(this.rowContainerHeightService.updateOffset(),this.rowModel.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),c=this.gos.get("suppressRowVirtualisation");let u,h,d=!1;do{const C=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:v,pageLastPixel:_}=this.pageBoundsService.getCurrentPagePixelRange(),x=this.rowContainerHeightService.getDivStretchOffset(),R=l.getScrollFeature().getVScrollPosition(),M=R.top,S=R.bottom;c?(u=v+x,h=_+x):(u=Math.max(M+C-a,v)+x,h=Math.min(S+C+a,_)+x),this.firstVisibleVPixel=Math.max(M+C,v)+x,this.lastVisibleVPixel=Math.min(S+C,_)+x,d=this.ensureAllRowsInRangeHaveHeightsCalculated(u,h)}while(d);let f=this.rowModel.getRowIndexAtPixel(u),g=this.rowModel.getRowIndexAtPixel(h);const p=this.pageBoundsService.getFirstRow(),m=this.pageBoundsService.getLastRow();f<p&&(f=p),g>m&&(g=m),e=f,t=g}else e=0,t=-1;const i=this.gos.isDomLayout("normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);i&&!n&&t-e>r&&(t=e+r),(e!==this.firstRenderedRow||t!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const i=this.pinnedRowModel?.ensureRowHeightsValid(),n=this.stickyRowFeature?.ensureRowHeightsValid(),r=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(r||n)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),!!(n||r||i)&&(this.updateContainerHeights(),!0)}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),r=this.focusService.isRowNodeFocused(n),s=e.isEditing();return!!(r||s||n.detail)&&!!this.isRowPresent(n)}isRowPresent(e){return!!this.rowModel.isRowPresent(e)&&(!this.paginationService||this.paginationService.isRowPresent(e))}createRowCon(e,t,i){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const r=this.gos.get("suppressAnimationFrame");return new Wc(e,this.beans,t,i&&!r&&!this.printLayout,this.printLayout)}getRenderedNodes(){return Object.values(this.rowCtrlsByRowIndex).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null))}return t}isRangeInRenderedViewport(e,t){return null!=e&&null!=t&&!(t<this.firstRenderedRow||e>this.lastRenderedRow)}},Yue=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(null==e||null==e.id)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return null!=this.entriesMap[e.id]}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],cr(this.entriesList,i)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],cr(this.entriesList,e)}getEntries(){return this.entriesList}},Xue=class extends ne{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new l4,this.pinnedBottomRows=new l4}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return("top"===e?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=i=>{i.setRowHeight(i.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){let e=!1,t=0;const i=n=>{if(n.rowHeightEstimated){const r=this.gos.getRowHeightForNode(n);n.setRowTop(t),n.setRowHeight(r.height),t+=r.height,e=!0}};return this.pinnedBottomRows?.forEach(i),t=0,this.pinnedTopRows?.forEach(i),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const i="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(void 0===e)return void i.clear();const n=this.gos.getRowIdCallback(),r="top"===t?Fa.ID_PREFIX_TOP_PINNED:Fa.ID_PREFIX_BOTTOM_PINNED,s=i.getIds(),o=[],a=new Set;let l=0,c=-1;for(const d of e){const u=n?.({data:d,level:0,rowPinned:t})??r+this.nextId++;if(a.has(u)){de("Duplicate ID",u,"found for pinned row with data",d,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}c++,a.add(u),o.push(u);const h=i.getById(u);if(void 0!==h)h.data!==d&&h.setData(d),l+=this.setRowTopAndRowIndex(h,l,c),s.delete(u);else{const f=new Fa(this.beans);f.id=u,f.data=d,f.rowPinned=t,l+=this.setRowTopAndRowIndex(f,l,c),i.push(f)}}s.forEach(d=>{i.getById(d)?.clearRowTopAndRowIndex()}),i.removeAllById(s),i.setOrder(o)}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(this.gos.getRowHeightForNode(e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return"top"===t?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return"top"===e?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(0===t)return 0;const i=e.getByIndex(t-1);return void 0===i?0:i.rowTop+i.rowHeight}},l4=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){return this.cache[this.ordering[e]]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,i)=>{const n=this.cache[t];n&&e(n,i)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return 0===this.ordering.length}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},Que=class extends ne{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){const t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){this.dispatchLocalEvent({type:"loadComplete",success:e,block:this})}},ehe={version:$e,moduleName:"@ag-grid-community/row-node-block",beans:[class extends ne{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=ur(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){cr(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),0==this.activeBlockLoadsCount&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void(this.gos.get("debug")&&Ts("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded"));const e=this.getAvailableLoadingCount(),t=this.blocks.filter(i=>"needsLoading"===i.getState()).slice(0,e);this.registerLoads(t.length),t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(this.gos.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:i,state:n}=t.getBlockStateJson();e[i]=n}),e}printCacheStatus(){this.gos.get("debug")&&Ts(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}}]},ihe=class extends ne{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,i,n){this.processClassRules(void 0,e.cellClassRules,t,i,n),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,n,r){if(null==t&&null==e)return;const s={},o={},a=(l,c)=>{l.split(" ").forEach(d=>{""!=d.trim()&&c(d)})};if(t){const l=Object.keys(t);for(let c=0;c<l.length;c++){const d=l[c],u=t[d];let h;"string"==typeof u?h=this.expressionService.evaluate(u,i):"function"==typeof u&&(h=u(i)),a(d,f=>{h?s[f]=!0:o[f]=!0})}}e&&r&&Object.keys(e).forEach(l=>a(l,c=>{s[c]||(o[c]=!0)})),r&&Object.keys(o).forEach(r),Object.keys(s).forEach(n)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let n;return n="function"==typeof i?i(t):i,"string"==typeof n&&(n=[n]),n||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(r=>{i(r)})}},she=class extends ne{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:n,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:u,handleKeyDown:h,eFocusableElement:f}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=f,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=h}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new Hc(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty&&0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=this.gos.getDocument(),i=this.focusService.findFocusableElements(t.body,null,!0),n=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1===n)return;let r,s;e?(r=0,s=n):(r=n+1,s=i.length);const o=i.slice(r,s),a=this.gos.get("tabIndex");o.sort((l,c)=>{const d=parseInt(l.getAttribute("tabindex")||"0"),u=parseInt(c.getAttribute("tabindex")||"0");return u===a?1:d===a?-1:0===d?1:0===u?-1:d-u}),o[e?o.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},ohe=class extends ne{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:i,eFocusableElement:n}=this,r=[t,i],s={setTabIndex:p=>{r.forEach(m=>null!=p?m.setAttribute("tabindex",p):m.removeAttribute("tabindex"))}};this.addTabGuards(t,i);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:g}=e;this.tabGuardCtrl=this.createManagedBean(new she({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:i,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:g}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=this.gos.getDocument().createElement("div");return t.classList.add("ag-tab-guard","top"===e?"ag-tab-guard-top":"ag-tab-guard-bottom"),Rr(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Gn(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){F1(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,i)}},c4=class extends kt{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new ohe(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},ahe=0,che=class extends ne{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){return this.gos.get("popupParent")||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i}=e,n=this.getPopupIndex(i);-1!==n&&(this.popupList[n].alignedToElement=t);const r=t.getBoundingClientRect(),s=this.getParentRect(),o=this.keepXYWithinBounds(i,r.top-s.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;const c=s.right-s.left-a;let d;function u(){return r.right-s.left-2}function h(){return r.left-s.left-a}this.gos.get("enableRtl")?(d=h(),d<0&&(d=u(),this.setAlignedStyles(i,"left")),d>c&&(d=0,this.setAlignedStyles(i,"right"))):(d=u(),d>c&&(d=h(),this.setAlignedStyles(i,"right")),d<0&&(d=0,this.setAlignedStyles(i,"left"))),i.style.left=`${d}px`,i.style.top=`${o}px`}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:n,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:r,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:c,type:d}=e,u=s.getBoundingClientRect(),h=this.getParentRect(),f=this.getPopupIndex(t);-1!==f&&(this.popupList[f].alignedToElement=s),this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:r,updatePosition:()=>{let m,p=u.left-h.left;return"right"===o&&(p-=t.offsetWidth-u.width),"over"===a?(m=u.top-h.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),m="under"===this.shouldRenderUnderOrAbove(t,u,h,e.nudgeY||0)?u.top-h.top+u.height:u.top-t.offsetHeight-2*(n||0)-h.top),{x:p,y:m}},postProcessCallback:()=>this.callPostProcessPopup(d,t,s,null,l,c)})}shouldRenderUnderOrAbove(e,t,i,n){const r=i.bottom-t.bottom,s=t.top-i.top,o=e.offsetHeight+n;return r>o?"under":s>o||s>r?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const n=this.popupList[i],{alignedToElement:r}=n;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,i,n,r,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:r,rowNode:s,ePopup:t,type:e,eventSource:i,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:n,nudgeY:r,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:u}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(d+=n),r&&(u+=r),i&&(d=this.keepXYWithinBounds(t,d,1),u=this.keepXYWithinBounds(t,u,0)),t.style.left=`${d}px`,t.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const c=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>c(),200)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gos.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),JB(t)}keepXYWithinBounds(e,t,i){const n=0===i,r=n?"clientHeight":"clientWidth",s=n?"top":"left",o=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=this.gos.getDocument(),c=l.documentElement,d=this.getPopupParent(),u=e.getBoundingClientRect(),h=d.getBoundingClientRect(),f=l.documentElement.getBoundingClientRect(),g=d===l.body,p=Math.ceil(u[o]);let C=g?(n?QB:Z0)(c)+c[a]:d[r];g&&(C-=Math.abs(f[s]-h[s]));const v=C-p;return Math.min(Math.max(t,0),Math.abs(v))}addPopup(e){const t=this.gos.getDocument(),{eChild:i,ariaLabel:n,alwaysOnTop:r,positionCallback:s,anchorToElement:o}=e;if(!t)return de("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(-1!==a)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,n,!!r),c=this.addEventListenersToPopup({...e,wrapperEl:l});return s&&s(),this.addPopupToPopupList(i,l,c,o),{hideFunc:c}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();_e(e.style.top)||(e.style.top=-1*i.top+"px"),_e(e.style.left)||(e.style.left=-1*i.left+"px")}createPopupWrapper(e,t,i){const n=this.getPopupParent(),r=document.createElement("div");return this.environment.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Rr(e,"dialog"),Gu(e,t),r.appendChild(e),n.appendChild(r),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=this.gos.getDocument(),i=this.getPopupParent(),{wrapperEl:n,eChild:r,closedCallback:s,afterGuiAttached:o,closeOnEsc:a,modal:l}=e;let c=!1;const d=g=>{n.contains(this.gos.getActiveDomElement())&&g.key===Y.ESCAPE&&!Da(g)&&f({keyboardEvent:g})},u=g=>f({mouseEvent:g}),h=g=>f({touchEvent:g}),f=(g={})=>{const{mouseEvent:p,touchEvent:m,keyboardEvent:C,forceHide:v}=g;!v&&(this.isEventFromCurrentPopup({mouseEvent:p,touchEvent:m},r)||c)||(c=!0,i.removeChild(n),t.removeEventListener("keydown",d),t.removeEventListener("mousedown",u),t.removeEventListener("touchstart",h),t.removeEventListener("contextmenu",u),this.eventService.removeEventListener("dragStarted",u),s&&s(p||m||C),this.removePopupFromPopupList(r))};return o&&o({hidePopup:f}),window.setTimeout(()=>{a&&t.addEventListener("keydown",d),l&&(t.addEventListener("mousedown",u),this.eventService.addEventListener("dragStarted",u),t.addEventListener("touchstart",h),t.addEventListener("contextmenu",u))},0),f}addPopupToPopupList(e,t,i,n){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:ahe++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const n=this.popupList[i];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(s=>s&&s()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=r,n.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:n,ePopup:r}=e,s=n.getBoundingClientRect(),o=i.top-s.top,a=i.left-s.left;let l=o,c=a;const d=r.style.top,u=parseInt(d.substring(0,d.length-1),10),h=r.style.left,f=parseInt(h.substring(0,h.length-1),10),g=this.getFrameworkOverrides();return new is(p=>{g.wrapIncoming(()=>{g.setInterval(()=>{const m=t.getBoundingClientRect(),C=n.getBoundingClientRect();if(0==C.top&&0==C.left&&0==C.height&&0==C.width)return void e.hidePopup();const _=m.top-C.top;if(_!=l){const R=this.keepXYWithinBounds(r,u+o-_,0);r.style.top=`${R}px`}l=_;const x=m.left-C.left;if(x!=c){const R=this.keepXYWithinBounds(r,f+a-x,1);r.style.left=`${R}px`}c=x},200).then(m=>{p(()=>{null!=m&&window.clearInterval(m)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:n}=e,r=i||n;if(!r)return!1;const s=this.getPopupIndex(t);if(-1===s)return!1;for(let o=s;o<this.popupList.length;o++)if(ioe(this.popupList[o].element,r))return!0;return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=this.gos.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=i.length,r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),s=r.length,o=this.getWrapper(e);if(!o||n<=1||!t.contains(e))return!1;const a=i.indexOf(o),l=o.querySelectorAll("div"),c=[];l.forEach(u=>{0!==u.scrollTop&&c.push([u,u.scrollTop])});let d=!1;for(s?o.classList.contains("ag-always-on-top")?a!==n-1&&(St(r).insertAdjacentElement("afterend",o),d=!0):a!==n-s-1&&(r[0].insertAdjacentElement("beforebegin",o),d=!0):a!==n-1&&(St(i).insertAdjacentElement("afterend",o),d=!0);c.length;){const u=c.pop();u[0].scrollTop=u[1]}return d}},dhe=["touchstart","touchend","touchmove","touchcancel"],d4=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new is(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,n){const r=Oc(dhe,t);e.addEventListener(t,i,{capture:!!n,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${"solid"===this.frameworkName?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},uhe=class extends ne{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===Y.UP,r=e===Y.LEFT;let s,o;if(i||e===Y.DOWN)o=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),s=t.column;else{const a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");o=t.rowIndex,s=r!==l?a[0]:St(a)}return{rowIndex:o,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,n=!1;for(;!n;){switch(e){case Y.UP:i=this.getCellAbove(i);break;case Y.DOWN:i=this.getCellBelow(i);break;case Y.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case Y.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,de("unknown key for navigation ",e)}n=!i||this.isCellGoodToFocusOn(i)}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}return!!i&&!t.isSuppressNavigable(i)}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;let n=!1;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(n=!0);const r=this.rowModel.getRow(e.rowIndex);return(n?void 0:this.getNextStickyPosition(r))||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!this.gos.isGroupRowsSticky()||!e||!e.sticky)return;let n=[];n=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex)?[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const r=t?-1:1,s=n.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=n[s+r];return o?{rowIndex:o.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;return"top"===t?this.pinnedRowModel.getPinnedTopRowCount()-1<=i:"bottom"===t?this.pinnedRowModel.getPinnedBottomRowCount()-1<=i:this.pageBoundsService.getLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned;let r=!1;if(i?0===t:t===this.pageBoundsService.getFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;i&&(r=!0);const s=this.rowModel.getRow(e.rowIndex);return(r?void 0:this.getNextStickyPosition(s,!0))||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.visibleColsService.getAllCols();let i=e.rowIndex,n=e.rowPinned,r=this.visibleColsService.getColAfter(e.column);if(!r){r=t[0];const s=this.getRowBelow(e);if(ft(s)||!s.rowPinned&&!(this.paginationService?.isRowInPage(s)??1))return null;i=s?s.rowIndex:null,n=s?s.rowPinned:null}return{rowIndex:i,column:r,rowPinned:n}}getNextTabbedCellBackwards(e){const t=this.visibleColsService.getAllCols();let i=e.rowIndex,n=e.rowPinned,r=this.visibleColsService.getColBefore(e.column);if(!r){r=St(t);const s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(ft(s)||!s.rowPinned&&!(this.paginationService?.isRowInPage(s)??1))return null;i=s?s.rowIndex:null,n=s?s.rowPinned:null}return{rowIndex:i,column:r,rowPinned:n}}},fr=(e,t)=>{for(const i in t)t[i]=e;return t},u4={...fr("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0}),...fr("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...fr("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...fr("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0,isLastRowIndexKnown:0}),...fr("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...fr("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...fr("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...fr("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...fr("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...fr("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...fr("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0}),...fr("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...fr("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...fr("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...fr("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},iE={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},hhe=(e,t)=>e.eventService.dispatchEvent(t),h4=class{};Reflect.defineProperty(h4,"name",{value:"GridApi"});var fhe=class extends ne{constructor(){super(),this.beanName="apiFunctionService",this.api=new h4,this.fns={...iE,dispatchEvent:hhe},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in u4)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:i,beans:n}=this;i!==iE&&(i[e]=n?.validationService?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:i,fns:{[e]:n}}=this;return n?n(i,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gridId:i,preDestroyLink:n}=this;if(t){const r=u4[e];hr.__assertRegistered(r,`api.${e}`,i)&&de(`API function '${e}' not registered to module '${r}'`)}else de(`Grid API function ${e}() cannot be called as the grid has been destroyed.\nEither clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\nTo run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`)}destroy(){super.destroy(),this.fns=iE,this.beans=null}};function phe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var ghe=class extends ne{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,i){const n=[],r={};return e.forEach(s=>{let a=!0,l=this.createDefFromColumn(s,t,i),c=s.getOriginalParent(),d=null;for(;c;){let u=null;if(c.isPadding()){c=c.getOriginalParent();continue}const h=r[c.getGroupId()];if(h){h.children.push(l),a=!1;break}if(u=this.createDefFromGroup(c),u&&(u.children=[l],r[u.groupId]=u,l=u,c=c.getOriginalParent()),null!=c&&d===c){a=!1;break}d=c}a&&n.push(l)}),n}createDefFromGroup(e){const t=o1(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const n=o1(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?i.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=!e.isVisible()||void 0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,n}},mhe=class extends ne{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(){this.eventService.dispatchEvent({type:"displayedColumnsChanged"})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:1===e.length?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:1===e.length?e[0]:null,source:t})}genericColumnEvent(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:1===t.length?t[0]:null,source:i})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:i,toIndex:n,finished:r}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&1===t.length?t[0]:null,toIndex:n,finished:r,source:i})}columnPinned(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,n=this.getCommonValue(e,r=>r.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:n??null,columns:e,column:i,source:t})}columnVisible(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,n=this.getCommonValue(e,r=>r.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:n,columns:e,column:i,source:t})}getCommonValue(e,t){if(!e||0==e.length)return;const i=t(e[0]);for(let n=1;n<e.length;n++)if(i!==t(e[n]))return;return i}columnChanged(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t&&1==t.length?t[0]:null,source:i})}columnResized(e,t,i,n=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:1===e.length?e[0]:null,flexColumns:n,finished:t,source:i})}},vhe=class extends ne{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){if(ft(this.columnModel.getColDefCols())||!this.columnModel.isAlive())return[];const i=this.columnModel.getAllCols().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(i),i}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),n=e.isRowGroupActive()?t.indexOf(e):null,r=e.isPivotActive()?i.indexOf(e):null,s=e.isValueActive()?e.getAggFunc():null,o=null!=e.getSort()?e.getSort():null,a=null!=e.getSortIndex()?e.getSortIndex():null,l=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:a,aggFunc:s,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:r,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),i=new Map(t.map((n,r)=>[n.getColId(),r]));e.sort((n,r)=>(i.has(n.colId)?i.get(n.colId):-1)-(i.has(r.colId)?i.get(r.colId):-1))}},Che=class extends ne{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[];return Ra(null,this.columnModel.getColTree(),i=>{dr(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const i=[];Ra(null,t,n=>{if(dr(n)){const r=n.getColGroupDef(),s={groupId:n.getGroupId(),open:r?r.openByDefault:void 0};i.push(s)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const n=[];e.forEach(r=>{const o=r.open,a=this.columnModel.getProvidedColGroup(r.groupId);a&&a.isExpanded()!==o&&(a.setExpanded(o),n.push(a))}),this.visibleColsService.refresh(t,!0),n.length&&this.eventDispatcher.groupOpened(n),this.columnAnimationService.finish()}},_he=class extends ne{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){const n=this.visibleColsService.isBodyWidthDirty();if(e!==this.scrollWidth||t!==this.scrollPosition||n){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const s=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=s-this.scrollPosition-this.scrollWidth,this.viewportRight=s-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t]}return i||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return!(!e.isAutoHeaderHeight()&&!this.isAnyParentAutoHeaderHeight(e))||this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),n=this.viewportLeft-200,r=this.viewportRight+200;return!(t<n&&i<n||t>r&&i>r)}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const i=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this),n=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,n,i,r=>{const s=r.getLeft();return _e(s)&&s>this.viewportLeft})}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(i).forEach(s=>e[s.getId()]=!0);const r=(s,o,a)=>{let l=!1;for(let c=0;c<s.length;c++){const d=s[c];let u=!1;if(xl(d))u=!0===e[d.getId()];else{const f=d.getDisplayedChildren();f&&(u=r(f,o,a+1))}u&&(l=!0,o[a]||(o[a]=[]),o[a].push(d))}return l};r(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),r(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),r(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){this.extractViewportColumns();const t=this.getViewportColumns().map(n=>`${n.getId()}-${n.getPinned()||"normal"}`).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}},yhe=class extends ne{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){return class t{refresh(){return!1}getGui(){return this.eGui}init(n){const r=e(n),s=typeof r;this.eGui="string"!==s&&"number"!==s&&"boolean"!==s?null!=r?r:Wu("<span></span>"):Wu("<span>"+r+"</span>")}}}doesImplementIComponent(e){return!!e&&e.prototype&&"getGui"in e.prototype}},whe=class extends ne{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},f4=Object.fromEntries(["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"].map((e,t)=>[e,t]));function xhe(e,t){return((e.beanName?f4[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER)-((t.beanName?f4[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER)}function She(e,t){return"gridDestroyService"===e?.beanName?-1:0}var Ehe=class extends ne{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const i=this.registry[e];if(null!=i)return new i(...t)}},Dhe=class extends ne{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={},this.ready=!1,this.readyCallbacks=[]}checkReady(){const e=this.params;this.ready=null!=e.gridCtrl&&null!=e.gridBodyCtrl&&null!=e.center&&null!=e.left&&null!=e.right&&null!=e.bottomCenter&&null!=e.bottomLeft&&null!=e.bottomRight&&null!=e.topCenter&&null!=e.topLeft&&null!=e.topRight&&null!=e.stickyTopCenter&&null!=e.stickyTopLeft&&null!=e.stickyTopRight&&null!=e.stickyBottomCenter&&null!=e.stickyBottomLeft&&null!=e.stickyBottomRight&&null!=e.centerHeader&&null!=e.leftHeader&&null!=e.rightHeader&&null!=e.fakeHScrollComp&&null!=e.fakeVScrollComp&&null!=e.gridHeaderCtrl,this.ready&&(this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0)}whenReady(e){this.ready?e(this.params):this.readyCallbacks.push(e)}register(e,t){this.params[e]=t,this.checkReady()}registerHeaderContainer(e,t){const i=this.params;switch(t){case"left":i.leftHeader=e;break;case"right":i.rightHeader=e;break;default:i.centerHeader=e}this.checkReady()}get(e){return this.params[e]}getParams(){return this.params}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},The=class extends ne{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:i,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:n}=e;return`${t}.${i??"null"}.${n.getId()}`}equals(e,t){return e.column===t.column&&e.rowPinned===t.rowPinned&&e.rowIndex===t.rowIndex}},Ahe=class extends ne{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(null==this.clientSideRowModel)return void this.eventService.dispatchEvent(e);this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]};t?i():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},Rhe=class extends ne{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),void 0===t?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):n&&(t="top",e=n-1),void 0===e?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t||!(e&&!t||!e&&t)&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(_e(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}},p4={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},g4={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},m4={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Fhe=class extends ne{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.themeClasses=[],this.eThemeAncestor=null,this.eMeasurementContainer=null,this.sizesMeasured=!1}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.themeClasses=this.getAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(p4),this.getSizeEl(g4),this.getSizeEl(m4)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(p4)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(g4)}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(m4)}hasMeasuredSizes(){return this.sizesMeasured}getThemeClasses(){return this.themeClasses}applyThemeClasses(e){for(const t of Array.from(e.classList))t.startsWith("ag-theme-")&&!this.themeClasses.includes(t)&&e.classList.remove(t);for(const t of this.themeClasses)e.classList.contains(t)||e.classList.add(t)}getThemeAncestorElement(){return this.eThemeAncestor}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(null==t||isNaN(t)||!isFinite(t))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):""!=e?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(null!=t)return t;const i=this.measureSizeEl(e);return"detached"===i||"no-styles"===i?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(null==t.offsetParent)return"detached";const i=t.offsetWidth;return i===v4?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.eGridDiv.appendChild(i)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${v4}px)`,i.appendChild(t),this.sizeEls.set(e,t);let n=this.measureSizeEl(e);"no-styles"===n&&de(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const r=this.resizeObserverService.observeResize(t,()=>{const s=this.measureSizeEl(e);"detached"===s||"no-styles"===s||(this.lastKnownValues.set(e,s),s!==n&&(n=s,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>r()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const i=this.getAncestorThemeClasses();Mhe(i,this.themeClasses)||(this.themeClasses=i,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}getAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(this.eThemeAncestor=null;e;){const i=Array.from(e.classList).filter(n=>n.startsWith("ag-theme-"));for(const n of i)this.eThemeAncestor=e,t.includes(n)||t.unshift(n);e=e.parentElement}return Object.freeze(t)}},Mhe=(e,t)=>e.length===t.length&&-1===e.findIndex((i,n)=>e[n]!==t[n]),v4=15538,khe=class extends ne{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new Nu}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=this.gos.useAsyncEvents();this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},nE=class hs extends ne{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",hs.toggleKeyboardMode),t.addEventListener("mousedown",hs.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",hs.toggleKeyboardMode),t.addEventListener("mousedown",hs.toggleKeyboardMode))}static toggleKeyboardMode(t){const n="keydown"===t.type;n&&(t.ctrlKey||t.metaKey||t.altKey)||hs.keyboardModeActive!==n&&(hs.keyboardModeActive=n)}static unregisterGridCompController(t){hs.removeKeyboardModeEvents(t)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(i=>{this.gridCtrl=i.gridCtrl})}registerKeyboardFocusEvents(){const t=this.gos.getDocument();hs.addKeyboardModeEvents(t),hs.instanceCount++,this.addDestroyFunc(()=>{hs.instanceCount--,hs.unregisterGridCompController(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,i=this.columnModel.getCol(t.getId());t!==i&&this.clearFocusedCell()}isKeyboardMode(){return hs.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),Wc.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),oC.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,i){let n=t;for(;n;){if(this.gos.getDomData(n,i))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return!!this.isCellRestoreFocused(t)&&(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0)}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,i){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),i())})}isCellRestoreFocused(t){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:i,rowPinned:n,column:r}=t,s={rowIndex:i,rowPinned:n,column:r,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:n});return o&&(s.isFullWidthCell=o.isFullWidth()),s}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:i,rowIndex:n,rowPinned:r,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:o=!1}=t,a=this.columnModel.getCol(i);a?(this.focusedCellPosition={rowIndex:n,rowPinned:Ta(r),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:s,preventScrollOnBrowserFocus:o})):this.focusedCellPosition=null}isCellFocused(t){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(null==this.focusedHeaderPosition)return!1;const i=t.getColumnGroupChild(),n=t.getRowIndex(),r=t.getPinned(),{column:s,headerRowIndex:o}=this.focusedHeaderPosition;return i===s&&n===o&&r==s.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,i){this.focusedHeaderPosition={headerRowIndex:t,column:i}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){if(this.isHeaderFocusSuppressed())return!1;const{direction:i,fromTab:n,allowUserOverride:r,event:s,fromCell:o,rowWithoutSpanValue:a}=t;let{headerPosition:l}=t;if(o&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(l);if(r){const c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(n){const u=this.gos.getCallback("tabToNextHeader");u&&(l=this.getHeaderPositionFromUserFunc({userFunc:u,direction:i,currentPosition:c,headerPosition:l,headerRowCount:d}))}else{const u=this.gos.getCallback("navigateToNextHeader");u&&s&&(l=u({key:s.key,previousHeaderPosition:c,nextHeaderPosition:l,headerRowCount:d,event:s}))}}return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:s,fromCell:o,rowWithoutSpanValue:a})}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:i,headerPosition:n,direction:r,event:s}=t,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),l=this.getHeaderPositionFromUserFunc({userFunc:i,direction:r,currentPosition:o,headerPosition:n,headerRowCount:a});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:r,event:s})}getHeaderPositionFromUserFunc(t){const{userFunc:i,direction:n,currentPosition:r,headerPosition:s,headerRowCount:o}=t,l=i({backwards:"Before"===n,previousHeaderPosition:r,nextHeaderPosition:s,headerRowCount:o});return!0===l||null===l?(null===l&&de("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),r):!1===l?null:l}focusProvidedHeaderPosition(t){const{headerPosition:i,direction:n,fromCell:r,rowWithoutSpanValue:s,event:o}=t,{column:a,headerRowIndex:l}=i;if(-1===l)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(i):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,n);const d=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned())?.focusHeader(i.headerRowIndex,a,o)||!1;return d&&(null!=s||r)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(s??-1),d}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const i=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const i=this.headerNavigationService.getHeaderRowCount()-1,n=St(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:n},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,i){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===Ta(i)}findFocusableElements(t,i,n=!1){let s=ZB;i&&(s+=", "+i),n&&(s+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(t.querySelectorAll("[tabindex], input, select, button, textarea, [href]")).filter(c=>ho(c)),a=Array.prototype.slice.apply(t.querySelectorAll(s));return a.length?(d=a,o.filter(u=>-1===d.indexOf(u))):o;var d}focusInto(t,i=!1,n=!1){const r=this.findFocusableElements(t,null,n),s=i?St(r):r[0];return!!s&&(s.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(t,i){if(!i)return null;const n=this.findFocusableElements(t),r=n.indexOf(i);if(-1===r)return null;let s=-1;for(let o=r-1;o>=0;o--)if(n[o].classList.contains("ag-tab-guard-top")){s=o;break}return s<=0?null:n[s-1]}findNextFocusableElement(t=this.eGridDiv,i,n){const r=this.findFocusableElements(t,i?':not([tabindex="-1"])':null),s=this.gos.getActiveDomElement();let o;o=i?r.findIndex(l=>l.contains(s)):r.indexOf(s);const a=o+(n?-1:1);return a<0||a>=r.length?null:r[a]}isTargetUnderManagedComponent(t,i){if(!i)return!1;const n=t.querySelectorAll(`.${Hc.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let r=0;r<n.length;r++)if(n[r].contains(i))return!0;return!1}findTabbableParent(t,i=5){let n=0;for(;t&&null===D1(t)&&++n<=i;)t=t.parentElement;return null===D1(t)?null:t}focusOverlay(t){const i=this.overlayService.isVisible()&&this.overlayService.getOverlayWrapper()?.getGui();return!!i&&this.focusInto(i,t)}focusGridViewFailed(t,i){return i&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,i=!1,n=!0){if(this.overlayService.isExclusive())return n&&this.focusOverlay(i);if(this.isCellFocusSuppressed())return i&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():!(!n||!this.focusOverlay(i))||this.focusNextGridCoreContainer(!1);const r=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(r){const{rowIndex:s,rowPinned:o}=r;if(t??(t=this.getFocusedHeader()?.column),t&&null!=s)return this.navigationService.ensureCellVisible({rowIndex:s,column:t,rowPinned:o}),this.setFocusedCell({rowIndex:s,column:t,rowPinned:Ta(o),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:s,rowPinned:o,column:t}),!0}return!!(n&&this.focusOverlay(i)||i&&this.focusLastHeader())}isGridFocused(){const t=this.gos.getActiveDomElement();return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,i=!1){return!(i||!this.gridCtrl.focusNextInnerContainer(t))||((i||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){return this.advancedFilterFocusColumn=t?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(t,i){const n=(i?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return t?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};nE.keyboardModeActive=!1,nE.instanceCount=0;var Ihe=nE,Phe=class extends ne{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gos.isDomLayout("print"),t=e?0:this.visibleColsService.getColsLeftWidth(),i=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},Ohe=class extends ne{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.gridId);const{dragAndDropService:n,mouseEventService:r,ctrlsService:s,resizeObserverService:o}=this.beans;n.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:l=>1===l||0===l,getIconName:()=>"notAllowed"}),r.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new J1(this.view)),this.addRtlSupport();const a=o.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>a()),s.register("gridCtrl",this)}isDetailGrid(){return this.focusService.findTabbableParent(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:e.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:e.sideBarService?.getSideBarSelector(),statusBarSelector:e.statusBarService?.getStatusPanelSelector(),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}addRtlSupport(){const e=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(0===n){if(i>0){const s=St(this.visibleColsService.getAllCols());if(this.focusService.focusGridView(s,!0))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const i=this.getFocusableContainers(),n=this.visibleColsService.getAllCols();if(e){if(i.length>1)return this.focusContainer(St(i),!0);const r=St(n);if(this.focusService.focusGridView(r,!0))return!0}if(0===this.gos.get("headerHeight")||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(n[0]))return!0;for(let r=1;r<i.length;r++)if(this.focusService.focusInto(i[r].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(-1===n||i<0||i>=t.length)return;const r=t[i];r.setAllowFocus?.(!0),setTimeout(()=>{r.setAllowFocus?.(!1)})}getNextFocusableIndex(e,t){const i=this.gos.getActiveDomElement(),n=e.findIndex(s=>s.getGui().contains(i));return{indexWithFocus:n,nextIndex:n+(t?-1:1)}}focusContainer(e,t){e.setAllowFocus?.(!0);const i=this.focusService.focusInto(e.getGui(),t);return e.setAllowFocus?.(!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},C4=class extends c4{constructor(e){super(),this.gridBody=Le,this.sideBar=Le,this.pagination=Le,this.rootWrapperBody=Le,this.eGridDiv=e}postConstruct(){const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:s=>this.addCssClass(s),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:s=>{this.getGui().style.userSelect=s??"",this.getGui().style.webkitUserSelect=s??""},setCursor:s=>{this.getGui().style.cursor=s??""}},t=this.createManagedBean(new Ohe),i=t.getOptionalSelectors(),n=this.createTemplate(i),r=[Zde,...Object.values(i).filter(s=>!!s)];this.setTemplate(n,r),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>t.focusInnerElement(s),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.gos.get("debug")&&Ts("Grid removed from DOM")})}updateLayoutClasses(e,t){const i=this.rootWrapperBody.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(e){return`<div class="ag-root-wrapper" role="presentation">\n                ${e.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":""}\n                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body data-ref="gridBody"></ag-grid-body>\n                    ${e.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':""}\n                </div>\n                ${e.statusBarSelector?"<ag-status-bar></ag-status-bar>":""}\n                ${e.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':""}\n                ${e.watermarkSelector?"<ag-watermark></ag-watermark>":""}\n            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){e||!this.pagination?.isDisplayed()?super.forceFocusOutOfContainer(e):this.pagination.forceFocusOutOfContainer(e)}getFocusableContainers(){const e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>ho(t.getGui()))}},Nhe={version:$e,moduleName:"@ag-grid-community/aligned-grid",beans:[class extends ne{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t="function"==typeof e;"function"==typeof e&&(e=e());const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(r=>{if(!r)return Ft("alignedGrids contains an undefined option."),t||Ft('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void Ft(i());if(this.isGridApi(r))return r;const s=r;return"current"in s?s.current?.api:(s.api||Ft(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),s.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){"horizontal"===e.direction&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const i=[];return e.columns?e.columns.forEach(n=>{i.push(t(n))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":this.processColumnEvent(e);break;case"columnGroupOpened":this.processGroupOpenedEvent(e);break;case"columnPivotChanged":de("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(i=>{let n=null;i&&(n=t.getProvidedColGroup(i.getGroupId())),(!i||n)&&t.setColumnGroupOpened(n,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let i=null;if(t&&(i=this.columnModel.getColDefCol(t.getColId())),t&&!i)return;const n=this.getMasterColumns(e),{columnApplyStateService:r,columnSizeService:s,ctrlsService:o}=this;switch(e.type){case"columnMoved":{const d=e.api.getColumnState().map(u=>({colId:u.colId}));r.applyColumnState({state:d,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const d=e.api.getColumnState().map(u=>({colId:u.colId,hide:u.hide}));r.applyColumnState({state:d},"alignedGridChanged")}break;case"columnPinned":{const d=e.api.getColumnState().map(u=>({colId:u.colId,pinned:u.pinned}));r.applyColumnState({state:d},"alignedGridChanged")}break;case"columnResized":{const c=e,d={};n.forEach(u=>{d[u.getId()]={key:u.getColId(),newWidth:u.getActualWidth()}}),c.flexColumns?.forEach(u=>{d[u.getId()]&&delete d[u.getId()]}),s.setColumnWidths(Object.values(d),!1,c.finished,"alignedGridChanged");break}}const l=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(c=>{c.setGridOption("alwaysShowVerticalScroll",l)})}}]},_4={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},y4=["january","february","march","april","may","june","july","august","september","october","november","december"],Afe={version:$e,moduleName:"@ag-grid-community/data-type",beans:[class extends ne{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Hu(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=n=>r=>{const{column:s,node:o,value:a}=r;let l=s.getColDef().valueFormatter;return l===n.groupSafeValueFormatter&&(l=n.valueFormatter),this.valueService.formatValue(s,o,a,l)};Object.entries(e).forEach(([n,r])=>{const s={...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)};this.dataTypeDefinitions[n]=s,this.formatValueFuncs[n]=t(s)});const i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach(([n,r])=>{const s=this.processDataTypeDefinition(r,i,[n],e);s&&(this.dataTypeDefinitions[n]=s,r.dataTypeMatcher&&(this.dataTypeMatchers[n]=r.dataTypeMatcher),this.formatValueFuncs[n]=t(s))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(n=>{const r=this.dataTypeMatchers[n];r&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=r??e[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...$0(e.columnTypes),...$0(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,n){let r;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[s];const a=t[s];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,s))return;r=this.mergeDataTypeDefinitions(o,e)}else{if(i.includes(s))return void de('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const o=t[s];if(!this.validateDataTypeDefinition(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...i,s],n);if(!a)return;r=this.mergeDataTypeDefinitions(a,e)}return{...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)}}validateDataTypeDefinition(e,t,i){return t?t.baseDataType===e.baseDataType||(de('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(de(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{if(t.node?.group){const i=t.column.getAggFunc();if(i){if("first"===i||"last"===i)return e.valueFormatter(t);if("number"===e.baseDataType&&"count"!==i){if("number"==typeof t.value)return e.valueFormatter(t);if("object"==typeof t.value){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}}if(!this.gos.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()){if("string"!=typeof t.value||e.dataTypeMatcher?.(t.value))return e.valueFormatter(t);if(!this.gos.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:n}=t;const{field:r}=t;if(void 0===n&&(n=e.cellDataType),(null==n||!0===n)&&(n=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(r,i)),!n)return void(e.cellDataType=!1);const s=this.dataTypeDefinitions[n];if(s)return e.cellDataType=n,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,s,i),s.columnTypes;de(`Missing data type definition - "${n}"`)}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=n=>{t.add(n.key)};e.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){if("clientSide"!==this.rowModel.getType())return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;const n=null===t.type?e.type:t.type;if(n){const r=this.gos.get("columnTypes")??{};if($0(n).some(o=>{const a=r[o.trim()];return a&&this.doColDefPropsPreventInference(a,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>this.doesColDefPropPreventInference(e,t,i,n))}doesColDefPropPreventInference(e,t,i,n){if(!t[i])return!1;const r=e[i];return null===r?(t[i]=!1,!1):void 0===n?!!r:r===n}inferCellDataType(e,t){if(!e)return;let i;const n=this.getInitialData();if(n){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=yp(n,e,s)}else this.initWaitForRowData(t);if(null==i)return;const[r]=Object.entries(this.dataTypeMatchers).find(([s,o])=>o(i))??["object"];return r}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[i]=this.addManagedEventListeners({rowDataUpdateStarted:n=>{const{firstRowData:r}=n;r&&(i?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const n={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,o])=>{const a=this.columnModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const d=this.getUpdatedColumnState(a,o);d.rowGroup&&null==d.rowGroupIndex&&(n[s]=d),d.pivot&&null==d.pivotIndex&&(r[s]=d),i.push(d)}}),t&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,r)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(n=>{delete i[n],"rowGroup"===n?delete i.rowGroupIndex:"pivot"===n&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(null==t)return!0;const i=this.getDataTypeDefinition(e)?.dataTypeMatcher;return!i||i(t)}validateColDef(e){const t=i=>de(`Cell data type is "object" but no Value ${i} has been provided. Please either provide an object data type definition with a Value ${i}, or set "colDef.value${i}"`);"object"===e.cellDataType&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,i,n){const r=this.formatValueFuncs[t],s=hr.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId),o=this.localeService.getLocaleTextFunc(),a=l=>{const{filterParams:c}=e;e.filterParams="object"==typeof c?{...c,...l}:l};switch(i.baseDataType){case"number":e.cellEditor="agNumberCellEditor",s&&a({comparator:(l,c)=>{const d=null==l?0:parseInt(l),u=null==c?0:parseInt(c);return d===u?0:d>u?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=l=>!!l.colDef.editable&&l.event.key===Y.SPACE,a(s?{valueFormatter:l=>_e(l.value)?o(String(l.value),l.value?"True":"False"):o("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,c)=>c,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,c)=>!1===c,numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=r,s&&a({valueFormatter:l=>{const c=r(l);return _e(c)?c:o("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,c)=>{if(1===c&&null!=l){const d=y4[Number(l)-1];return o(d,_4[d])}return l??o("blanks","(Blanks)")}});break;case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=r;const l=i.dateParser;a(s?{valueFormatter:c=>{const d=r(c);return _e(d)?d:o("blanks","(Blanks)")},treeList:!0,treeListPathGetter:c=>{const d=l(c??void 0);return d?[String(d.getFullYear()),String(d.getMonth()+1),String(d.getDate())]:null},treeListFormatter:(c,d)=>{if(1===d&&null!=c){const u=y4[Number(c)-1];return o(u,_4[u])}return c??o("blanks","(Blanks)")}}:{comparator:(c,d)=>{const u=l(d);return null==d||u<c?-1:u>c?1:0}});break}case"object":e.cellEditorParams={useFormatter:!0},e.comparator=(l,c)=>{const d=this.columnModel.getColDefCol(n),u=d?.getColDef();if(!d||!u)return 0;const h=null==l?"":r({column:d,node:null,value:l}),f=null==c?"":r({column:d,node:null,value:c});return h===f?0:h>f?1:-1},e.keyCreator=r,s?a({valueFormatter:l=>{const c=r(l);return _e(c)?c:o("blanks","(Blanks)")}}):e.filterValueGetter=l=>r({column:l.column,node:l.node,value:this.valueService.getValue(l.column,l.node)})}}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>""===i.newValue?.trim?.()?null:Number(i.newValue),valueFormatter:i=>null==i.value?"":"number"!=typeof i.value||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>"number"==typeof i},text:{baseDataType:"text",valueParser:i=>""===i.newValue?null:t1(i.newValue),dataTypeMatcher:i=>"string"==typeof i},boolean:{baseDataType:"boolean",valueParser:i=>null==i.newValue?i.newValue:""===i.newValue?.trim?.()?null:"true"===String(i.newValue).toLowerCase(),valueFormatter:i=>null==i.value?"":String(i.value),dataTypeMatcher:i=>"boolean"==typeof i},date:{baseDataType:"date",valueParser:i=>Fr(null==i.newValue?null:String(i.newValue)),valueFormatter:i=>null==i.value?"":i.value instanceof Date&&!isNaN(i.value.getTime())?ks(i.value,!1)??"":t("invalidDate","Invalid Date"),dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>Fr(i)??void 0,dateFormatter:i=>ks(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>"string"==typeof i&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>t1(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}}]};function w4(e,t){const{colKey:i,rowNode:n,useFormatter:r}=t,s=e.columnModel.getColDefCol(i)??e.columnModel.getCol(i);if(ft(s))return null;const o=e.valueService.getValue(s,n);return r?e.valueService.formatValue(s,n,o)??Uo(o,!0):o}function b4(e,t){e.gos.updateGridOptions({options:t})}function x4(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function S4(e){return e.rowRenderer.getLastVirtualRenderedRow()}var Ype={version:$e,moduleName:"@ag-grid-community/api",dependantModules:[{version:$e,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:function epe(e){return e.context.getGridId()},destroy:function tpe(e){e.gridDestroyService.destroy()},isDestroyed:function ipe(e){return e.gridDestroyService.isDestroyCalled()},getGridOption:function npe(e,t){return e.gos.get(t)},setGridOption:function rpe(e,t,i){b4(e,{[t]:i})},updateGridOptions:b4}},{version:$e,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:function Pfe(e){return e.pinnedRowModel.getPinnedTopRowCount()},getPinnedBottomRowCount:function Ofe(e){return e.pinnedRowModel.getPinnedBottomRowCount()},getPinnedTopRow:function Lfe(e,t){return e.pinnedRowModel.getPinnedTopRow(t)},getPinnedBottomRow:function Nfe(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}}},{version:$e,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:function Fpe(e,t){if(!t.nodes.every(a=>a.rowPinned?(de("cannot select pinned rows"),!1):void 0!==a.id||(de("cannot select node until id for node is known"),!1)))return;const{nodes:n,source:r,newValue:s}=t;e.selectionService.setNodesSelected({nodes:n,source:r??"api",newValue:s})},selectAll:function Mpe(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})},deselectAll:function kpe(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})},selectAllFiltered:function Ipe(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},deselectAllFiltered:function Ppe(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},selectAllOnCurrentPage:function Ope(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},deselectAllOnCurrentPage:function Lpe(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},getSelectedNodes:function Npe(e){return e.selectionService.getSelectedNodes()},getSelectedRows:function Bpe(e){return e.selectionService.getSelectedRows()}}},{version:$e,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:function Bhe(e,t){const i=e.columnModel.getColDefCol(t);return i?i.getColDef():null},getColumnDefs:function Vhe(e){return e.columnModel.getColumnDefs()},sizeColumnsToFit:function Hhe(e,t){"number"==typeof t?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)},setColumnGroupOpened:function Ghe(e,t,i){e.columnModel.setColumnGroupOpened(t,i,"api")},getColumnGroup:function zhe(e,t,i){return e.visibleColsService.getColumnGroup(t,i)},getProvidedColumnGroup:function Whe(e,t){return e.columnModel.getProvidedColGroup(t)},getDisplayNameForColumn:function Uhe(e,t,i){return e.columnNameService.getDisplayNameForColumn(t,i)||""},getDisplayNameForColumnGroup:function jhe(e,t,i){return e.columnNameService.getDisplayNameForColumnGroup(t,i)||""},getColumn:function $he(e,t){return e.columnModel.getColDefCol(t)},getColumns:function Khe(e){return e.columnModel.getColDefCols()},applyColumnState:function qhe(e,t){return e.columnApplyStateService.applyColumnState(t,"api")},getColumnState:function Yhe(e){return e.columnGetStateService.getColumnState()},resetColumnState:function Xhe(e){e.columnApplyStateService.resetColumnState("api")},getColumnGroupState:function Zhe(e){return e.columnGroupStateService.getColumnGroupState()},setColumnGroupState:function Qhe(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")},resetColumnGroupState:function Jhe(e){e.columnGroupStateService.resetColumnGroupState("api")},isPinning:function efe(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()},isPinningLeft:function tfe(e){return e.visibleColsService.isPinningLeft()},isPinningRight:function ife(e){return e.visibleColsService.isPinningRight()},getDisplayedColAfter:function nfe(e,t){return e.visibleColsService.getColAfter(t)},getDisplayedColBefore:function rfe(e,t){return e.visibleColsService.getColBefore(t)},setColumnVisible:function sfe(e,t,i){e.columnModel.setColsVisible([t],i,"api")},setColumnsVisible:function ofe(e,t,i){e.columnModel.setColsVisible(t,i,"api")},setColumnPinned:function afe(e,t,i){e.columnModel.setColsPinned([t],i,"api")},setColumnsPinned:function lfe(e,t,i){e.columnModel.setColsPinned(t,i,"api")},getAllGridColumns:function cfe(e){return e.columnModel.getCols()},getDisplayedLeftColumns:function dfe(e){return e.visibleColsService.getLeftCols()},getDisplayedCenterColumns:function ufe(e){return e.visibleColsService.getCenterCols()},getDisplayedRightColumns:function hfe(e){return e.visibleColsService.getRightCols()},getAllDisplayedColumns:function ffe(e){return e.visibleColsService.getAllCols()},getAllDisplayedVirtualColumns:function pfe(e){return e.columnViewportService.getViewportColumns()},moveColumn:function gfe(e,t,i){e.columnMoveService.moveColumns([t],i,"api")},moveColumnByIndex:function mfe(e,t,i){e.columnMoveService.moveColumnByIndex(t,i,"api")},moveColumns:function vfe(e,t,i){e.columnMoveService.moveColumns(t,i,"api")},setColumnWidth:function Cfe(e,t,i,n=!0,r="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:i}],!1,n,r)},setColumnWidths:function _fe(e,t,i=!0,n="api"){e.columnSizeService.setColumnWidths(t,!1,i,n)},getLeftDisplayedColumnGroups:function yfe(e){return e.visibleColsService.getTreeLeft()},getCenterDisplayedColumnGroups:function wfe(e){return e.visibleColsService.getTreeCenter()},getRightDisplayedColumnGroups:function bfe(e){return e.visibleColsService.getTreeRight()},getAllDisplayedColumnGroups:function xfe(e){return e.visibleColsService.getAllTrees()},autoSizeColumn:function Sfe(e,t,i){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:i,source:"api"})},autoSizeColumns:function Efe(e,t,i){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})},autoSizeAllColumns:function Dfe(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}}},{version:$e,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:function _pe(e,t={}){const i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))},setRowNodeExpanded:function ype(e,t,i,n,r){e.expansionService.setRowNodeExpanded(t,i,n,r)},getRowNode:function wpe(e,t){return e.rowModel.getRowNode(t)},addRenderedRowListener:function bpe(e,t,i,n){e.rowRenderer.addRenderedRowListener(t,i,n)},getRenderedNodes:function xpe(e){return e.rowRenderer.getRenderedNodes()},forEachNode:function Spe(e,t,i){e.rowModel.forEachNode(t,i)},getFirstDisplayedRow:function Epe(e){return x4(e)},getFirstDisplayedRowIndex:x4,getLastDisplayedRow:function Dpe(e){return S4(e)},getLastDisplayedRowIndex:S4,getDisplayedRowAtIndex:function Tpe(e,t){return e.rowModel.getRow(t)},getDisplayedRowCount:function Ape(e){return e.rowModel.getRowCount()},getModel:function Rpe(e){return e.rowModel}}},{version:$e,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:function Ffe(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)},removeRowDropZone:function Mfe(e,t){const i=e.dragAndDropService.findExternalZone(t);i&&e.dragAndDropService.removeDropTarget(i)},getRowDropZoneParams:function kfe(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}}},{version:$e,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:function Eue(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()},getHorizontalPixelRange:function Due(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()},ensureColumnVisible:s4,ensureIndexVisible:o4,ensureNodeVisible:function Tue(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}}},{version:$e,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:function Vfe(e){e.overlayService.showLoadingOverlay()},showNoRowsOverlay:function Hfe(e){e.overlayService.showNoRowsOverlay()},hideOverlay:function Gfe(e){e.overlayService.hideOverlay()}}},{version:$e,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:function cpe(e){return e.focusService.getFocusedCell()},clearFocusedCell:function dpe(e){return e.focusService.clearFocusedCell()},setFocusedCell:function upe(e,t,i,n){e.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:n,forceBrowserFocus:!0})},setFocusedHeader:function ppe(e,t,i=!1){const n=e.headerNavigationService.getHeaderPositionForColumn(t,i);n&&e.focusService.focusHeaderPosition({headerPosition:n})},tabToNextCell:function hpe(e,t){return e.navigationService.tabToNextCell(!1,t)},tabToPreviousCell:function fpe(e,t){return e.navigationService.tabToNextCell(!0,t)}}},{version:$e,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:function spe(e,t,i){e.apiEventService.addEventListener(t,i)},addGlobalListener:function ape(e,t){e.apiEventService.addGlobalListener(t)},removeEventListener:function ope(e,t,i){e.apiEventService.removeEventListener(t,i)},removeGlobalListener:function lpe(e,t){e.apiEventService.removeGlobalListener(t)}}},{version:$e,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:function Wfe(e,t,i){if(!t)return;const n=e.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${t}`;null===i?n.removeAttribute(r):n.setAttribute(r,i)},refreshCells:function Ufe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))},flashCells:function jfe(e,t={}){const i=n=>de(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);_e(t.fadeDelay)&&i("fade"),_e(t.flashDelay)&&i("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))},refreshHeader:function $fe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))},isAnimationFrameQueueEmpty:function Kfe(e){return e.animationFrameService.isQueueEmpty()},flushAllAnimationFrames:function qfe(e){e.animationFrameService.flushAllFrames()},getSizesForCurrentTheme:function Yfe(e){return{rowHeight:e.gos.getRowHeightAsNumber(),headerHeight:e.columnModel.getHeaderHeight()}},getCellRendererInstances:function Xfe(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(Rp)}}},{version:$e,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:function Qfe(e){e.valueCache.expire()},getValue:function Jfe(e,t,i){return w4(e,{colKey:t,rowNode:i})},getCellValue:w4}},{version:$e,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:function gpe(e,t,i){const n=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:n,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:function mpe(e,t,i){let n=e.columnModel.getCol(t);n||(n=e.columnModel.getColDefCol(t)),n?e.menuService.showColumnMenu({column:n,mouseEvent:i,positionBy:"mouse"}):Ft(`column '${t}' not found`)},showColumnMenu:function vpe(e,t){const i=e.columnModel.getCol(t);i?e.menuService.showColumnMenu({column:i,positionBy:"auto"}):Ft(`column '${t}' not found`)},hidePopupMenu:function Cpe(e){e.menuService.hidePopupMenu()}}},{version:$e,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:function Vpe(e){e.sortController.onSortChanged("api")}}}]},E4={version:$e,moduleName:"@ag-grid-community/state-core",beans:[class extends ne{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=ur(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=ur(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=ur(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.rowModel=e.rowModel,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=this.gos.get("initialState")??{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,i]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{"gridInitializing"===n&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.gos.get("initialState")??{};this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:n}=this.gos.get("initialState")??{},r=this.gos.get("advancedFilterModel");(e||r)&&this.setFilterState(e,r),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const s=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{0!==this.gos.get("groupDefaultExpanded")&&setTimeout(()=>{s()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,rangeSelection:t,focusedCell:i,columnOrder:n}=this.gos.get("initialState")??{};i&&this.setFocusedCellState(i),t&&this.setRangeSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!n?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),rangeSelectionChanged:r=>{r.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],i=[],n=[],r=[],s=[],o=[],a=[],l=[],c=[];let d=0;const u=this.columnGetStateService.getColumnState();for(let h=0;h<u.length;h++){const{colId:f,sort:g,sortIndex:p,rowGroup:m,rowGroupIndex:C,aggFunc:v,pivot:_,pivotIndex:x,pinned:R,hide:M,width:S,flex:N}=u[h];c.push(f),g&&(t[p??d++]={colId:f,sort:g}),m&&(i[C??0]=f),"string"==typeof v&&n.push({colId:f,aggFunc:v}),_&&(r[x??0]=f),R&&("right"===R?o:s).push(f),M&&a.push(f),(N||S)&&l.push({colId:f,flex:N??void 0,width:S})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:r.length||e?{pivotMode:e,pivotColIds:r}:void 0,columnPinning:s.length||o.length?{leftColIds:s,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:n,pivot:r,columnPinning:s,columnVisibility:o,columnSizing:a,columnOrder:l}=e,c={},d=g=>{let p=c[g];return p||(p={colId:g},c[g]=p,p)};t&&t.sortModel.forEach(({colId:g,sort:p},m)=>{const C=d(g);C.sort=p,C.sortIndex=m}),i&&i.groupColIds.forEach((g,p)=>{const m=d(g);m.rowGroup=!0,m.rowGroupIndex=p}),n&&n.aggregationModel.forEach(({colId:g,aggFunc:p})=>{d(g).aggFunc=p}),r&&(r.pivotColIds.forEach((g,p)=>{const m=d(g);m.pivot=!0,m.pivotIndex=p}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(g=>{d(g).pinned="left"}),s.rightColIds.forEach(g=>{d(g).pinned="right"})),o&&o.hiddenColIds.forEach(g=>{d(g).hide=!0}),a&&a.columnSizingModel.forEach(({colId:g,flex:p,width:m})=>{const C=d(g);C.flex=p??null,C.width=m});const u=l?.orderedColIds,h=!!u?.length,f=h?u.map(g=>d(g)):Object.values(c);f.length&&(this.columnStates=f,this.columnApplyStateService.applyColumnState({state:f,applyOrder:h,defaultState:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null}},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,this.pivotResultColsService.isPivotResultColsPresent()){if(t){const n=[];for(const r of t)this.pivotResultColsService.getPivotResultCol(r.colId)&&n.push(r);this.columnApplyStateService.applyColumnState({state:n,applyOrder:e},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:i,open:n})=>{n&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set(e.columnGroup?.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map(({groupId:r})=>{const s=t.has(r);return s&&t.delete(r),{groupId:r,open:s}});t.forEach(r=>{n.push({groupId:r,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){let e=this.filterManager?.getFilterModel();e&&0===Object.keys(e).length&&(e=void 0);const t=this.filterManager?.getAdvancedFilterModel()??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){const{filterModel:i,advancedFilterModel:n}=e??{advancedFilterModel:t};i&&this.filterManager?.setFilterModel(i,"columnFilter"),n&&this.filterManager?.setAdvancedFilterModel(n)}getRangeSelectionState(){const e=this.rangeService?.getCellRanges().map(t=>{const{id:i,type:n,startRow:r,endRow:s,columns:o,startColumn:a}=t;return{id:i,type:n,startRow:r,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setRangeSelectionState(e){if(!this.gos.get("enableRangeSelection")||!this.rangeService)return;const t=[];e.cellRanges.forEach(i=>{const n=[];if(i.colIds.forEach(s=>{const o=this.columnModel.getCol(s);o&&n.push(o)}),!n.length)return;let r=this.columnModel.getCol(i.startColId);if(!r){const s=this.visibleColsService.getAllCols(),o=new Set(n);r=s.find(a=>o.has(a))}t.push({...i,columns:n,startColumn:r})}),this.rangeService.setCellRanges(t)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:i}=e?.getVScrollPosition()??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:i}=e;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(t,i)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();return e||t?{page:e,pageSize:t}:void 0}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),"number"==typeof e.page&&this.paginationService.setPage(e.page))}getRowSelectionState(){const e=this.selectionService.getSelectionState();return e&&(Array.isArray(e)||!1!==e.selectAll&&!1!==e.selectAllChildren||e?.toggledNodes?.length)?e:void 0}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;Object.entries(t).forEach(([n,r])=>{_p(r,this.cachedState[n])||(i=!0)}),this.cachedState={...this.cachedState,...t},i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),_p(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{"rowSelection"===e&&this.setCachedStateValue(e,this.getRowSelectionState())}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}}]},Jpe={version:$e,moduleName:"@ag-grid-community/state",dependantModules:[E4,{version:$e,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:function Xpe(e){return e.stateService?.getState()??{}}},dependantModules:[E4]}]},fge={selector:"AG-PAGE-SIZE-SELECTOR",component:class extends kt{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){Gn(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get("paginationPageSizeSelector")}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),i=!t||!e.includes(t);i&&(e.unshift(""),de("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp));const n=this.localeService.getLocaleTextFunc(),r=n("pageSizeSelectorLabel","Page Size:"),s=e.map(a=>({value:String(a),text:String(a)})),o=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new N1).addOptions(s).setValue(String(i?"":t)).setAriaLabel(o).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=i}getPageSizeSelectorValues(){const t=this.gos.get("paginationPageSizeSelector");return Array.isArray(t)&&this.validateValues(t)?[...t].sort((i,n)=>i-n):[20,50,100]}validateValues(e){if(!e.length)return de("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(let t=0;t<e.length;t++){const i=e[t],r=i>0;if("number"!=typeof i)return de("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!r)return de("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}}},gge={selector:"AG-PAGINATION",component:class extends c4{constructor(){super(),this.btFirst=Le,this.btPrevious=Le,this.btNext=Le,this.btLast=Le,this.lbRecordCount=Le,this.lbFirstRowOnPage=Le,this.lbLastRowOnPage=Le,this.lbCurrent=Le,this.lbTotal=Le,this.pageSizeComp=Le,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[fge]);const{btFirst:t,btPrevious:i,btNext:n,btLast:r}=this;this.activateTabIndex([t,i,n,r]),t.insertAdjacentElement("afterbegin",ts(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",ts(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",ts(e?"previous":"next",this.gos)),r.insertAdjacentElement("afterbegin",ts(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):this.focusService.focusGridInnerElement(s)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:n=>{(n.key===Y.ENTER||n.key===Y.SPACE)&&(n.preventDefault(),i())}})}),function uge(e,t,i){e.addManagedElementListeners(t,{keydown:n=>{if(!n.defaultPrevented&&n.key===Y.TAB){const r=n.shiftKey;i.findNextFocusableElement(t,!1,r)||i.focusNextGridCoreContainer(r)&&n.preventDefault()}}})}(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const i=this.localeService.getLocaleTextFunc();return function MV(e,t,i){return"number"!=typeof e?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}(e,i("thousandSeparator",","),i("decimalSeparator","."))}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),n=e("of","of"),r=e("firstPage","First Page"),s=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">\n                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel">\n                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-to">${i}</span>\n                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-of">${n}</span>\n                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>\n                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>\n                    <span class="ag-paging-description">\n                        <span id="ag-${l}-start-page">${t}</span>\n                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${l}-of-page">${n}</span>\n                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>\n                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay();this.nextButtonDisabled=e===i-1||n,this.lastButtonDisabled=!t||n||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){(function zoe(e,t){Rs(e,"disabled",t)})(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&0===t}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),i=this.paginationService.getMasterRowCount(),n=e?i:null;if(1===n){const v=this.rowModel.getRow(0);if(v&&v.group&&!v.groupData&&!v.aggData)return void this.setTotalLabelsToZero()}const r=this.paginationService.getCurrentPage(),s=this.paginationService.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*r+1,a=o+s-1,e&&a>n&&(a=n));const c=!e&&i<o+s-1,d=this.formatNumber(o);let u;this.lbFirstRowOnPage.textContent=d;const h=this.localeService.getLocaleTextFunc();u=c?h("pageLastRowUnknown","?"):this.formatNumber(a),this.lbLastRowOnPage.textContent=u;const p=this.formatNumber(t>0?r+1:0);let m,C;if(this.lbCurrent.textContent=p,e)m=this.formatNumber(t),C=this.formatNumber(n);else{const v=h("more","more");m=v,C=v}this.lbTotal.textContent=m,this.lbRecordCount.textContent=C,this.announceAriaStatus(d,u,C,p,m)}announceAriaStatus(e,t,i,n,r){const s=this.localeService.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${e} ${a} ${t} ${l} ${i}`,d=`${o} ${n} ${l} ${r}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnouncementService.announceValue(d,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}}},D4={version:$e,moduleName:"@ag-grid-community/pagination-core",beans:[class extends ne{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return gge}isPaginateChildRows(){return!(!this.gos.get("groupRemoveSingleChildren")&&!this.gos.get("groupRemoveLowestSingleChildren"))||this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||"number"!=typeof this.currentPage||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return _e(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:_e(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:_e(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:_e(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:n=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:n,keepRenderedRows:t})}},class extends ne{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const i=Math.max(this.gos.getRowHeightAsNumber(),1),n=Math.floor(e/i);this.paginationService.setPageSize(n,"autoCalculated")};this.isBodyRendered?ur(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}}]},Cge={version:$e,moduleName:"@ag-grid-community/pagination",dependantModules:[D4,{version:$e,moduleName:"@ag-grid-community/pagination-api",dependantModules:[D4],apiFunctions:{paginationIsLastPageFound:function ege(e){return e.rowModel.isLastRowIndexKnown()},paginationGetPageSize:function tge(e){return e.paginationService?.getPageSize()??100},paginationGetCurrentPage:function ige(e){return e.paginationService?.getCurrentPage()??0},paginationGetTotalPages:function nge(e){return e.paginationService?.getTotalPages()??1},paginationGetRowCount:function rge(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()},paginationGoToNextPage:function sge(e){e.paginationService?.goToNextPage()},paginationGoToPreviousPage:function oge(e){e.paginationService?.goToPreviousPage()},paginationGoToFirstPage:function age(e){e.paginationService?.goToFirstPage()},paginationGoToLastPage:function lge(e){e.paginationService?.goToLastPage()},paginationGoToPage:function cge(e,t){e.paginationService?.goToPage(t)}}}]},ns="clientSide",Mr="serverSide",qu="infinite",_ge={onGroupExpandedOrCollapsed:[ns],refreshClientSideRowModel:[ns],forEachLeafNode:[ns],forEachNodeAfterFilter:[ns],forEachNodeAfterFilterAndSort:[ns],resetRowHeights:[ns],applyTransaction:[ns],applyTransactionAsync:[ns],flushAsyncTransactions:[ns],getBestCostNodeSelection:[ns],getServerSideSelectionState:[Mr],setServerSideSelectionState:[Mr],applyServerSideTransaction:[Mr],applyServerSideTransactionAsync:[Mr],applyServerSideRowData:[Mr],retryServerSideLoads:[Mr],flushServerSideAsyncTransactions:[Mr],refreshServerSide:[Mr],getServerSideGroupLevelState:[Mr],refreshInfiniteCache:[qu],purgeInfiniteCache:[qu],getInfiniteRowCount:[qu],isLastRowIndexKnown:[qu],expandAll:[ns,Mr],collapseAll:[ns,Mr],onRowHeightChanged:[ns,Mr],setRowCount:[qu,Mr],getCacheBlockState:[qu,Mr]},yge={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'}},Tl=(e,t)=>"clientSide"===(t.rowModelType??"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null,xge={enableRowGroup:Tl,rowGroup:Tl,rowGroupIndex:Tl,enablePivot:Tl,enableValue:Tl,pivot:Tl,pivotIndex:Tl,aggFunc:Tl,cellEditor:e=>"agRichSelect"===e.cellEditor||"agRichSelectCellEditor"===e.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(i=>t.includes(i))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Yu},Yu={objectName:"colDef",allProperties:Object.keys({headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0}),docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"}},validations:xge},Tge={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0},T4={version:$e,moduleName:"@ag-grid-community/core-community-features",dependantModules:[{version:$e,moduleName:"@ag-grid-community/core"},{version:$e,moduleName:"@ag-grid-community/core-validations",beans:[class extends ne{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,{objectName:"gridOptions",allProperties:[...bp.ALL_PROPERTIES,...xp.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:{advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."}},validations:{sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":return e.getDataPath?null:`treeData requires 'getDataPath' in the ${t} row model.`;case"serverSide":return e.isServerSideGroup&&e.getServerSideGroupKey?null:`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>Yu,defaultColDef:()=>Yu,defaultColGroupDef:()=>Yu,autoGroupColumnDef:()=>Yu}})}processColumnDefs(e){this.processOptions(e,Yu)}validateApiFunction(e,t){return function wge(e,t,i){const n=yge[e];if(n){const{version:s,new:o,old:a,message:l}=n,c=a??e;return(...d)=>(de(`Since ${s} api.${c} is deprecated. ${o?`Please use ${o} instead. `:""}${l??""}`),t.apply(t,d))}const r=_ge[e];return r?(...s)=>{const o=i.rowModel.getType();if(r.includes(o))return t.apply(t,s);Ft(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`)}:t}(e,t,this.beans)}processOptions(e,t){const{validations:i,deprecations:n,allProperties:r,propertyExceptions:s,objectName:o,docsUrl:a}=t;r&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,[...s??[],...Object.keys(n)],r,o,a);const l=new Set;Object.keys(e).forEach(d=>{const u=n[d];if(u)if("renamed"in u){const{renamed:v,version:_}=u;l.add(`As of v${_}, ${String(d)} is deprecated. Please use ${String(v)} instead.`),e[v]=e[d]}else{const{message:v,version:_}=u;l.add(`As of v${_}, ${String(d)} is deprecated. ${v??""}`)}const h=e[d];if(null==h||!1===h)return;const f=i[d];let g;if(!f)return;if("function"==typeof f){const v=f(e,this.gridOptions);if(!v)return;if("objectName"in v){const _=e[d];return Array.isArray(_)?void _.forEach(x=>{this.processOptions(x,v)}):void this.processOptions(e[d],v)}g=v}else g=f;const{module:p,dependencies:m,supportedRowModels:C}=g;if(C){const v=this.gridOptions.rowModelType??"clientSide";if(!C.includes(v))return void l.add(`${String(d)} is not supported with the '${v}' row model.`)}if(p){const v=Array.isArray(p)?p:[p];let _=!0;if(v.forEach(x=>{hr.__assertRegistered(x,String(d),this.gridId)||(_=!1,l.add(`${String(d)} is only available when ${x} is loaded.`))}),!_)return}if(m){const v=this.checkForWarning(d,m,e);if(v)return void l.add(v)}}),l.size>0&&l.forEach(d=>{de(d)})}checkForWarning(e,t,i){if("function"==typeof t)return t(i,this.gridOptions);const r=Object.entries(t).find(([a,l])=>!l.includes(i[a]));if(!r)return null;const[s,o]=r;return o.length>1?`'${String(e)}' requires '${s}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${s}' to be ${o[0]}.`}checkProperties(e,t,i,n,r){const o=function Fae(e,t,i){const n={},r=e.filter(s=>!t.some(o=>o===s));return r.length>0&&r.forEach(s=>n[s]=hV(s,i).values),n}(Object.getOwnPropertyNames(e),["__ob__","__v_skip","__metadata__",...t,...i],i);if(Es(o,(a,l)=>{let c=`invalid ${n} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;i.includes("context")&&(c+=`\nIf you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),de(c)}),Object.keys(o).length>0&&r){const a=this.getFrameworkOverrides().getDocLink(r);de(`to see all the valid ${n} properties please check: ${a}`)}}}]},jue,pce,Jpe,Afe,Nhe,Cge,Ype]},Ige=class extends ne{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}}),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},pC=new Set(["gridPreDestroyed","fillStart","pasteStart"]),Oge=new Map([...bp.BOOLEAN_PROPERTIES.map(e=>[e,r1]),...bp.NUMBER_PROPERTIES.map(e=>[e,FV]),["groupAggFiltering",e=>"function"==typeof e?e:r1(e)],["pageSize",$o(1)],["autoSizePadding",$o(0)],["keepDetailRowsCount",$o(1)],["rowBuffer",$o(0)],["infiniteInitialRowCount",$o(1)],["cacheOverflowSize",$o(1)],["cacheBlockSize",$o(1)],["serverSideInitialRowCount",$o(1)],["viewportRowModelPageSize",$o(1)],["viewportRowModelBufferSize",$o(0)]]);function A4(e,t){const i=Oge.get(e);return i?i(t):t}var R4=class F6 extends ne{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Nu,this.globalEventHandlerFactory=t=>(i,n)=>{if(!this.isAlive())return;const r=pC.has(i);if(r&&!t||!r&&t)return;const s=xp.getCallbackForEvent(i),o=this.gridOptions[s];"function"==typeof o&&this.frameworkOverrides.wrapOutgoing(()=>{o(n)})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth(),this.addManagedEventListeners({gridOptionsChanged:({options:i})=>{this.updateGridOptions({options:i,force:!0,source:"gridOptionsUpdated"})}})}get(t){return this.gridOptions[t]??Tge[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return _e(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(n=>{const r=n;return r.api=this.api,r.context=this.gridOptionsContext,t(r)})}updateGridOptions({options:t,force:i,source:n="api"}){const r={id:F6.changeSetId++,properties:[]},s=[];Object.entries(t).forEach(([o,a])=>{"api"===n&&Poe[o]&&de(`${o} is an initial property and cannot be updated.`);const l=A4(o,a),d=this.gridOptions[o];(i||"object"==typeof l&&"api"===n||d!==l)&&(this.gridOptions[o]=l,s.push({type:o,currentValue:l,previousValue:d,changeSet:r,source:n}))}),this.validationService?.processGridOptions(this.gridOptions),r.properties=s.map(o=>o.type),s.forEach(o=>{this.gridOptions.debug&&Ts(`Updated property ${o.type} from`,o.previousValue," to ",o.currentValue),this.propertyEventService.dispatchEvent(o)})}addPropertyEventListener(t,i){this.propertyEventService.addEventListener(t,i)}removePropertyEventListener(t,i){this.propertyEventService.removeEventListener(t,i)}getScrollbarWidth(){if(null==this.scrollbarWidth){const i="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:function tae(){return null==x1&&YB(),x1}();null!=i&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}isRowModelType(t){return this.gridOptions.rowModelType===t||"clientSide"===t&&ft(this.gridOptions.rowModelType)}isDomLayout(t){return(this.gridOptions.domLayout??"normal")===t}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"==typeof this.gridOptions.getRowHeight}getRowHeightForNode(t,i=!1,n){if(null==n&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(i)return{height:n,estimated:!0};const s={node:t,data:t.data},o=this.getCallback("getRowHeight")(s);if(this.isNumeric(o))return 0===o&&de("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,o),estimated:!1}}return t.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||ft(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const t=this.environment.refreshRowHeightVariable();return-1!==t?t:(de("row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(t){return!isNaN(t)&&"number"==typeof t&&isFinite(t)}getDomDataKey(){return this.domDataKey}getDomData(t,i){const n=t[this.getDomDataKey()];return n?n[i]:void 0}setDomData(t,i,n){const r=this.getDomDataKey();let s=t[r];ft(s)&&(s={},t[r]=s),s[i]=n}getDocument(){let t=null;return this.gridOptions.getDocument&&_e(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&_e(t)?t:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getActiveDomElement(){return this.getRootNode().activeElement}isNothingFocused(){const t=this.getDocument(),i=this.getActiveDomElement();return null===i||i===t.body}getAsyncTransactionWaitMillis(){return _e(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.get("ensureDomOrder")&&this.get("animateRows")}isGroupRowsSticky(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){return!this.gridOptions.autoGroupColumnDef?.comparator&&!this.get("treeData")}getGroupAggFiltering(){const t=this.gridOptions.groupAggFiltering;return"function"==typeof t?this.getCallback("groupAggFiltering"):!0===t?()=>!0:void 0}getGrandTotalRow(){return this.gridOptions.grandTotalRow||(this.gridOptions.groupIncludeTotalFooter?"bottom":void 0)}getGroupTotalRowCallback(){const t=this.get("groupTotalRow");if("function"==typeof t)return this.getCallback("groupTotalRow");if(t)return()=>t;const i=this.get("groupIncludeFooter");if("function"==typeof i){const n=this.getCallback("groupIncludeFooter");return r=>n(r)?"bottom":void 0}return()=>i?"bottom":void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")}isGroupUseEntireRow(t){return!t&&"groupRows"===this.gridOptions.groupDisplayType}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const i=t;return i.api=this.api,i.context=this.gridOptionsContext,i}getRowIdCallback(){const t=this.getCallback("getRowId");return void 0===t?t:i=>{let n=t(i);return"string"!=typeof n&&(de("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}};R4.changeSetId=0;var Nge=R4,Bge=class extends ne{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let i,n;if(Wi(e.column)?i=this.visibleColsService.getGroupAtDirection(e.column,t):(n=`getCol${t}`,i=this.visibleColsService[n](e.column)),!i)return;const{headerRowIndex:r}=e;if("filter"!==this.getHeaderRowType(r)){const a=[i];for(;i.getParent();)i=i.getParent(),a.push(i);i=a[a.length-1-r]}const{column:s,headerRowIndex:o}=this.getHeaderIndexToFocus(i,r);return{column:s,headerRowIndex:o}}getHeaderIndexToFocus(e,t){let i;if(Wi(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;i=n.getLeafColumns()[0];let r=i;for(;r!==n;)t++,r=r.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return!!e&&e.getLeafColumns().some(t=>t.isSpanHeaderHeight())}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),r="column"===i;let s="filter"===i?e:e.getParent(),o=t-1,a=o;if(r&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),o--;a=o,o<0&&(s=e,o=t,a=void 0)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,i="After"){let r=e,s=t+1;const o=s;if("group"===this.getHeaderRowType(t)){const a=e.getDisplayedLeafColumns(),l="After"===i?a[0]:St(a),c=[];let d=l;for(;d.getParent()!==e;)d=d.getParent(),c.push(d);if(r=l,l.isSpanHeaderHeight())for(let u=c.length-1;u>=0;u--){const h=c[u];if(!h.isPadding()){r=h;break}s++}else r=St(c),r||(r=l)}return{column:r,headerRowIndex:s,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.visibleColsService.getAllCols(),n=i["start"===t?0:i.length-1];if(!n)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned())?.getRowType(e);return"group"==s?{headerRowIndex:e,column:this.visibleColsService.getColGroupAtLevel(n,e)}:{headerRowIndex:null==s?-1:e,column:n}}},Vge=class extends ne{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(i,n,r)=>e({key:i,defaultValue:n,variableValues:r});const t=this.gos.get("localeText");return(i,n,r)=>{let s=t&&t[i];if(s&&r&&r.length){let o=0;for(;!(o>=r.length||-1===s.indexOf("${variable}"));)s=s.replace("${variable}",r[o++])}return s??n}}},Hge=class extends ne{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new e1(this.getFrameworkOverrides())}addEventListener(e,t){const i=this.frameworkEventWrappingService.wrap(t),n=this.gos.useAsyncEvents()&&!pC.has(e),r=n?this.asyncEventListeners:this.syncEventListeners;r.has(e)||r.set(e,new Set),r.get(e).add(i),this.eventService.addEventListener(e,i,n)}removeEventListener(e,t){const i=this.frameworkEventWrappingService.unwrap(t),r=!!this.asyncEventListeners.get(e)?.delete(i);r||this.syncEventListeners.get(e)?.delete(i),this.eventService.removeEventListener(e,i,r)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gos.useAsyncEvents()){const n=(s,o)=>{pC.has(s)&&t(s,o)},r=(s,o)=>{pC.has(s)||t(s,o)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:r}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:n,asyncListener:r}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((i,n)=>{i.forEach(r=>this.eventService.removeEventListener(n,r,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventService.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},Gge=class extends ne{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},zge=class extends ne{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return ft(this.topRowBounds)||ft(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=_e(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Wge=class extends ne{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=ur(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=this.gos.getDocument(),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),WB(t,"polite"),function Goe(e,t){Rs(e,"relevant",t)}(t,"additions text"),function Hoe(e,t){Rs(e,"atomic",t)}(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Gn(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},Uge=class extends ne{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return e(),void t();const i=n=>{for(;n.length;){const r=n.pop();r&&r()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),i(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),i(this.executeLaterFuncs)},200)})}},jge=class extends ne{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},$ge=class extends ne{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=this.gos.isRowModelType("clientSide");const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return 0!==this.state}isExclusive(){return 1===this.state}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(void 0!==e||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!this.gos.get("loading")&&!this.gos.get("suppressNoRowsOverlay")&&this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")?de("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead."):this.doHideOverlay()}updateOverlayVisibility(){let e=this.gos.get("loading");this.showInitialOverlay&&void 0===e&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?1!==this.state&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?2!==this.state&&this.doShowNoRowsOverlay():0!==this.state&&this.doHideOverlay())}doShowLoadingOverlay(){this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive()}doShowNoRowsOverlay(){this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive()}doHideOverlay(){this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive()}showOverlay(e,t,i){const n=e.newAgStackInstance();this.overlayWrapperComp.showOverlay(n,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){let e=0;2===this.state?e=this.ctrlsService.get("gridHeaderCtrl")?.getHeaderHeight()||0:0!==this.wrapperPadding&&(e=0),this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},Kge=class extends ne{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return _e(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),EB(t,this.processClassesFromGridOptions(e.rowNode)),EB(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=s=>{"string"==typeof s?t.push(s):Array.isArray(s)&&s.forEach(o=>t.push(o))},n=this.gos.get("rowClass");if(n){if("function"==typeof n)return de("rowClass should not be a function, please use getRowClass instead"),[];i(n)}const r=this.gos.getCallback("getRowClass");return r&&i(r({data:e.data,node:e,rowIndex:e.rowIndex})),t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,i=>{t.push(i)},()=>{}),t}processRowClassRules(e,t,i){const n=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},qge=class extends ne{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function Qoe(){if(!document.body)return-1;let e=1e6;const t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const n=2*e;if(i.style.height=n+"px",n>t||i.clientHeight!==n)break;e=n}return document.body.removeChild(i),e}(),this.gos.get("debug")&&Ts("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&Ts(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/t)}},Yge=class extends ne{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup())}doFullSort(e,t){const n=e.map((r,s)=>({currentPos:s,rowNode:r}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(r=>r.rowNode)}compareRowNodes(e,t,i){const n=t.rowNode,r=i.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l="desc"===a.sort,c=this.getValue(n,a.column),d=this.getValue(r,a.column);let u;const h=this.getComparator(a,n);if(u=h?h(c,d,n,r,l):ooe(c,d,this.isAccentedSort),!isNaN(u)&&0!==u)return"asc"===a.sort?u:-1*u}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,n=i.getColDef().comparator;if(null!=n)return n;if(!i.getColDef().showRowGroup)return;const r=!t.group&&i.getColDef().field;if(!r)return;const s=this.columnModel.getColDefCol(r);return s?s.getColDef().comparator:void 0}getValue(e,t){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){const s=e.allLeafChildren?.[0];return s?this.valueService.getValue(t,s,!1,!1):void 0}const r=this.showRowGroupColsService?.getShowRowGroupCol(t.getId());return r?e.groupData?.[r.getId()]:void 0}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)}},gC=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const r=e.childrenAfterGroup[n];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,i):i&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},i++,t=t.parent;return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(n=>this.nodeIdsToColumns[i.id][n.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){const r=this.mapToItems[i.id],s=this.mapToItems[i.parent.id];s.children||(s.children=[]),s.children.push(r),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>i[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>!i[r.getId()])}},F4=class extends ne{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(0===this.cachedRange.length){const e=this.getRoot(),t=this.getEnd();if(null==e||null==t)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return null!==this.root&&this.getRange().some(t=>t.id===e.id)}getRoot(){return this.root&&null===this.root?.key&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&null===this.end?.key&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(0===t.length)return{keep:[],discard:[]};const i=t[0].id===this.root.id,n=t.findIndex(r=>r.id===e.id);if(n>-1){const r=t.slice(0,n),s=t.slice(n+1);return this.setEndRange(e),i?{keep:r,discard:s}:{keep:s,discard:r}}return{keep:t,discard:[]}}extend(e,t=!1){const i=this.getRoot();if(null==i){const r=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&r.push(s)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,e).find(r=>r.id===this.end?.id))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}}}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.selectionCtx.init(this.rowModel),this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.rowSelection=this.gos.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiselect(){return"multiple"===this.rowSelection}overrideSelectionValue(e,t){if(!(e=>"checkboxSelected"===e||"rowClicked"===e||"spaceKey"===e||"uiSelectAll"===e||"uiSelectAllCurrentPage"===e||"uiSelectAllFiltered"===e)(t))return e;const i=this.selectionCtx.getRoot();return!i||(i.isSelected()??!1)}setNodesSelected(e){const{newValue:t,clearSelection:i,suppressFinishActions:n,rangeSelect:r,nodes:s,event:o,source:a}=e;if(0===s.length)return 0;if(s.length>1&&!this.isMultiselect())return de("cannot multi select while rowSelection='single'"),0;const l=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,c=s.map(u=>u.footer?u.sibling:u);if(r){if(c.length>1)return de("cannot range select while selecting multiple rows"),0;const u=c[0],h=this.overrideSelectionValue(t,a);if(this.isMultiselect()){if(this.selectionCtx.isInRange(u)){const f=this.selectionCtx.truncate(u);return h&&this.selectRange(f.discard,!1,a),this.selectRange(f.keep,h,a)}if(this.selectionCtx.getRoot()!==u){const p=this.selectionCtx.extend(u,this.groupSelectsChildren);return h&&this.selectRange(p.discard,!1,a),this.selectRange(p.keep,h,a)}}}n||this.selectionCtx.setRoot(c[0]);let d=0;for(let u=0;u<c.length;u++){const h=c[u];l&&h.group||h.selectThisNode(t,o,a)&&d++,this.groupSelectsChildren&&h.childrenAfterGroup?.length&&(d+=this.selectChildren(h,t,l,a))}return n||(t&&(i||!this.isMultiselect())&&(d+=this.clearOtherNodes(c[0],a)),d>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),d}selectRange(e,t,i){let n=0;return e.forEach(r=>{r.group&&this.groupSelectsChildren||r.selectThisNode(t,void 0,i)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),n}selectChildren(e,t,i,n){const r=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return ft(r)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:n,nodes:r})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((i,n)=>{i&&e(i)&&t.set(n,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;const n=this.rowModel.getRootNode();t||(t=new gC(!0,n)).setInactive();let r=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==n){const o=s.calculateSelectedFromChildren();r=s.selectThisNode(null!==o&&o,void 0,e)||r}}),r}clearOtherNodes(e,t){const i=new Map;let n=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==e.id){const s=this.selectedNodes.get(r.id);n+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&r.parent&&i.set(r.parent.id,r.parent)}}),i.forEach(r=>{const s=r.calculateSelectedFromChildren();r.selectThisNode(null!==s&&s,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){_e(t)&&e.id!==t.id&&t&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const t=this.rowModel.getTopLevelNodes();if(null===t)return;const i=[];return function n(r){for(let s=0,o=r.length;s<o;s++){const a=r[s];a.isSelected()?i.push(a):a.group&&a.children&&n(a.children)}}(t),i}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),0===e}deselectAllRowNodes(e){const t=o=>o.selectThisNode(!1,void 0,n),i="clientSide"===this.rowModel.getType(),{source:n,justFiltered:r,justCurrentPage:s}=e;if(s||r){if(!i)return void Ft("selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(r,s).forEach(t)}else this.selectedNodes.forEach(o=>{o&&t(o)}),this.reset(n);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(e,t){let i=0,n=0;return this.getNodesToSelect(e,t).forEach(s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?i++:s.selectable&&n++)}),{selectedCount:i,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:i,notSelectedCount:n}=this.getSelectedCounts(e,t);return(0!==i||0!==n)&&(i>0&&n>0?null:i>0)}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(i=>i.selectable).length>0}getNodesToSelect(e=!1,t=!1){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const i=[];if(t)return this.forEachNodeOnPage(r=>{if(r.group)if(r.expanded)this.groupSelectsChildren||i.push(r);else{const s=o=>{i.push(o),o.childrenAfterFilter?.length&&o.childrenAfterFilter.forEach(s)};s(r)}else i.push(r)}),i;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(r=>{i.push(r)}),i):(n.forEachNode(r=>{i.push(r)}),i)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let n=t;n<=i;n++){const r=this.rowModel.getRow(n);r&&e(r)}}selectAllRowNodes(e){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:t,justFiltered:i,justCurrentPage:n}=e,r=this.getNodesToSelect(i,n);r.forEach(s=>s.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(r[0]??null),this.selectionCtx.setEndRange(St(r)??null),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t?.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return;const i=new Set(e),n=[];this.rowModel.forEachNode(r=>{i.has(r.id)&&n.push(r)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}},Xge=class extends ne{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const t=!!this.gos.get("rowSelection"),i=this.gos.get("isRowSelectable");if(!t||!i)return;const n=this.gos.get("groupSelectsChildren"),r="clientSide"===this.rowModel.getType()&&n,s=[],o=a=>{if(e&&!a.group)return;if(r&&a.group){const c=a.childrenAfterGroup.some(d=>!0===d.selectable);return void a.setRowSelectable(c,!0)}const l=!i||i(a);a.setRowSelectable(l,!0),!l&&a.isSelected()&&s.push(a)};r?new gC(!1,this.rowModel.getRootNode()).forEachChangedNodeDepthFirst(o,!0,!0):this.rowModel.forEachNode(o),s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),r&&this.selectionService instanceof F4&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},M4=["asc","desc",null],Zge=class extends ne{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,i){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,i)}setSortForColumn(e,t,i,n){"asc"!==t&&"desc"!==t&&(t=null);let s=[e];if(this.gos.isColumnsSortingCoupledToGroup()&&e.getColDef().showRowGroup){const c=this.funcColsService.getSourceColumnsForGroupColumn(e)?.filter(d=>d.isSortable());c&&(s=[e,...c])}s.forEach(l=>l.setSort(t,n));const a=[];if(!i&&!this.gos.get("alwaysMultiSort")||this.gos.get("suppressMultiSort")){const l=this.clearSortBarTheseColumns(s,n);a.push(...l)}this.updateSortIndex(e),a.push(...s),this.dispatchSortChangedEvents(n,a)}updateSortIndex(e){const t=this.gos.isColumnsSortingCoupledToGroup(),i=this.showRowGroupColsService?.getShowRowGroupCol(e.getId()),n=t&&i||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(a=>a.setSortIndex(null));const s=r.filter(a=>!(t&&a.getColDef().showRowGroup||a===n));(n.getSort()?[...s,n]:s).forEach((a,l)=>{a.setSortIndex(l)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.columnModel.getAllCols().forEach(n=>{e.includes(n)||(n.getSort()&&i.push(n),n.setSort(void 0,t))}),i}getNextSortDirection(e){let t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gos.get("sortingOrder")?this.gos.get("sortingOrder"):M4,!Array.isArray(t)||t.length<=0)return de(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort());let s;return s=i<0||i==t.length-1?t[0]:t[i+1],M4.indexOf(s)<0?(de("invalid sort type ",s),null):s}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){const s=this.gos.isColumnsSortingCoupledToGroup();e=e.filter(o=>{const a=!!o.getAggFunc(),l=!o.isPrimary(),c=s?this.showRowGroupColsService?.getShowRowGroupCol(o.getId()):o.getColDef().showRowGroup;return a||l||c})}const t=this.funcColsService.getRowGroupColumns().filter(s=>!!s.getSort()),i={};e.forEach((s,o)=>i[s.getId()]=o),e.sort((s,o)=>{const a=s.getSortIndex(),l=o.getSortIndex();return null!=a&&null!=l?a-l:null==a&&null==l?i[s.getId()]>i[o.getId()]?1:-1:null==l?-1:1});const n=this.gos.isColumnsSortingCoupledToGroup()&&!!t.length;n&&(e=[...new Set(e.map(s=>this.showRowGroupColsService?.getShowRowGroupCol(s.getId())??s))]);const r=new Map;return e.forEach((s,o)=>r.set(s,o)),n&&t.forEach(s=>{const o=this.showRowGroupColsService.getShowRowGroupCol(s.getId());r.set(s,r.get(o))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=this.gos.isColumnsSortingCoupledToGroup(),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const n=null!=e.getColDef().field||e.getColDef().valueGetter?[e,...t]:t,r=n[0].getSort();return n.every(o=>o.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},Qge=class extends ne{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const e=hr.__isRegistered("@ag-grid-enterprise/core",this.gridId);this.gos.get("debug")&&Ts(`initialised successfully, enterprise = ${e}`)}dispatchGridReadyEvent(){this.eventService.dispatchEvent({type:"gridReady"})}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns)return this.waitingForColumns=!1,void this.setColumnsAndData(t);this.columnModel.setColumnDefs(t,Hu(e.source))}}},eme=class extends ne{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gos.get("aggregateOnlyChangedColumns"),r=new gC(n,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(s=>{i.push(s)})}this.rowRenderer.refreshCells({rowNodes:i})}},tme=class extends ne{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if("string"==typeof e)return this.evaluateExpression(e,t);Ft("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return Ts("Processing of the expression failed"),Ts("Expression = ",e),Ts("Params = ",t),Ts("Exception = ",i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},ime=class extends ne{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}},nme=class extends ne{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=i=>this.callColumnCellValueChangedHandler(i),t=this.gos.useAsyncEvents();this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValue(e,t,i=!1,n=!1){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),s=r.field,o=e.getColId(),a=t.data;let l;const c=t.groupData&&void 0!==t.groupData[o],d=!n&&t.aggData&&void 0!==t.aggData[o],u=this.isSsrm&&n&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(i&&r.filterValueGetter?l=this.executeFilterValueGetter(r.filterValueGetter,a,e,t):this.isTreeData&&d?l=t.aggData[o]:this.isTreeData&&r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,e,t):this.isTreeData&&s&&a?l=yp(a,s,e.isFieldContainsDots()):c?l=t.groupData[o]:d?l=t.aggData[o]:r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,e,t):h?l=yp(a,t.field,e.isFieldContainsDots()):s&&a&&!u&&(l=yp(a,s,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof l&&0===l.indexOf("=")){const f=l.substring(1);l=this.executeValueGetter(f,a,e,t)}if(null==l){const f=this.getOpenedGroup(t,e);if(null!=f)return f}return l}parseValue(e,t,i,n){const r=e.getColDef(),s=this.gos.addGridCommonParams({node:t,data:t?.data,oldValue:n,newValue:i,colDef:r,column:e}),o=r.valueParser;return _e(o)?"function"==typeof o?o(s):this.expressionService.evaluate(o,s):i}formatValue(e,t,i,n,r=!0){let o,s=null;const a=e.getColDef();if(n?o=n:r&&(o=a.valueFormatter),o){const l=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});s="function"==typeof o?o(l):this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[i]||"";return null==s&&Array.isArray(i)&&(s=i.join(", ")),s}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let r=e.parent;for(;null!=r;){if(r.rowGroupColumn&&(!0===n||n===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,t,i,n){const r=this.columnModel.getColDefCol(t);if(!e||!r)return!1;ft(e.data)&&(e.data={});const{field:s,valueSetter:o}=r.getColDef();if(ft(s)&&ft(o))return de("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(r,i))return de("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(r,e),newValue:i,colDef:r.getColDef(),column:r});let l;return a.newValue=i,l=_e(o)?"function"==typeof o?o(a):this.expressionService.evaluate(o,a):this.setValueUsingField(e.data,s,i,r.isFieldContainsDots()),void 0===l&&(l=!0),!!l&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(r,e),this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:n}),!0)}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"==typeof t&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,n){if(!t)return!1;let r=!1;if(n){const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();0===s.length?(r=o[a]===i,r||(o[a]=i)):o=o[a]}}else r=e[t]===i,r||(e[t]=i);return!r}executeFilterValueGetter(e,t,i,n){const r=this.gos.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});return"function"==typeof e?e(r):this.expressionService.evaluate(e,r)}executeValueGetter(e,t,i,n){const r=i.getColId(),s=this.valueCache.getValue(n,r);if(void 0!==s)return s;const o=this.gos.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});let a;return a="function"==typeof e?e(o):this.expressionService.evaluate(e,o),this.valueCache.setValue(n,r,a),a}getValueCallback(e,t){const i=this.columnModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),n=e.getColDef().keyCreator;let r=i;return n&&(r=n(this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data}))),"string"==typeof r||null==r||(r=String(r),"[object Object]"===r&&de("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}},mC=class{};mC.gridOptions=void 0;var sme=1,I4=class extends ne{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}},ume={version:$e,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:function ome(e){e.expansionService.expandAll(!0)},collapseAll:function ame(e){e.expansionService.expandAll(!1)},onRowHeightChanged:function lme(e){const t=e.rowModelHelperService?.getClientSideRowModel(),i=e.rowModelHelperService?.getServerSideRowModel();t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}}},hme={version:$e,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:function cme(e,t,i){const n=e.rowModelHelperService?.getServerSideRowModel();if(n)return e.funcColsService.isRowGroupEmpty()?void n.setRowCount(t,i):void Ft("setRowCount cannot be used while using row grouping.");const r=e.rowModelHelperService?.getInfiniteRowModel();r&&r.setRowCount(t,i)},getCacheBlockState:function dme(e){return e.rowNodeBlockLoader?.getBlockState()??{}}}},fme=class{wrap(e,t,i=[],n){const r=this.createWrapper(e,n);return t.forEach(s=>{this.createMethod(r,s,!0)}),i.forEach(s=>{this.createMethod(r,s,!1)}),r}unwrap(e){return e}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&de("Framework component is missing the method "+t+"()"),null)}}},rE=class{};rE.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},rE.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],rE.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var Xu=typeof global>"u"?{}:global;Xu.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,Xu.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,Xu.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,Xu.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,Xu.Node=typeof Node>"u"?{}:Node,Xu.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var oE="32.1.0",P4={version:oE,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[class extends ne{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=ur(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Fa(this.beans),this.nodeManager=new class{constructor(e,t,i,n,r,s){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=i,this.funcColsService=n,this.beans=s,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id="ROOT_NODE_ID",this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return AB(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if("string"==typeof e)return void de("rowData must be an array.");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,i=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map(n=>this.createNode(n,this.rootNode,0)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=t.childrenAfterFilter,i.childrenAfterGroup=t.childrenAfterGroup,i.childrenAfterAggFilter=t.childrenAfterAggFilter,i.childrenAfterSort=t.childrenAfterSort,i.childrenMapped=t.childrenMapped,i.allLeafChildren=t.allLeafChildren)}updateRowData(e,t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const i={remove:[],update:[],add:[]},n=[];return this.executeRemove(e,i,n),this.executeUpdate(e,i,n),this.executeAdd(e,i),this.updateSelection(n,"rowDataChanged"),t&&function pme(e,t){if(!e)return!1;const i=(o,a)=>{const l=t[o.id],c=t[a.id],d=void 0!==l,u=void 0!==c;return d&&u?l-c:d||u?d?1:-1:o.__objectId-a.__objectId};let n,r,s=!1;for(let o=0;o<e.length-1;o++)if(n=e[o],r=e[o+1],i(n,r)>0){s=!0;break}s&&e.sort(i)}(this.rootNode.allLeafChildren,t),i}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}updateSelection(e,t){const i=e.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const{add:i,addIndex:n}=e;if(Ar(i))return;const r=i.map(o=>this.createNode(o,this.rootNode,0)),s=this.rootNode.allLeafChildren;if("number"==typeof n&&n>=0){const o=s.length;let a=n;if(this.gos.get("treeData")&&n>0&&o>0)for(let u=0;u<o;u++)if(s[u]?.rowIndex==n-1){a=u+1;break}const c=s.slice(0,a),d=s.slice(a,s.length);this.rootNode.allLeafChildren=[...c,...r,...d]}else this.rootNode.allLeafChildren=[...s,...r];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=s),t.add=r}executeRemove(e,t,i){const{remove:n}=e;if(Ar(n))return;const r={};n.forEach(s=>{const o=this.lookupRowNode(s);o&&(o.isSelected()&&i.push(o),o.clearRowTopAndRowIndex(),r[o.id]=!0,delete this.allNodesMap[o.id],t.remove.push(o))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter(s=>!r[s.id])??null,this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,t,i){const{update:n}=e;Ar(n)||n.forEach(r=>{const s=this.lookupRowNode(r);s&&(s.updateData(r),!s.selectable&&s.isSelected()&&i.push(s),this.setMasterForRow(s,r,0,!1),t.update.push(s))})}lookupRowNode(e){const t=this.gos.getRowIdCallback();let i;if(t){const n=t({data:e,level:0});if(i=this.allNodesMap[n],!i)return Ft(`could not find row id=${n}, data item was not found for this id`),null}else if(i=this.rootNode.allLeafChildren?.find(n=>n.data===e),!i)return Ft("could not find data item as object was not found",e),Ft("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,t,i){const n=new Fa(this.beans);return n.group=!1,this.setMasterForRow(n,e,i,!0),t&&(n.parent=t),n.level=i,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&de(`duplicate node id '${n.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[n.id]=n,this.nextId++,n}setMasterForRow(e,t,i,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");e.setMaster(!o||o(t))}else e.setMaster(!1);if(n){const o=this.funcColsService.getRowGroupColumns();e.expanded=!!e.master&&this.isExpanded(i+(o?o.length:0))}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return-1===t||e<t}}(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...i,...n,...n,...r,...s,...o,...a];this.addManagedPropertyListeners(l,c=>{const d=c.changeSet?.properties;if(!d)return;const u=h=>d.some(f=>h.has(f));u(e)?this.setRowData(this.rootNode.allLeafChildren.map(h=>h.data)):u(t)?this.refreshModel({step:"group"}):u(i)?this.refreshModel({step:"filter"}):u(n)?this.refreshModel({step:"pivot"}):u(r)?this.refreshModel({step:"aggregate"}):u(s)?this.refreshModel({step:"sort"}):u(o)?this.refreshModel({step:"filter_aggregates"}):u(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,n){let r,s=!1;do{r=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,i),c=Math.min(a,n);for(let d=l;d<=c;d++){const u=this.getRow(d);if(u.rowHeightEstimated){const h=this.gos.getRowHeightForNode(u);u.setRowHeight(h.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,n=this.gos.isDomLayout("normal");for(let r=0;r<this.rowsToDisplay.length;r++){const s=this.rowsToDisplay[r];if(null!=s.id&&i.add(s.id),null==s.rowHeight){const o=this.gos.getRowHeightForNode(s,n,e);s.setRowHeight(o.height,o.estimated)}s.setRowTop(t),s.setRowIndex(r),t+=s.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),n=s=>{s&&null!=s.id&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{n(s),n(s.detailNode),n(s.sibling),s.hasChildren()&&s.childrenAfterGroup&&(i&&-1!=s.level&&!s.expanded||s.childrenAfterGroup.forEach(r))};r(this.rootNode)}ensureRowsAtPixel(e,t,i=0){const n=this.getRowIndexAtPixel(t),r=this.getRow(n),s=!this.gos.get("suppressAnimationFrame");return r!==e[0]&&(e.forEach(o=>{cr(this.rootNode.allLeafChildren,o)}),e.forEach((o,a)=>{Cp(this.rootNode.allLeafChildren,o,Math.max(n+i,0)+a)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)}highlightRowAtPixel(e,t){const i=null!=t?this.getRowIndexAtPixel(t):null,n=null!=i?this.getRow(i):null;if(!n||!e||n===e||null==t)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const r=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(r),this.lastHighlightedRow=n}getHighlightPosition(e,t){if(!t){const r=this.getRowIndexAtPixel(e);if(!(t=this.getRow(r||0)))return 1}const{rowTop:i,rowHeight:n}=t;return e-i<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const i=this.rootNode.childrenAfterAggFilter;return(i?i.length:0)+(this.rootNode.sibling?1:0)}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=e;if(this.rowsToDisplay[0].footer){if(0===e)return 0;i-=1}const n=this.rowsToDisplay[this.rowsToDisplay.length-1];if(n.footer&&i>=this.rootNode.childrenAfterSort.length)return n.rowIndex;let s=this.rootNode.childrenAfterSort[i];if(this.gos.get("groupHideOpenParents"))for(;s.expanded&&s.childrenAfterSort&&s.childrenAfterSort.length>0;)s=s.childrenAfterSort[0];return s.rowIndex}getRowBounds(e){if(ft(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gos.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gos.isAnimateRows(),n=0===e.columns.length||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gos.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=Ar(e),i=new gC(!1,this.rootNode);return(t||this.gos.get("treeData"))&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||null==e.rowNodeTransactions)return!1;const t=e.rowNodeTransactions.filter(n=>null!=n.add&&n.add.length>0||null!=n.remove&&n.remove.length>0);return null==t||0==t.length}buildRefreshModelParams(e){let t="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(_e(e)&&(t=i[e]),!ft(t))return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gos.get("suppressAnimationFrame")};Ft(`invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`)}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t="object"==typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,t.rowNodeOrder,i,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=ft(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return ft(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return _e(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,n=!1;const r=[],s=this.gos.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(o=>{if(!n)if(i&&(o===t||o===e)&&(n=!0,o.group&&s))r.push(...o.allLeafChildren);else{if(!i){if(o!==t&&o!==e)return;i=!0}o.group&&s||r.push(o)}}),r}setDatasource(e){Ft("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(St(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,s=-1;for(;;){const o=Math.floor((t+i)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(i=o-1),r===t&&s===i))return o;r=t,s=i}}isRowInPixel(e,t){return e.rowTop<=t&&e.rowTop+e.rowHeight>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:i,recursionType:n,includeFooterNodes:r}=e;let{index:s}=e;const o=a=>{const l=t[0]?.parent;if(!l)return;const c=r&&this.gos.getGrandTotalRow(),d=this.gos.getGroupTotalRowCallback(),u=r&&d({node:l});l!==this.rootNode?u===a&&(l.createFooter(),i(l.sibling,s++)):c===a&&(l.createFooter(),i(l.sibling,s++))};o("top");for(let a=0;a<t.length;a++){const l=t[a];if(i(l,s++),l.hasChildren()&&!l.footer){let c=null;switch(n){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort}c&&(s=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:i,recursionType:n,index:s,includeFooterNodes:r}))}}return o("bottom"),s}doAggregate(e){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),n=r=>{r&&r.forEach(s=>{const o=()=>{s.expanded=e,n(s.childrenAfterGroup)};t?_e(s.childrenAfterGroup)&&o():i?!s.leafGroup&&o():s.group&&o()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,n){this.groupStage?(this.groupStage.execute(e?{rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:t,changedPath:i}:{rowNode:this.rootNode,changedPath:i,afterColumnsChanged:n}),this.gos.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()),this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if("string"==typeof e&&0==e.indexOf(Fa.ID_PREFIX_ROW_GROUP)){let i;return this.forEachNode(n=>{n.id===e&&(i=n)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const i=this.gos.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let i=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(n=>{const r=this.nodeManager.updateRowData(n.rowDataTransaction,void 0);t.push(r),n.callback&&e.push(n.callback.bind(null,r)),"number"==typeof n.rowDataTransaction.addIndex&&(i=!0)}),this.commonUpdateRowData(t,void 0,i),e.length>0&&window.setTimeout(()=>{e.forEach(n=>n())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const i=this.nodeManager.updateRowData(e,t);return this.commonUpdateRowData([i],t,"number"==typeof e.addIndex),i}createRowNodeOrder(){if(this.gos.get("suppressMaintainUnsortedOrder"))return;const t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let i=0;i<this.rootNode.allLeafChildren.length;i++)t[this.rootNode.allLeafChildren[i].id]=i;return t}commonUpdateRowData(e,t,i){if(!this.hasStarted)return;const n=!this.gos.get("suppressAnimationFrame");i&&(t=this.createRowNodeOrder()),this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}},class extends ne{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const i=(n,r)=>{n.childrenAfterFilter=n.hasChildren()&&e&&!r?n.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const n=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(s.childrenAfterGroup[a],c):i(l,c)}i(s,o)};t.executeFromRootNode(s=>n(s,!1))}else t.forEachChangedNodeDepthFirst(r=>i(r,!1),!0)}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},class extends ne{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),i=_e(t)&&t.length>0,n=i&&_e(e.rowNodeTransactions)&&this.gos.get("deltaSort"),r=t.some(s=>this.gos.isColumnsSortingCoupledToGroup()?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(t,i,n,e.rowNodeTransactions,e.changedPath,r)}},class extends ne{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,i=[],n=this.columnModel.isPivotMode(),r=n&&t.leafGroup,s=r?[t]:t.childrenAfterSort,o=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(o,s,i,n,0),!r&&i.length>0&&o.grandTotalRow&&(t.createFooter(),this.addRowNodeToRowsToDisplay(o,t.sibling,i,0,"top"===o.grandTotalRow)),i}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gos.isGroupMultiAutoColumn(),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:this.gos.getGrandTotalRow(),groupTotalRow:this.gos.getGroupTotalRowCallback()}}recursivelyAddToRowsToDisplay(e,t,i,n,r){if(!Ar(t))for(let s=0;s<t.length;s++){const o=t[s],a=o.hasChildren(),c=e.groupRemoveSingleChildren&&a&&1===o.childrenAfterGroup.length,d=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&1===o.childrenAfterGroup.length;if(!(n&&!a)&&!(e.hideOpenParents&&o.expanded&&!o.master&&(!n||!o.leafGroup))&&!c&&!d&&this.addRowNodeToRowsToDisplay(e,o,i,r),!n||!o.leafGroup)if(a){const g=c||d;if(o.expanded||g){const p=e.groupTotalRow({node:o});p||o.destroyFooter();const m=g?r:r+1;"top"===p&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,m)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,i,n,m),"bottom"===p&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,m))}}else if(o.master&&o.expanded){const g=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,g,i,r)}}}addRowNodeToRowsToDisplay(e,t,i,n,r){r?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(_e(e.detailNode))return e.detailNode;const t=new Fa(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,_e(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},class extends ne{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,i,n,r,s){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(h=>h.isRowGroupActive());let l={};i&&n&&(l=this.calculateDirtyNodes(n));const c=this.columnModel.isPivotMode(),d=this.gos.getCallback("postSortRows");r&&r.forEachChangedNodeDepthFirst(h=>{this.pullDownGroupDataForHideOpenParents(h.childrenAfterAggFilter,!0);const f=c&&h.leafGroup;if(o&&a&&!h.leafGroup&&!s){const m=null===this.funcColsService.getRowGroupColumns()?.[h.level+1]?.getSort(),C=h.childrenAfterAggFilter.slice(0);if(h.childrenAfterSort&&!m){const v={};h.childrenAfterSort.forEach((_,x)=>{v[_.id]=x}),C.sort((_,x)=>(v[_.id]??0)-(v[x.id]??0))}h.childrenAfterSort=C}else h.childrenAfterSort=!t||f?h.childrenAfterAggFilter.slice(0):i?this.doDeltaSort(h,l,r,e):this.rowNodeSorter.doFullSort(h.childrenAfterAggFilter,e);h.sibling&&(h.sibling.childrenAfterSort=h.childrenAfterSort),this.updateChildIndexes(h),d&&d({nodes:h.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){const t={},i=n=>{n&&n.forEach(r=>t[r.id]=!0)};return e&&e.forEach(n=>{i(n.add),i(n.update),i(n.remove)}),t}doDeltaSort(e,t,i,n){const r=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,n);const o={},a=[];r.forEach(u=>{t[u.id]||!i.canSkip(u)?a.push(u):o[u.id]=!0});const l=s.filter(u=>o[u.id]),c=(u,h)=>({currentPos:h,rowNode:u}),d=a.map(c).sort((u,h)=>this.rowNodeSorter.compareRowNodes(n,u,h));return this.mergeSortedArrays(n,d,l.map(c)).map(({rowNode:u})=>u)}mergeSortedArrays(e,t,i){const n=[];let r=0,s=0;for(;r<t.length&&s<i.length;)this.rowNodeSorter.compareRowNodes(e,t[r],i[s])<0?n.push(t[r++]):n.push(i[s++]);for(;r<t.length;)n.push(t[r++]);for(;s<i.length;)n.push(i[s++]);return n}updateChildIndexes(e){if(ft(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const n=t[i],s=i===e.childrenAfterSort.length-1;n.setFirstChild(0===i),n.setLastChild(s),n.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return de("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||ft(e)||e.forEach(i=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach(r=>{const s=r.getColDef().showRowGroup;if("string"!=typeof s)return void Ft("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const a=this.columnModel.getColDefCol(s);if(a!==i.rowGroupColumn)if(t)i.setGroupValue(r.getId(),void 0);else{const c=i.getFirstChildOfFirstChild(a);c&&i.setGroupValue(r.getId(),c.key)}})})}},class extends ne{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return!this.gos.get("resetRowDataOnUpdate")&&e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[i,n]=t;this.clientSideRowModel.updateRowData(i,n)}createTransactionForRowData(e){if(ft(this.clientSideRowModel))return void Ft("ImmutableService only works with ClientSideRowModel");const t=this.gos.getRowIdCallback();if(null==t)return void Ft("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const i={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gos.get("suppressMaintainUnsortedOrder")?void 0:{};return _e(e)&&e.forEach((o,a)=>{const l=t({data:o,level:0}),c=n[l];s&&(s[l]=a),c?(c.data!==o&&i.update.push(o),n[l]=void 0):i.add.push(o)}),Es(n,(o,a)=>{a&&i.remove.push(a.data)}),[i,s]}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}}]},Ome={version:oE,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[P4,{version:oE,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[I4],apiFunctions:{onGroupExpandedOrCollapsed:function _me(e){e.expansionService.onGroupExpandedOrCollapsed()},refreshClientSideRowModel:function yme(e,t){e.rowModelHelperService?.getClientSideRowModel()?.refreshModel(t)},forEachLeafNode:function wme(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(t)},forEachNodeAfterFilter:function bme(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(t)},forEachNodeAfterFilterAndSort:function xme(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(t)},resetRowHeights:function Sme(e){e.columnModel.isAutoRowHeightActive()?de("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height."):e.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()},applyTransaction:function Eme(e,t){return e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.updateRowData(t))},applyTransactionAsync:function Dme(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(t,i))},flushAsyncTransactions:function Tme(e){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions())},getBestCostNodeSelection:function Ame(e){return e.selectionService.getBestCostNodeSelection()}},dependantModules:[P4,ume]}]},Lme=class extends ne{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(null==e||!e.length)&&(e=this.getDefaultFileName()),-1===e.indexOf(".")?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},Nme=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:i,columnNameService:n,valueService:r,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.columnModel=t,this.funcColsService=i,this.columnNameService=n,this.valueService=r,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,n,r){const o=this.gos.get("groupHideOpenParents")&&!r.footer||!this.shouldRenderGroupSummaryCell(r,e,t)?this.valueService.getValue(e,r):this.createValueForGroupNode(e,r);return this.processCell({accumulatedRowIndex:i,rowNode:r,column:e,value:o,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,i){if(!e||!e.group)return!1;if(-1!==this.groupColumns.indexOf(t)){if(null!=e.groupData?.[t.getId()]||this.gos.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&-1===e.level){const o=t.getColDef();return null==o||!0===o.showRowGroup||o.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const s=this.gos.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===i&&s}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const i=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),r=l=>{if(i||n)return l.key;const c=l.groupData?.[e.getId()];return c&&l.rowGroupColumn&&!1!==l.rowGroupColumn.getColDef().useValueFormatterForExport?this.valueService.formatValue(l.rowGroupColumn,l,c)??c:c},s=t.footer,o=[r(t)];if(!this.gos.isGroupMultiAutoColumn())for(;t.parent;)o.push(r(t=t.parent));const a=o.reverse().join(" -> ");return s?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:i,column:n,value:r,processCellCallback:s,type:o}=e;return s?{value:s(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:i,value:r,type:o,parseValue:a=>this.valueService.parseValue(n,i,a,this.valueService.getValue(n,i)),formatValue:a=>this.valueService.formatValue(n,i,a)??a}))??""}:!1!==n.getColDef().useValueFormatterForExport?{value:r??"",valueFormatted:this.valueService.formatValue(n,i,r)}:{value:r??""}}},Bme=class{static download(e,t){const i=document.defaultView||window;if(!i)return void de("There is no `window` associated with the current `document`");const n=document.createElement("a"),r=i.URL.createObjectURL(t);n.setAttribute("href",r),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(()=>{i.URL.revokeObjectURL(r)},0)}},Vme=class extends Nme{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,n)=>{0!==n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,n){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){0!=t&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(null==e)return'""';let t;return"string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(de("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}},aE="32.1.0",L4={version:aE,moduleName:"@ag-grid-community/csv-export-core",beans:[class extends Lme{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return void de("Export cancelled. Export is not allowed as per your configuration.");const t=this.getMergedParams(e),i=this.getData(t),n=new Blob(["\ufeff",i],{type:"text/plain"}),r="function"==typeof t.fileName?t.fileName(this.gos.getGridCommonParams()):t.fileName;Bme.download(this.getFileName(r),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:i,funcColsService:n,valueService:r,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:u}=e;return new Vme({columnModel:t,columnNameService:i,funcColsService:n,valueService:r,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:u||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}},class extends ne{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){const{allColumns:i,columnKeys:n,skipRowGroups:r}=t,s=this.getColumnsToExport(i,r,n);return function foe(...e){return t=>e.reduce((i,n)=>n(i),t)}(this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t))(e).parse()}processRow(e,t,i,n){const r=t.shouldRowBeSkipped||(()=>!1),s=this.gos.get("groupRemoveSingleChildren"),o=this.gos.get("groupRemoveLowestSingleChildren"),l=null!=t.rowPositions||!!t.onlySelected,c=this.gos.get("groupHideOpenParents")&&!l,d=this.columnModel.isPivotMode()?n.leafGroup:!n.group,u=!!n.footer,h=o&&n.leafGroup;if(!d&&!u&&(t.skipRowGroups||1===n.allChildrenCount&&1===n.childrenAfterGroup?.length&&(s||h)||c)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&"top"===n.rowPinned||t.skipPinnedBottom&&"bottom"===n.rowPinned||-1===n.level&&!d&&!u||r(this.gos.addGridCommonParams({node:n})))return;const m=e.onNewBodyRow(n);if(i.forEach((C,v)=>{m.onColumn(C,v,n)}),t.getCustomContentBelowRow){const C=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));C&&e.addCustomContent(C)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const n=new HB,r=this.visibleColsService.createGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const n=i.onNewHeaderRow();t.forEach((r,s)=>{n.onColumn(r,s,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>"top"===r.rowPinned).sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("top",n),i}}processRows(e,t){return i=>{const n=this.rowModel,r=n.getType(),s="clientSide"===r,o="serverSide"===r,a=!s&&e.onlySelected,l=this.processRow.bind(this,i,e,t),{exportedRows:c="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(d=>null==d.rowPinned).sort((d,u)=>d.rowIndex-u.rowIndex).map(d=>n.getRow(d.rowIndex)).forEach(l);else if(this.columnModel.isPivotMode())s?n.forEachPivotNode(l,!0):o?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);else if(e.onlySelectedAllPages||a){const d=this.selectionService.getSelectedNodes();this.replicateSortedOrder(d),d.forEach(l)}else"all"===c?n.forEachNode(l):s||o?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);return i}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),i=(n,r)=>null!=n.rowIndex&&null!=r.rowIndex?n.rowIndex-r.rowIndex:n.level===r.level?n.parent?.id===r.parent?.id?this.rowNodeSorter.compareRowNodes(t,{rowNode:n,currentPos:n.rowIndex??-1},{rowNode:r,currentPos:r.rowIndex??-1}):i(n.parent,r.parent):n.level>r.level?i(n.parent,r):i(n,r.parent);e.sort(i)}processPinnedBottomRows(e,t){return i=>{const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>"bottom"===r.rowPinned).sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("bottom",n),i}}getColumnsToExport(e=!1,t=!1,i){const n=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getColsForKeys(i);const r=this.gos.get("treeData");let s=[];return s=e&&!n?this.columnModel.getCols():this.visibleColsService.getAllCols(),t&&!r&&(s=s.filter(o=>o.getColId()!==wp)),s}recursivelyAddHeaderGroups(e,t,i){const n=[];e.forEach(r=>{r.getChildren&&r.getChildren().forEach(o=>n.push(o))}),e.length>0&&Wi(e[0])&&this.doAddHeaderHeader(t,e,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,i)}doAddHeaderHeader(e,t,i){const n=e.onNewHeaderGroupingRow();let r=0;t.forEach(s=>{const o=s;let a;a=i?i(this.gos.addGridCommonParams({columnGroup:o})):this.columnNameService.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((c,d,u,h)=>{let f=St(c);return"open"===d.getColumnGroupShow()?(!f||null!=f[1])&&(f=[u],c.push(f)):f&&null==f[1]&&(f[1]=u-1),u===h.length-1&&f&&null==f[1]&&(f[1]=u),c},[]);n.onColumn(o,a||"",r++,o.getLeafColumns().length-1,l)})}}]},$me={version:aE,moduleName:"@ag-grid-community/csv-export",dependantModules:[L4,{version:aE,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:function Gme(e,t){return e.csvCreator?.getDataAsCsv(t)},exportDataAsCsv:function zme(e,t){e.csvCreator?.exportDataAsCsv(t)}},dependantModules:[L4]}]},Kme=function(){var e=vp(function*(t){let i=0;const n=[],r=new WritableStream({write:a=>{n.push(a),i+=a.length}}),s=new ReadableStream({start:a=>{const l=new FileReader;l.onload=c=>{c.target?.result&&a.enqueue(c.target.result),a.close()},l.readAsArrayBuffer(t)}}),o=new window.CompressionStream("deflate-raw");return yield s.pipeThrough(o).pipeTo(r),{size:i,content:new Blob(n)}});return function(i){return e.apply(this,arguments)}}(),qme=function(){var e=vp(function*(t){const i=new Blob([t]),{size:n,content:r}=yield Kme(i);return{size:n,content:new Uint8Array(yield r.arrayBuffer())}});return function(i){return e.apply(this,arguments)}}();function zn(e,t){let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}var V4=e=>e.length?(e=>{if(!e.length)return 0;let t=-1,i=0,n=0,r=0;for(let s=0;s<e.length;s++)i=e[s],n=255&(t^i),r=Zme[n],t=t>>>8^r;return-1^t})("string"==typeof e?(new TextEncoder).encode(e):e):0,Zme=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),H4=(e,t,i,n,r,s)=>{const{content:o,path:a,created:l}=e,c=(e=>{let t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t})(l),d=(e=>{let t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t})(l),u=V4(r),h=void 0!==s?s:n,f=function Eoe(e){const t=String.fromCharCode;function r(u,h){return t(u>>h&63|128)}function s(u){if(!(4294967168&u))return t(u);let h="";return 4294965248&u?4294901760&u?4292870144&u||(h=t(u>>18&7|240),h+=r(u,12),h+=r(u,6)):(function n(u){if(u>=55296&&u<=57343)throw Error("Lone surrogate U+"+u.toString(16).toUpperCase()+" is not a scalar value")}(u),h=t(u>>12&15|224),h+=r(u,6)):h=t(u>>6&31|192),h+=t(63&u|128),h}const o=function i(u){const h=[];if(!u)return[];const f=u.length;let p,m,g=0;for(;g<f;)p=u.charCodeAt(g++),p>=55296&&p<=56319&&g<f?(m=u.charCodeAt(g++),56320==(64512&m)?h.push(((1023&p)<<10)+(1023&m)+65536):(h.push(p),g--)):h.push(p);return h}(e),a=o.length;let c,l=-1,d="";for(;++l<a;)c=o[l],d+=s(c);return d}(a),g=f!==a;let p="";if(g){const _=zn(1,1)+zn(V4(f),4)+f;p="up"+zn(_.length,2)+_}const m="\x14\0"+(g?"\0\b":"\0\0")+zn(t?8:0,2)+zn(c,2)+zn(d,2)+zn(h?u:0,4)+zn(s??n,4)+zn(n,4)+zn(f.length,2)+zn(p.length,2),C="PK\x03\x04"+m+f+p,v="PK\x01\x02\x14\0"+m+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+zn(i,4)+f+p;return{localFileHeader:Uint8Array.from(C,_=>_.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(v,_=>_.charCodeAt(0))}},G4=e=>{let t;if("string"==typeof e){const i=atob(e.split(";base64,")[1]);t=Uint8Array.from(i,n=>n.charCodeAt(0))}else t=e;return{size:t.length,content:t}},Qme=function(){var e=vp(function*(t,i){const{content:n}=t,{size:r,content:s}=n?G4(n):{size:0,content:Uint8Array.from([])};let o,a,l=!1;if("file"===t.type&&s&&r>0){const u=yield qme(s);o=u.content,a=u.size,l=!0}return{...H4(t,l,i,r,s,a),content:o||s,isCompressed:l}});return function(i,n){return e.apply(this,arguments)}}(),Jme=(e,t)=>{const{content:i}=e,{content:n}=i?G4(i):{content:Uint8Array.from([])};return{...H4(e,!1,t,n.length,n,void 0),content:n,isCompressed:!1}},z4=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,t,i=!1){this.files.push({path:e,created:new Date,content:i?t:(new TextEncoder).encode(t),isBase64:i,type:"file"})}static getZipFile(e="application/zip"){var t=this;return vp(function*(){const i=yield t.buildCompressedFileStream();return t.clearStream(),new Blob([i],{type:e})})()}static getUncompressedZipFile(e="application/zip"){const t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){let t=0,i=0;for(const c of e){const{localFileHeader:d,centralDirectoryHeader:u,content:h}=c;t+=d.length+h.length,i+=u.length}const n=new Uint8Array(t),r=new Uint8Array(i);let s=0,o=0;for(const c of e){const{localFileHeader:d,centralDirectoryHeader:u,content:h}=c;n.set(d,s),s+=d.length,n.set(h,s),s+=h.length,r.set(u,o),o+=u.length}const a=((e,t,i)=>{const n="PK\x05\x06\0\0\0\0"+zn(e,2)+zn(e,2)+zn(t,4)+zn(i,4)+"\0\0";return Uint8Array.from(n,r=>r.charCodeAt(0))})(e.length,i,t),l=new Uint8Array(n.length+r.length+a.length);return l.set(n),l.set(r,n.length),l.set(a,n.length+r.length),l}static buildCompressedFileStream(){var e=this;return vp(function*(){const t=[...e.folders,...e.files],i=[];let n=0;for(const r of t){const s=yield Qme(r,n),{localFileHeader:o,content:a}=s;i.push(s),n+=o.length+a.length}return e.packageFiles(i)})()}static buildFileStream(){const e=[...this.folders,...this.files],t=[];let i=0;for(const n of e){const r=Jme(n,i),{localFileHeader:s,content:o}=r;t.push(r),i+=s.length+o.length}return this.packageFiles(t)}};z4.folders=[],z4.files=[];var tve=class extends Que{wireBeans(e){this.beans=e}constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){_e(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();ft(this.params.datasource.getRows)?de("datasource is missing getRows method"):window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach((n,r)=>{this.startRow+r<i&&e(n,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){return t||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,i=new Fa(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach((i,n)=>{const r=e.rowData?e.rowData[n]:void 0;!i.id&&i.alreadyRendered&&r&&(this.rowNodes[n]=new Fa(this.beans),this.rowNodes[n].setRowIndex(i.rowIndex),this.rowNodes[n].setRowTop(i.rowTop),this.rowNodes[n].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],r,this.startRow+n)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},nve=class extends ne{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){const i=Math.floor(e/this.params.blockSize);let n=this.blocks[i];if(!n){if(t)return;n=this.createBlock(i)}return n.getRow(e)}createBlock(e){const t=this.createBean(new tve(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){0!=this.blockCount?(this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()):this.purgeCache()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&Ts(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e);t.sort((o,a)=>a.getLastAccessed()-o.getLastAccessed());const n=this.params.maxBlocksInCache>0,r=n?this.params.maxBlocksInCache-1:null;t.forEach((o,a)=>{if("needsLoading"===o.getState()&&a>=1||n&&a>=r){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||null!=t.rowPinned)return!1;const i=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=i&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if("number"==typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(e,t){this.rowCount=e,_e(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new Uu;this.getBlocksInOrder().forEach(i=>i.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){return bl(this.blocks).sort((i,n)=>i.getId()-n.getId())}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const i=[];let n=-1,r=!1;const s=new Uu;let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(r&&n+1!==l.getId())return void(o=!0);n=l.getId(),l.forEachNode(c=>{const d=c===e||c===t;(r||d)&&i.push(c),d&&(r=!r)},s,this.rowCount)}}),o||r?[]:i}},lE="32.1.0",W4={version:lE,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[class extends ne{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.isRowModelType("infinite")&&(this.rowHeight=this.gos.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&de("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gos.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()}isSortModelDifferent(){return!_p(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){this.datasource&&(null!=this.gos.getRowIdCallback()||this.selectionService.reset("rowDataChanged"),this.resetCache())}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:this.gos.getRowHeightAsNumber(),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new Uu},this.infiniteCache=this.createBean(new nve(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}}],dependantModules:[ehe]};hr.__registerModules([T4,Ome,{version:lE,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[W4,{version:lE,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[I4],apiFunctions:{refreshInfiniteCache:function sve(e){e.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()},purgeInfiniteCache:function ove(e){e.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()},getInfiniteRowCount:function ave(e){return e.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()},isLastRowIndexKnown:function lve(e){return e.rowModelHelperService?.getInfiniteRowModel()?.isLastRowIndexKnown()}},dependantModules:[W4,hme]}]},$me],!1,void 0);let U4=(()=>{class e extends fme{setViewContainerRef(i,n){this.viewContainerRef=i,this.angularFrameworkOverrides=n}createWrapper(i){const n=this.angularFrameworkOverrides,r=this,o=new class s extends uve{init(l){n.runInsideAngular(()=>{super.init(l),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return n.runInsideAngular(()=>r.createComponent(i))}hasMethod(l){return null!=o.getFrameworkComponentInstance()[l]}callMethod(l,c){const d=this.getFrameworkComponentInstance();return n.runInsideAngular(()=>o.getFrameworkComponentInstance()[l].apply(d,c))}addMethod(l,c){o[l]=c}};return o}createComponent(i){return this.viewContainerRef.createComponent(i)}static#e=this.\u0275fac=function(){let i;return function(r){return(i||(i=Hi(e)))(r||e)}}();static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();class uve{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,uo(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let j4=(()=>{class e extends d4{constructor(i){super("angular"),this._ngZone=i,this.isRunningWithinTestZone=!1,this.wrapIncoming=(n,r)=>this.runOutside(n,r),this.wrapOutgoing=n=>this.runInsideAngular(n),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this.runOutside=this._ngZone?this.isRunningWithinTestZone?(n,r)=>"resize-observer"===r||"popupPositioning"===r?this._ngZone.runOutsideAngular(n):n():n=>this._ngZone.runOutsideAngular(n):n=>n()}get shouldWrapOutgoing(){return this._ngZone&&ze.isInAngularZone()}isFrameworkComponent(i){if(!i)return!1;const n=i.prototype;return n&&"agInit"in n}runInsideAngular(i){return this._ngZone?this._ngZone.run(i):i()}runOutsideAngular(i,n){return this.runOutside(i,n)}static#e=this.\u0275fac=function(n){return new(n||e)(W(ze))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})(),cE=(()=>{class e{constructor(i,n,r,s){this.viewContainerRef=n,this.angularFrameworkOverrides=r,this.frameworkComponentWrapper=s,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(o=>{this._resolveFullyReady=o}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new ee,this.toolPanelSizeChanged=new ee,this.columnMenuVisibleChanged=new ee,this.contextMenuVisibleChanged=new ee,this.cutStart=new ee,this.cutEnd=new ee,this.pasteStart=new ee,this.pasteEnd=new ee,this.columnVisible=new ee,this.columnPinned=new ee,this.columnResized=new ee,this.columnMoved=new ee,this.columnValueChanged=new ee,this.columnPivotModeChanged=new ee,this.columnPivotChanged=new ee,this.columnGroupOpened=new ee,this.newColumnsLoaded=new ee,this.gridColumnsChanged=new ee,this.displayedColumnsChanged=new ee,this.virtualColumnsChanged=new ee,this.columnEverythingChanged=new ee,this.columnHeaderMouseOver=new ee,this.columnHeaderMouseLeave=new ee,this.columnHeaderClicked=new ee,this.columnHeaderContextMenu=new ee,this.componentStateChanged=new ee,this.cellValueChanged=new ee,this.cellEditRequest=new ee,this.rowValueChanged=new ee,this.cellEditingStarted=new ee,this.cellEditingStopped=new ee,this.rowEditingStarted=new ee,this.rowEditingStopped=new ee,this.undoStarted=new ee,this.undoEnded=new ee,this.redoStarted=new ee,this.redoEnded=new ee,this.rangeDeleteStart=new ee,this.rangeDeleteEnd=new ee,this.fillStart=new ee,this.fillEnd=new ee,this.filterOpened=new ee,this.filterChanged=new ee,this.filterModified=new ee,this.advancedFilterBuilderVisibleChanged=new ee,this.chartCreated=new ee,this.chartRangeSelectionChanged=new ee,this.chartOptionsChanged=new ee,this.chartDestroyed=new ee,this.cellKeyDown=new ee,this.gridReady=new ee,this.firstDataRendered=new ee,this.gridSizeChanged=new ee,this.modelUpdated=new ee,this.virtualRowRemoved=new ee,this.viewportChanged=new ee,this.bodyScroll=new ee,this.bodyScrollEnd=new ee,this.dragStarted=new ee,this.dragStopped=new ee,this.stateUpdated=new ee,this.paginationChanged=new ee,this.rowDragEnter=new ee,this.rowDragMove=new ee,this.rowDragLeave=new ee,this.rowDragEnd=new ee,this.columnRowGroupChanged=new ee,this.rowGroupOpened=new ee,this.expandOrCollapseAll=new ee,this.pivotMaxColumnsExceeded=new ee,this.pinnedRowDataChanged=new ee,this.rowDataUpdated=new ee,this.asyncTransactionsFlushed=new ee,this.storeRefreshed=new ee,this.headerFocused=new ee,this.cellClicked=new ee,this.cellDoubleClicked=new ee,this.cellFocused=new ee,this.cellMouseOver=new ee,this.cellMouseOut=new ee,this.cellMouseDown=new ee,this.rowClicked=new ee,this.rowDoubleClicked=new ee,this.rowSelected=new ee,this.selectionChanged=new ee,this.cellContextMenu=new ee,this.rangeSelectionChanged=new ee,this.tooltipShow=new ee,this.tooltipHide=new ee,this.sortChanged=new ee,this._nativeElement=i.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);const i=function Ooe(e,t){"object"!=typeof e&&(e={});const i={...e};return xp.ALL_PROPERTIES_AND_CALLBACKS.forEach(r=>{const s=t[r];typeof s<"u"&&s!==xp.VUE_OMITTED_PROPERTY&&(i[r]=s)}),i}(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};const n=function rme(e,t,i){if(!t)return Ft("No gridOptions provided to createGrid"),{};const n=(new class{create(e,t,i,n,r){let s={};mC.gridOptions?(Ds(s,mC.gridOptions,!0,!0),s={...s,...t}):s=t;const o=function Lge(e){const t={};return Object.entries(e).forEach(([i,n])=>{const r=A4(i,n);t[i]=r}),t}(s),a=o.gridId??String(sme++),l=this.getRegisteredModules(r,a),c=this.createBeansList(o.rowModelType,l,a),d=this.createProvidedBeans(e,o,r);if(!c)return void Ft("Failed to create grid.");const h=new Zae({providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:xhe,beanDestroyComparator:She,derivedBeans:[phe]});return this.registerModuleUserComponents(h,l),this.registerControllers(h,l),this.registerModuleApiFunctions(h,l),i(h),h.getBean("syncService").start(),n&&n(h),h.getBean("gridApi")}registerControllers(e,t){const i=e.getBean("ctrlsFactory");t.forEach(n=>{n.controllers&&n.controllers.forEach(r=>i.register(r))})}getRegisteredModules(e,t){const i=e?e.modules:null,n=hr.__getRegisteredModules(t),r=[],s={},o=(a,l,c)=>{var u;s[(u=l).moduleName]||(s[u.moduleName]=!0,r.push(u),hr.__register(u,a,c)),l.dependantModules&&l.dependantModules.forEach(u=>o(a,u,c))};return o(!!i?.length||!hr.__isPackageBased(),T4,void 0),i&&i.forEach(a=>o(!0,a,t)),n&&n.forEach(a=>o(!hr.__isPackageBased(),a,void 0)),r}registerModuleUserComponents(e,t){const i=this.extractModuleEntity(t,r=>r.userComponents?r.userComponents:[]),n=e.getBean("userComponentRegistry");i.forEach(r=>{n.registerDefaultComponent(r.name,r.classImp)})}registerModuleApiFunctions(e,t){const i=e.getBean("apiFunctionService");t.forEach(n=>{const r=n.apiFunctions;r&&Object.keys(r).forEach(o=>{i?.addFunction(o,r[o])})})}createProvidedBeans(e,t,i){let n=i?i.frameworkOverrides:null;ft(n)&&(n=new d4);const r={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(r,i.providedBeanInstances),r}createBeansList(e="clientSide",t,i){const n=t.filter(l=>!l.rowModel||l.rowModel===e),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[e])return void Ft("Could not find row model for rowModelType = ",e);if(!hr.__assertRegistered(r[e],`rowModelType = '${e}'`,i))return;const s=[Rhe,The,Bge,Ige,fhe,kae,yhe,whe,rue,gV,qge,tue,Vge,Xue,ole,Moe,khe,Nge,che,F4,moe,wce,zge,Gge,que,tme,goe,eue,ime,nme,$ue,iue,ile,Ihe,Jde,Fhe,uhe,ihe,Qde,Zge,jge,Uge,Xge,eme,sue,ghe,Kge,Yge,Dhe,Phe,Ahe,Ehe,Qge,$ge,aue,Hge,Wge,lue,woe,mhe,boe,_oe,vhe,Che,Foe,yoe,Aoe,_he,Roe],o=this.extractModuleEntity(n,l=>l.beans?l.beans:[]);s.push(...o);const a=[];return s.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}}).create(e,t,r=>{const s=new C4(e);r.createBean(s)},void 0,i);if(!Object.isFrozen(t)&&!i?.frameworkOverrides){const r="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:()=>{Ft(`gridOptions.api is no longer supported. See ${r}.`)},configurable:!0})}return n}(this._nativeElement,i,this.gridParams);n&&(this.api=n),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(i){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{const n={};Object.entries(i).forEach(([r,s])=>{n[r]=s.currentValue}),function Loe(e,t){if(!e)return;const i={};let n=!1;if(Object.keys(e).filter(o=>xp.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{i[o]=e[o],n=!0}),!n)return;t.dispatchEvent({type:"gridOptionsChanged",options:i});const s={type:"componentStateChanged"};Es(i,(o,a)=>{s[o]=a}),t.dispatchEvent(s)}(n,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(i){const r=this[i],s=r?.observed??r?.observers?.length>0,o=`on${i.charAt(0).toUpperCase()}${i.substring(1)}`;return s||!!this.gridOptions&&!!this.gridOptions[o]}globalEventListener(i,n){if(this._destroyed)return;const r=this[i];if(r&&this.isEmitterUsed(i)){const s=()=>this.angularFrameworkOverrides.runInsideAngular(()=>r.emit(n));this._holdEvents?this._fullyReady.then(()=>s()):s()}}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(Sr),E(j4),E(U4))};static#t=this.\u0275cmp=et({type:e,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipShowMode:"tooltipShowMode",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:"applyQuickFilterBeforePivotOrAgg",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:"suppressAdvancedFilterEval",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",loading:"loading",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",suppressServerSideFullWidthLoadingRow:"suppressServerSideFullWidthLoadingRow",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},standalone:!0,features:[Rt([j4,U4]),Si,Ff],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return e})(),hve=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({})}return e})();const $4=["toast-component",""];function fve(e,t){if(1&e){const i=Fi();y(0,"button",5),ye("click",function(){return Dt(i),Tt(Se().remove())}),y(1,"span",6),F(2,"\xd7"),w()()}}function pve(e,t){if(1&e&&(hu(0),F(1),fu()),2&e){const i=Se(2);L(1),Xe("[",i.duplicatesCount+1,"]")}}function gve(e,t){if(1&e&&(y(0,"div"),F(1),xe(2,pve,2,1,"ng-container",4),w()),2&e){const i=Se();Po(i.options.titleClass),At("aria-label",i.title),L(1),Xe(" ",i.title," "),L(1),U("ngIf",i.duplicatesCount)}}function mve(e,t){if(1&e&&ie(0,"div",7),2&e){const i=Se();Po(i.options.messageClass),U("innerHTML",i.message,Lm)}}function vve(e,t){if(1&e&&(y(0,"div",8),F(1),w()),2&e){const i=Se();Po(i.options.messageClass),At("aria-label",i.message),L(1),Xe(" ",i.message," ")}}function Cve(e,t){if(1&e&&(y(0,"div"),ie(1,"div",9),w()),2&e){const i=Se();L(1),Kr("width",i.width()+"%")}}class Eve{_attachedHost;component;viewContainerRef;injector;constructor(t,i){this.component=t,this.injector=i}attach(t,i){return this._attachedHost=t,t.attach(this,i)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Dve{_attachedPortal;_disposeFn;attach(t,i){return this._attachedPortal=t,this.attachComponentPortal(t,i)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class Tve{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new We;_activate=new We;_manualClose=new We;_resetTimeout=new We;_countDuplicate=new We;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,i){t&&this._resetTimeout.next(),i&&this._countDuplicate.next(++this.duplicatesCount)}}class CC{toastId;config;message;title;toastType;toastRef;_onTap=new We;_onAction=new We;constructor(t,i,n,r,s,o){this.toastId=t,this.config=i,this.message=n,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const q4=new ge("ToastConfig");class Ave extends Dve{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,i,n){super(),this._hostDomElement=t,this._componentFactoryResolver=i,this._appRef=n}attachComponentPortal(t,i){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),i?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Rve=(()=>{class e{_document=De(rt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i=this._document.createElement("div");i.classList.add("overlay-container"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),this._containerElement=i}static \u0275fac=function(n){return new(n||e)};static \u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Fve{_portalHost;constructor(t){this._portalHost=t}attach(t,i=!0){return this._portalHost.attach(t,i)}detach(){return this._portalHost.detach()}}let Mve=(()=>{class e{_overlayContainer=De(Rve);_componentFactoryResolver=De(uc);_appRef=De(No);_document=De(rt);_paneElements=new Map;create(i,n){return this._createOverlayRef(this.getPaneElement(i,n))}getPaneElement(i="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[i]||(this._paneElements.get(n)[i]=this._createPaneElement(i,n)),this._paneElements.get(n)[i]}_createPaneElement(i,n){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(i),r.classList.add("toast-container"),n?n.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(i){return new Ave(i,this._componentFactoryResolver,this._appRef)}_createOverlayRef(i){return new Fve(this._createPortalHost(i))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ma=(()=>{class e{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(i,n,r,s,o){this.overlay=n,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...i.default,...i.config},i.config.iconClasses&&(this.toastrConfig.iconClasses={...i.default.iconClasses,...i.config.iconClasses})}show(i,n,r={},s=""){return this._preBuildNotification(s,i,n,this.applyConfig(r))}success(i,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",i,n,this.applyConfig(r))}error(i,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",i,n,this.applyConfig(r))}info(i,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",i,n,this.applyConfig(r))}warning(i,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",i,n,this.applyConfig(r))}clear(i){for(const n of this.toasts)if(void 0!==i){if(n.toastId===i)return void n.toastRef.manualClose()}else n.toastRef.manualClose()}remove(i){const n=this._findToast(i);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(i="",n="",r,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===i)&&a.message===n)return a.toastRef.onDuplicate(r,s),a;return null}applyConfig(i={}){return{...this.toastrConfig,...i}}_findToast(i){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===i)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(i,n,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(i,n,r,s)):this._buildNotification(i,n,r,s)}_buildNotification(i,n,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(r,n,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||n)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=n;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=n;n&&s.enableHtml&&(c=this.sanitizer.sanitize(Ur.HTML,n));const d=new Tve(l),u=new CC(this.index,s,c,r,i,d),f=ti.create({providers:[{provide:CC,useValue:u}],parent:this._injector}),g=new Eve(s.toastComponent,f),p=l.attach(g,s.newestOnTop);d.componentInstance=p.instance;const m={toastId:this.index,title:r||"",message:n||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:p};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{m.toastRef.activate()})),this.toasts.push(m),m}static \u0275fac=function(n){return new(n||e)(W(q4),W(Mve),W(ti),W(xx),W(ze))};static \u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const kve={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class e{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=lm(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(i,n,r){this.toastrService=i,this.toastPackage=n,this.ngZone=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=lm({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(i=>({...i,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const i=(new Date).getTime();this.width.set((this.hideTime-i)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(i=>({...i,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(i=>({...i,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(i,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(i),n)):this.timeout=setTimeout(()=>i(),n)}outsideInterval(i,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(i),n)):this.intervalId=setInterval(()=>i(),n)}runInsideAngular(i){this.ngZone?this.ngZone.run(()=>i()):i()}static \u0275fac=function(n){return new(n||e)(E(Ma),E(CC),E(ze))};static \u0275cmp=et({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){1&n&&ye("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&n&&(Sf("@flyInOut",r._state),Po(r.toastClasses),Kr("display",r.displayStyle))},standalone:!0,features:[Ff],attrs:$4,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){1&n&&(xe(0,fve,3,0,"button",0),xe(1,gve,3,5,"div",1),xe(2,mve,1,3,"div",2),xe(3,vve,2,4,"div",3),xe(4,Cve,2,2,"div",4)),2&n&&(U("ngIf",r.options.closeButton),L(1),U("ngIf",r.title),L(1),U("ngIf",r.message&&r.options.enableHtml),L(1),U("ngIf",r.message&&!r.options.enableHtml),L(1),U("ngIf",r.options.progressBar))},dependencies:[Dr],encapsulation:2,data:{animation:[ao("flyInOut",[Tr("inactive",Bt({opacity:0})),Tr("active",Bt({opacity:1})),Tr("removed",Bt({opacity:0})),Xi("inactive => active",hn("{{ easeTime }}ms {{ easing }}")),Xi("active => removed",hn("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return e})()},Ive=(e={})=>Nm([{provide:q4,useValue:{default:kve,config:e}}]);let Pve=(()=>{class e{static forRoot(i={}){return{ngModule:e,providers:[Ive(i)]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=vt({type:e});static \u0275inj=gt({})}return e})();const Ove=["*"],Hve=new ge("MAT_CARD_CONFIG");let dE=(()=>{class e{constructor(i){this.appearance=i?.appearance||"raised"}static#e=this.\u0275fac=function(n){return new(n||e)(E(Hve,8))};static#t=this.\u0275cmp=et({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){2&n&&si("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Ove,decls:1,vars:0,template:function(n,r){1&n&&(ys(),li(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return e})(),Gve=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[fn,ba,fn]})}return e})();function _C(e){return new ui(t=>{Pn(e()).subscribe(t)})}function zve(e,t){}class yC{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Y4=(()=>{class e extends F0{constructor(i,n,r,s,o,a,l,c){super(),this._elementRef=i,this._focusTrapFactory=n,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const u=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),u},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),n}attachTemplatePortal(i){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,n){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{i.removeEventListener("blur",r),i.removeEventListener("mousedown",r),i.removeAttribute("tabindex")};i.addEventListener("blur",r),i.addEventListener("mousedown",r)})),i.focus(n)}_focusByCssSelector(i,n){let r=this._elementRef.nativeElement.querySelector(i);r&&this._forceFocus(r,n)}_trapFocus(){const i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const i=this._config.restoreFocus;let n=null;if("string"==typeof i?n=this._document.querySelector(i):"boolean"==typeof i?n=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(n=i),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=ip(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const i=this._elementRef.nativeElement,n=ip();return i===n||i.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ip())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(E0),E(rt,8),E(yC),E(S0),E(ze),E(dp),E(ap))};static#t=this.\u0275cmp=et({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&qi(Ic,7),2&n){let s;jt(s=$t())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&At("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[tt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&xe(0,zve,0,0,"ng-template",0)},dependencies:[Ic],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return e})();class uE{constructor(t,i){this.overlayRef=t,this.config=i,this.closed=new We,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!vl(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==i.closeOnOverlayDetachments&&this.close()})}close(t,i){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const X4=new ge("DialogScrollStrategy"),Wve=new ge("DialogData"),Uve=new ge("DefaultDialogConfig"),$ve={provide:X4,deps:[co],useFactory:function jve(e){return()=>e.scrollStrategies.block()}};let Kve=0,Z4=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,n,r,s,o,a){this._overlay=i,this._injector=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new We,this._afterOpenedAtThisLevel=new We,this._ariaHiddenElements=new Map,this.afterAllClosed=_C(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Fc(void 0))),this._scrollStrategy=a}open(i,n){(n={...this._defaultOptions||new yC,...n}).id=n.id||"cdk-dialog-"+Kve++,n.id&&this.getDialogById(n.id);const s=this._getOverlayConfig(n),o=this._overlay.create(s),a=new uE(o,n),l=this._attachContainer(o,a,n);return a.containerInstance=l,this._attachDialogContent(i,a,l,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){hE(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){hE(this._openDialogsAtThisLevel,i=>{!1===i.config.closeOnDestroy&&this._removeOpenDialog(i,!1)}),hE(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){const n=new M0({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(n.backdropClass=i.backdropClass),n}_attachContainer(i,n,r){const s=r.injector||r.viewContainerRef?.injector,o=[{provide:yC,useValue:r},{provide:uE,useValue:n},{provide:dp,useValue:i}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,o.push(...r.container.providers(r))):a=Y4;const l=new kc(a,r.viewContainerRef,ti.create({parent:s||this._injector,providers:o}),r.componentFactoryResolver);return i.attach(l).instance}_attachDialogContent(i,n,r,s){if(i instanceof io){const o=this._createInjector(s,n,r,void 0);let a={$implicit:s.data,dialogRef:n};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new IS(i,null,a,o))}else{const o=this._createInjector(s,n,r,this._injector),a=r.attachComponentPortal(new kc(i,s.viewContainerRef,o,s.componentFactoryResolver));n.componentRef=a,n.componentInstance=a.instance}}_createInjector(i,n,r,s){const o=i.injector||i.viewContainerRef?.injector,a=[{provide:Wve,useValue:i.data},{provide:uE,useValue:n}];return i.providers&&("function"==typeof i.providers?a.push(...i.providers(n,i,r)):a.push(...i.providers)),i.direction&&(!o||!o.get(Ea,null,{optional:!0}))&&a.push({provide:Ea,useValue:{value:i.direction,change:Ue()}}),ti.create({parent:o||s,providers:a})}_removeOpenDialog(i,n){const r=this.openDialogs.indexOf(i);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const i=this._overlayContainer.getContainerElement();if(i.parentElement){const n=i.parentElement.children;for(let r=n.length-1;r>-1;r--){const s=n[r];s!==i&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(n){return new(n||e)(W(co),W(ti),W(Uve,8),W(e,12),W(k0),W(X4))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();function hE(e,t){let i=e.length;for(;i--;)t(e[i])}let qve=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({providers:[Z4,$ve],imports:[up,Ou,hN,Ou]})}return e})();function Yve(e,t){}class wC{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const fE="mdc-dialog--open",Q4="mdc-dialog--opening",J4="mdc-dialog--closing";let Qve=(()=>{class e extends Y4{constructor(i,n,r,s,o,a,l,c){super(i,n,r,s,o,a,l,c),this._animationStateChanged=new ee}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(E0),E(rt,8),E(wC),E(S0),E(ze),E(dp),E(ap))};static#t=this.\u0275cmp=et({type:e,selectors:[["ng-component"]],features:[tt],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return e})();const e3="--mat-dialog-transition-duration";function t3(e){return null==e?null:"number"==typeof e?e:e.endsWith("ms")?YL(e.substring(0,e.length-2)):e.endsWith("s")?1e3*YL(e.substring(0,e.length-1)):"0"===e?0:null}let Jve=(()=>{class e extends Qve{constructor(i,n,r,s,o,a,l,c,d){super(i,n,r,s,o,a,l,d),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?t3(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?t3(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(e3,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Q4,fE)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(fE),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(fE),this._animationsEnabled?(this._hostElement.style.setProperty(e3,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(J4)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Q4,J4)}_waitForAnimationToComplete(i,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(i):i()})}static#e=this.\u0275fac=function(n){return new(n||e)(E(ct),E(E0),E(rt,8),E(wC),E(S0),E(ze),E(dp),E(Ro,8),E(ap))};static#t=this.\u0275cmp=et({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(n,r){2&n&&(Ca("id",r._config.id),At("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),si("_mat-animation-noopable",!r._animationsEnabled))},features:[tt],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(y(0,"div",0)(1,"div",1),xe(2,Yve,0,0,"ng-template",2),w()())},dependencies:[Ic],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return e})();class pE{constructor(t,i,n){this._ref=t,this._containerInstance=n,this._afterOpened=new We,this._beforeClosed=new We,this._state=0,this.disableClose=i.disableClose,this.id=t.id,n._animationStateChanged.pipe(un(r=>"opened"===r.state),gn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(un(r=>"closed"===r.state),gn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ja(this.backdropClick(),this.keydownEvents().pipe(un(r=>27===r.keyCode&&!this.disableClose&&!vl(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function e0e(e,t,i){e._closeInteractionType=t,e.close(i)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(un(i=>"closing"===i.state),gn(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const n3=new ge("MatMdcDialogData"),t0e=new ge("mat-mdc-dialog-default-options"),r3=new ge("mat-mdc-dialog-scroll-strategy"),n0e={provide:r3,deps:[co],useFactory:function i0e(e){return()=>e.scrollStrategies.block()}};let r0e=0,s0e=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,n,r,s,o,a,l,c,d,u){this._overlay=i,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new We,this._afterOpenedAtThisLevel=new We,this._idPrefix="mat-dialog-",this.dialogConfigClass=wC,this.afterAllClosed=_C(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Fc(void 0))),this._scrollStrategy=a,this._dialog=n.get(Z4)}open(i,n){let r;(n={...this._defaultOptions||new wC,...n}).id=n.id||`${this._idPrefix}${r0e++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(i,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:yC,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(o,a,l)=>(r=new this._dialogRefConstructor(o,n,l),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let n=i.length;for(;n--;)i[n].close()}static#e=this.\u0275fac=function(n){hf()};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})(),gE=(()=>{class e extends s0e{constructor(i,n,r,s,o,a,l,c){super(i,n,s,a,l,o,pE,Jve,n3,c),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(n){return new(n||e)(W(co),W(ti),W(Lf,8),W(t0e,8),W(r3),W(e,12),W(k0),W(Ro,8))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})(),o0e=0,a0e=(()=>{class e{constructor(i,n,r){this._dialogRef=i,this._elementRef=n,this._dialog=r,this.id="mat-mdc-dialog-title-"+o0e++}ngOnInit(){this._dialogRef||(this._dialogRef=function d0e(e,t){let i=e.nativeElement.parentElement;for(;i&&!i.classList.contains("mat-mdc-dialog-container");)i=i.parentElement;return i?t.find(n=>n.id===i.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const i=this._dialogRef?._containerInstance?._ariaLabelledByQueue;i&&Promise.resolve().then(()=>{const n=i.indexOf(this.id);n>-1&&i.splice(n,1)})}static#e=this.\u0275fac=function(n){return new(n||e)(E(pE,8),E(ct),E(gE))};static#t=this.\u0275dir=Me({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,r){2&n&&Ca("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return e})(),l0e=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return e})(),c0e=(()=>{class e{constructor(){this.align="start"}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(n,r){2&n&&si("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}})}return e})(),u0e=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({providers:[gE,n0e],imports:[qve,up,Ou,fn,fn]})}return e})();function h0e(e,t){if(1&e){const i=Fi();y(0,"div",2)(1,"button",3),ye("click",function(){return Dt(i),Tt(Se().action())}),F(2),w()()}if(2&e){const i=Se();L(2),Xe(" ",i.data.action," ")}}const f0e=["label"];function p0e(e,t){}const g0e=Math.pow(2,31)-1;class mE{constructor(t,i){this._overlayRef=i,this._afterDismissed=new We,this._afterOpened=new We,this._onAction=new We,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,g0e))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const o3=new ge("MatSnackBarData");class bC{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let m0e=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return e})(),v0e=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return e})(),C0e=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return e})(),_0e=(()=>{class e{constructor(i,n){this.snackBarRef=i,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(n){return new(n||e)(E(mE),E(o3))};static#t=this.\u0275cmp=et({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){1&n&&(y(0,"div",0),F(1),w(),xe(2,h0e,3,1,"div",1)),2&n&&(L(1),Xe(" ",r.data.message,"\n"),L(1),U("ngIf",r.hasAction))},dependencies:[Dr,BS,m0e,v0e,C0e],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return e})();const y0e={snackBarState:ao("state",[Tr("void, hidden",Bt({transform:"scale(0.8)",opacity:0})),Tr("visible",Bt({transform:"scale(1)",opacity:1})),Xi("* => visible",hn("150ms cubic-bezier(0, 0, 0.2, 1)")),Xi("* => void, * => hidden",hn("75ms cubic-bezier(0.4, 0.0, 1, 1)",Bt({opacity:0})))])};let w0e=0,b0e=(()=>{class e extends F0{constructor(i,n,r,s,o){super(),this._ngZone=i,this._elementRef=n,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=De(rt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new We,this._onExit=new We,this._onEnter=new We,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+w0e++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(i){this._assertNotAttached();const n=this._portalOutlet.attachComponentPortal(i);return this._afterPortalAttached(),n}attachTemplatePortal(i){this._assertNotAttached();const n=this._portalOutlet.attachTemplatePortal(i);return this._afterPortalAttached(),n}onAnimationEnd(i){const{fromState:n,toState:r}=i;if(("void"===r&&"void"!==n||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(gn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const i=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(r=>i.classList.add(r)):i.classList.add(n)),this._exposeToModals()}_exposeToModals(){const i=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(i)&&s.setAttribute("aria-owns",o+" "+i):s.setAttribute("aria-owns",i)}}_clearFromModals(){this._trackedModals.forEach(i=>{const n=i.getAttribute("aria-owns");if(n){const r=n.replace(this._liveElementId,"").trim();r.length>0?i.setAttribute("aria-owns",r):i.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(i&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(r=document.activeElement),i.removeAttribute("aria-hidden"),n.appendChild(i),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(n){return new(n||e)(E(ze),E(ct),E(Bn),E(Zi),E(bC))};static#t=this.\u0275dir=Me({type:e,viewQuery:function(n,r){if(1&n&&qi(Ic,7),2&n){let s;jt(s=$t())&&(r._portalOutlet=s.first)}},features:[tt]})}return e})(),x0e=(()=>{class e extends b0e{_afterPortalAttached(){super._afterPortalAttached();const i=this._label.nativeElement,n="mdc-snackbar__label";i.classList.toggle(n,!i.querySelector(`.${n}`))}static#e=this.\u0275fac=function(){let i;return function(r){return(i||(i=Hi(e)))(r||e)}}();static#t=this.\u0275cmp=et({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(1&n&&qi(f0e,7),2&n){let s;jt(s=$t())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(n,r){1&n&&sv("@state.done",function(o){return r.onAnimationEnd(o)}),2&n&&Sf("@state",r._animationState)},features:[tt],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(y(0,"div",0)(1,"div",1,2)(3,"div",3),xe(4,p0e,0,0,"ng-template",4),w(),ie(5,"div"),w()()),2&n&&(L(5),At("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Ic],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[y0e.snackBarState]}})}return e})(),a3=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[up,Ou,ba,jN,fn,fn]})}return e})();const l3=new ge("mat-snack-bar-default-options",{providedIn:"root",factory:function S0e(){return new bC}});let E0e=(()=>{class e{get _openedSnackBarRef(){const i=this._parentSnackBar;return i?i._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(i){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=i:this._snackBarRefAtThisLevel=i}constructor(i,n,r,s,o,a){this._overlay=i,this._live=n,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(i,n){return this._attach(i,n)}openFromTemplate(i,n){return this._attach(i,n)}open(i,n="",r){const s={...this._defaultConfig,...r};return s.data={message:i,action:n},s.announcementMessage===i&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(i,n){const s=ti.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:bC,useValue:n}]}),o=new kc(this.snackBarContainerComponent,n.viewContainerRef,s),a=i.attach(o);return a.instance.snackBarConfig=n,a.instance}_attach(i,n){const r={...new bC,...this._defaultConfig,...n},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new mE(o,s);if(i instanceof io){const l=new IS(i,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new kc(i,void 0,l),d=o.attachComponentPortal(c);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(zo(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(i,n){i.afterDismissed().subscribe(()=>{this._openedSnackBarRef==i&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{i.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):i.containerInstance.enter(),n.duration&&n.duration>0&&i.afterOpened().subscribe(()=>i._dismissAfter(n.duration))}_createOverlay(i){const n=new M0;n.direction=i.direction;let r=this._overlay.position().global();const s="rtl"===i.direction,o="left"===i.horizontalPosition||"start"===i.horizontalPosition&&!s||"end"===i.horizontalPosition&&s,a=!o&&"center"!==i.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===i.verticalPosition?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(i,n){return ti.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:mE,useValue:n},{provide:o3,useValue:i.data}]})}static#e=this.\u0275fac=function(n){return new(n||e)(W(co),W(aN),W(ti),W(AS),W(e,12),W(l3))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})(),vE=(()=>{class e extends E0e{constructor(i,n,r,s,o,a){super(i,n,r,s,o,a),this.simpleSnackBarComponent=_0e,this.snackBarContainerComponent=x0e,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(n){return new(n||e)(W(co),W(aN),W(ti),W(AS),W(e,12),W(l3))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:a3})}return e})();const xC=Ql(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Lp(e,t){const i=wt(e)?e:()=>e,n=r=>r.error(i());return new ui(t?r=>t.schedule(n,0,r):n)}function CE(){return Ai((e,t)=>{let i=null;e._refCount++;const n=wi(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(i=null);const r=e._connection,s=i;i=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(i=e.connect())})}class c3 extends ui{constructor(t,i){super(),this.source=t,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,UT(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Wt;const i=this.getSubject();t.add(this.source.subscribe(wi(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Wt.EMPTY)}return t}refCount(){return CE()(this)}}function SC(e){return Ai((t,i)=>{let n=!1;t.subscribe(wi(i,r=>{n=!0,i.next(r)},()=>{n||i.next(e),i.complete()}))})}function d3(e=T0e){return Ai((t,i)=>{let n=!1;t.subscribe(wi(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(e())))})}function T0e(){return new xC}function jc(e,t){const i=arguments.length>=2;return n=>n.pipe(e?un((r,s)=>e(r,s,n)):Wa,gn(1),i?SC(t):d3(()=>new xC))}function vn(e,t,i){const n=wt(e)||t||i?{next:e,error:t,complete:i}:e;return n?Ai((r,s)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let a=!0;r.subscribe(wi(s,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),s.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),s.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),s.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):Wa}function $c(e){return Ai((t,i)=>{let s,n=null,r=!1;n=t.subscribe(wi(i,void 0,void 0,o=>{s=Pn(e(o,$c(e)(t))),n?(n.unsubscribe(),n=null,s.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(i))})}function _E(e){return e<=0?()=>qs:Ai((t,i)=>{let n=[];t.subscribe(wi(i,r=>{n.push(r),e<n.length&&n.shift()},()=>{for(const r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function u3(e){return Nt(()=>e)}const dt="primary",Np=Symbol("RouteTitle");class M0e{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){const i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Zu(e){return new M0e(e)}function k0e(e,t,i){const n=i.path.split("/");if(n.length>e.length||"full"===i.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const r={};for(let s=0;s<n.length;s++){const o=n[s],a=e[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function Ko(e,t){const i=e?Object.keys(e):void 0,n=t?Object.keys(t):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!h3(e[r],t[r]))return!1;return!0}function h3(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const i=[...e].sort(),n=[...t].sort();return i.every((r,s)=>n[s]===r)}return e===t}function f3(e){return e.length>0?e[e.length-1]:null}function Al(e){return function D0e(e){return!!e&&(e instanceof ui||wt(e.lift)&&wt(e.subscribe))}(e)?e:bf(e)?on(Promise.resolve(e)):Ue(e)}const P0e={exact:function m3(e,t,i){if(!Kc(e.segments,t.segments)||!EC(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!m3(e.children[n],t.children[n],i))return!1;return!0},subset:v3},p3={exact:function O0e(e,t){return Ko(e,t)},subset:function L0e(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>h3(e[i],t[i]))},ignored:()=>!0};function g3(e,t,i){return P0e[i.paths](e.root,t.root,i.matrixParams)&&p3[i.queryParams](e.queryParams,t.queryParams)&&!("exact"===i.fragment&&e.fragment!==t.fragment)}function v3(e,t,i){return C3(e,t,t.segments,i)}function C3(e,t,i,n){if(e.segments.length>i.length){const r=e.segments.slice(0,i.length);return!(!Kc(r,i)||t.hasChildren()||!EC(r,i,n))}if(e.segments.length===i.length){if(!Kc(e.segments,i)||!EC(e.segments,i,n))return!1;for(const r in t.children)if(!e.children[r]||!v3(e.children[r],t.children[r],n))return!1;return!0}{const r=i.slice(0,e.segments.length),s=i.slice(e.segments.length);return!!(Kc(e.segments,r)&&EC(e.segments,r,n)&&e.children[dt])&&C3(e.children[dt],t,s,n)}}function EC(e,t,i){return t.every((n,r)=>p3[i](e[r].parameters,n.parameters))}class Qu{constructor(t=new ii([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zu(this.queryParams)),this._queryParamMap}toString(){return V0e.serialize(this)}}class ii{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return DC(this)}}class Bp{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Zu(this.parameters)),this._parameterMap}toString(){return w3(this)}}function Kc(e,t){return e.length===t.length&&e.every((i,n)=>i.path===t[n].path)}let Vp=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:function(){return new yE},providedIn:"root"})}return e})();class yE{parse(t){const i=new X0e(t);return new Qu(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){const i=`/${Hp(t.root,!0)}`,n=function z0e(e){const t=Object.keys(e).map(i=>{const n=e[i];return Array.isArray(n)?n.map(r=>`${TC(i)}=${TC(r)}`).join("&"):`${TC(i)}=${TC(n)}`}).filter(i=>!!i);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${i}${n}${"string"==typeof t.fragment?`#${function H0e(e){return encodeURI(e)}(t.fragment)}`:""}`}}const V0e=new yE;function DC(e){return e.segments.map(t=>w3(t)).join("/")}function Hp(e,t){if(!e.hasChildren())return DC(e);if(t){const i=e.children[dt]?Hp(e.children[dt],!1):"",n=[];return Object.entries(e.children).forEach(([r,s])=>{r!==dt&&n.push(`${r}:${Hp(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}{const i=function B0e(e,t){let i=[];return Object.entries(e.children).forEach(([n,r])=>{n===dt&&(i=i.concat(t(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==dt&&(i=i.concat(t(r,n)))}),i}(e,(n,r)=>r===dt?[Hp(e.children[dt],!1)]:[`${r}:${Hp(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[dt]?`${DC(e)}/${i[0]}`:`${DC(e)}/(${i.join("//")})`}}function _3(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function TC(e){return _3(e).replace(/%3B/gi,";")}function wE(e){return _3(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function AC(e){return decodeURIComponent(e)}function y3(e){return AC(e.replace(/\+/g,"%20"))}function w3(e){return`${wE(e.path)}${function G0e(e){return Object.keys(e).map(t=>`;${wE(t)}=${wE(e[t])}`).join("")}(e.parameters)}`}const W0e=/^[^\/()?;#]+/;function bE(e){const t=e.match(W0e);return t?t[0]:""}const U0e=/^[^\/()?;=#]+/,$0e=/^[^=?&#]+/,q0e=/^[^&#]+/;class X0e{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ii([],{}):new ii([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[dt]=new ii(t,i)),n}parseSegment(){const t=bE(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(t),new Bp(AC(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const i=function j0e(e){const t=e.match(U0e);return t?t[0]:""}(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){const r=bE(this.remaining);r&&(n=r,this.capture(n))}t[AC(i)]=AC(n)}parseQueryParam(t){const i=function K0e(e){const t=e.match($0e);return t?t[0]:""}(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){const o=function Y0e(e){const t=e.match(q0e);return t?t[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const r=y3(i),s=y3(n);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=bE(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new re(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=dt);const o=this.parseChildren();i[s]=1===Object.keys(o).length?o[dt]:new ii([],o),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new re(4011,!1)}}function b3(e){return e.segments.length>0?new ii([],{[dt]:e}):e}function x3(e){const t={};for(const n of Object.keys(e.children)){const s=x3(e.children[n]);if(n===dt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}return function Z0e(e){if(1===e.numberOfChildren&&e.children[dt]){const t=e.children[dt];return new ii(e.segments.concat(t.segments),t.children)}return e}(new ii(e.segments,t))}function qc(e){return e instanceof Qu}function S3(e){let t;const r=b3(function i(s){const o={};for(const l of s.children){const c=i(l);o[l.outlet]=c}const a=new ii(s.url,o);return s===e&&(t=a),a}(e.root));return t??r}function E3(e,t,i,n){let r=e;for(;r.parent;)r=r.parent;if(0===t.length)return xE(r,r,r,i,n);const s=function J0e(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new T3(!0,0,e);let t=0,i=!1;const n=e.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?i=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new T3(i,t,n)}(t);if(s.toRoot())return xE(r,r,new ii([],{}),i,n);const o=function eCe(e,t,i){if(e.isAbsolute)return new FC(t,!0,0);if(!i)return new FC(t,!1,NaN);if(null===i.parent)return new FC(i,!0,0);const n=RC(e.commands[0])?0:1;return function tCe(e,t,i){let n=e,r=t,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new re(4005,!1);r=n.segments.length}return new FC(n,!1,r-s)}(i,i.segments.length-1+n,e.numberOfDoubleDots)}(s,r,e),a=o.processChildren?zp(o.segmentGroup,o.index,s.commands):A3(o.segmentGroup,o.index,s.commands);return xE(r,o.segmentGroup,a,i,n)}function RC(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Gp(e){return"object"==typeof e&&null!=e&&e.outlets}function xE(e,t,i,n,r){let o,s={};n&&Object.entries(n).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),o=e===t?i:D3(e,t,i);const a=b3(x3(o));return new Qu(a,s,r)}function D3(e,t,i){const n={};return Object.entries(e.children).forEach(([r,s])=>{n[r]=s===t?i:D3(s,t,i)}),new ii(e.segments,n)}class T3{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&RC(n[0]))throw new re(4003,!1);const r=n.find(Gp);if(r&&r!==f3(n))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class FC{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}}function A3(e,t,i){if(e||(e=new ii([],{})),0===e.segments.length&&e.hasChildren())return zp(e,t,i);const n=function nCe(e,t,i){let n=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=i.length)return s;const o=e.segments[r],a=i[n];if(Gp(a))break;const l=`${a}`,c=n<i.length-1?i[n+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!F3(l,c,o))return s;n+=2}else{if(!F3(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(e,t,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const s=new ii(e.segments.slice(0,n.pathIndex),{});return s.children[dt]=new ii(e.segments.slice(n.pathIndex),e.children),zp(s,0,r)}return n.match&&0===r.length?new ii(e.segments,{}):n.match&&!e.hasChildren()?SE(e,t,i):n.match?zp(e,0,r):SE(e,t,i)}function zp(e,t,i){if(0===i.length)return new ii(e.segments,{});{const n=function iCe(e){return Gp(e[0])?e[0].outlets:{[dt]:e}}(i),r={};if(Object.keys(n).some(s=>s!==dt)&&e.children[dt]&&1===e.numberOfChildren&&0===e.children[dt].segments.length){const s=zp(e.children[dt],t,i);return new ii(e.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=A3(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===n[s]&&(r[s]=o)}),new ii(e.segments,r)}}function SE(e,t,i){const n=e.segments.slice(0,t);let r=0;for(;r<i.length;){const s=i[r];if(Gp(s)){const l=rCe(s.outlets);return new ii(n,l)}if(0===r&&RC(i[0])){n.push(new Bp(e.segments[t].path,R3(i[0]))),r++;continue}const o=Gp(s)?s.outlets[dt]:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&RC(a)?(n.push(new Bp(o,R3(a))),r+=2):(n.push(new Bp(o,{})),r++)}return new ii(n,{})}function rCe(e){const t={};return Object.entries(e).forEach(([i,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=SE(new ii([],{}),0,n))}),t}function R3(e){const t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function F3(e,t,i){return e==i.path&&Ko(t,i.parameters)}const Wp="imperative";class qo{constructor(t,i){this.id=t,this.url=i}}class MC extends qo{constructor(t,i,n="imperative",r=null){super(t,i),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rl extends qo{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Up extends qo{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ju extends qo{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=16}}class kC extends qo{constructor(t,i,n,r){super(t,i),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class M3 extends qo{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sCe extends qo{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oCe extends qo{constructor(t,i,n,r,s){super(t,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class aCe extends qo{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lCe extends qo{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cCe{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dCe{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uCe{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hCe{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fCe{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pCe{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k3{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class EE{}class DE{constructor(t){this.url=t}}class gCe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jp,this.attachRef=null}}let jp=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){const r=this.getOrCreateContext(i);r.outlet=n,this.contexts.set(i,r)}onChildOutletDestroyed(i){const n=this.getContext(i);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new gCe,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class I3{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){const i=TE(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){const i=TE(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){const i=AE(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return AE(t,this._root).map(i=>i.value)}}function TE(e,t){if(e===t.value)return t;for(const i of t.children){const n=TE(e,i);if(n)return n}return null}function AE(e,t){if(e===t.value)return[t];for(const i of t.children){const n=AE(e,i);if(n.length)return n.unshift(t),n}return[]}class ka{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}}function eh(e){const t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}class P3 extends I3{constructor(t,i){super(t),this.snapshot=i,RE(this,t)}toString(){return this.snapshot.toString()}}function O3(e,t){const i=function mCe(e,t){const o=new IC([],{},{},"",{},dt,t,null,{});return new N3("",new ka(o,[]))}(0,t),n=new Cr([new Bp("",{})]),r=new Cr({}),s=new Cr({}),o=new Cr({}),a=new Cr(""),l=new th(n,r,o,a,s,dt,t,i.root);return l.snapshot=i.root,new P3(new ka(l,[]),i)}class th{constructor(t,i,n,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Nt(c=>c[Np]))??Ue(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Nt(t=>Zu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Nt(t=>Zu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function L3(e,t="emptyOnly"){const i=e.pathFromRoot;let n=0;if("always"!==t)for(n=i.length-1;n>=1;){const r=i[n],s=i[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(s.component)break;n--}}return function vCe(e){return e.reduce((t,i)=>({params:{...t.params,...i.params},data:{...t.data,...i.data},resolve:{...i.data,...t.resolve,...i.routeConfig?.data,...i._resolvedData}}),{params:{},data:{},resolve:{}})}(i.slice(n))}class IC{get title(){return this.data?.[Np]}constructor(t,i,n,r,s,o,a,l,c){this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class N3 extends I3{constructor(t,i){super(i),this.url=t,RE(this,i)}toString(){return B3(this._root)}}function RE(e,t){t.value._routerState=e,t.children.forEach(i=>RE(e,i))}function B3(e){const t=e.children.length>0?` { ${e.children.map(B3).join(", ")} } `:"";return`${e.value}${t}`}function FE(e){if(e.snapshot){const t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,Ko(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),Ko(t.params,i.params)||e.paramsSubject.next(i.params),function I0e(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!Ko(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.urlSubject.next(i.url),Ko(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ME(e,t){const i=Ko(e.params,t.params)&&function N0e(e,t){return Kc(e,t)&&e.every((i,n)=>Ko(i.parameters,t[n].parameters))}(e.url,t.url);return i&&!(!e.parent!=!t.parent)&&(!e.parent||ME(e.parent,t.parent))}let kE=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=dt,this.activateEvents=new ee,this.deactivateEvents=new ee,this.attachEvents=new ee,this.detachEvents=new ee,this.parentContexts=De(jp),this.location=De(Sr),this.changeDetector=De(Bn),this.environmentInjector=De(jr),this.inputBinder=De(PC,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:n,previousValue:r}=i.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,n){this.activated=i,this._activatedRoute=n,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,n){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=i;const r=this.location,o=i.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new CCe(i,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=Me({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Si]})}return e})();class CCe{constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n}get(t,i){return t===th?this.route:t===jp?this.childContexts:this.parent.get(t,i)}}const PC=new ge("");let V3=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:n}=i,r=w0([n.queryParams,n.params,n.data]).pipe(Ys(([s,o,a],l)=>(a={...s,...o,...a},0===l?Ue(a):Promise.resolve(a)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(i);const o=function vX(e){const t=Pt(e);if(!t)return null;const i=new mf(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(n.component);if(o)for(const{templateName:a}of o.inputs)i.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,r)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();function $p(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){const n=i.value;n._futureSnapshot=t.value;const r=function yCe(e,t,i){return t.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return $p(e,n,r);return $p(e,n)})}(e,t,i);return new ka(n,r)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>$p(e,a)),o}}const n=function wCe(e){return new th(new Cr(e.url),new Cr(e.params),new Cr(e.queryParams),new Cr(e.fragment),new Cr(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(s=>$p(e,s));return new ka(n,r)}}const IE="ngNavigationCancelingError";function H3(e,t){const{redirectTo:i,navigationBehaviorOptions:n}=qc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=G3(!1,0,t);return r.url=i,r.navigationBehaviorOptions=n,r}function G3(e,t,i){const n=new Error("NavigationCancelingError: "+(e||""));return n[IE]=!0,n.cancellationCode=t,i&&(n.url=i),n}function z3(e){return e&&e[IE]}let W3=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=et({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ff],decls:1,vars:0,template:function(n,r){1&n&&ie(0,"router-outlet")},dependencies:[kE],encapsulation:2})}return e})();function PE(e){const t=e.children&&e.children.map(PE),i=t?{...e,children:t}:{...e};return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==dt&&(i.component=W3),i}function po(e){return e.outlet||dt}function Kp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}class RCe{constructor(t,i,n,r,s){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),FE(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){const r=eh(i);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,i,n){const r=t.value,s=i?i.value:null;if(r===s)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,i,o.children)}else this.deactivateChildRoutes(t,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){const n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,s=eh(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(n&&n.outlet){const o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){const n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,s=eh(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){const r=eh(i);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new pCe(s.value.snapshot))}),t.children.length&&this.forwardEvent(new hCe(t.value.snapshot))}activateRoutes(t,i,n){const r=t.value,s=i?i.value:null;if(FE(r),r===s)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,o.children)}else this.activateChildRoutes(t,i,n);else if(r.component){const o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),FE(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Kp(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)}}class U3{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class OC{constructor(t,i){this.component=t,this.route=i}}function FCe(e,t,i){const n=e._root;return qp(n,t?t._root:null,i,[n.value])}function ih(e,t){const i=Symbol(),n=t.get(e,i);return n===i?"function"!=typeof e||function Fz(e){return null!==Xg(e)}(e)?t.get(e):e:n}function qp(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=eh(t);return e.children.forEach(o=>{(function kCe(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function ICe(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!Kc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Kc(e.url,t.url)||!Ko(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ME(e,t)||!Ko(e.queryParams,t.queryParams);default:return!ME(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new U3(n)):(s.data=o.data,s._resolvedData=o._resolvedData),qp(e,t,s.component?a?a.children:null:i,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new OC(a.outlet.component,o))}else o&&Yp(t,a,r),r.canActivateChecks.push(new U3(n)),qp(e,null,s.component?a?a.children:null:i,n,r)})(o,s[o.value.outlet],i,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Yp(a,i.getContext(o),r)),r}function Yp(e,t,i){const n=eh(e),r=e.value;Object.entries(n).forEach(([s,o])=>{Yp(o,r.component?t?t.children.getContext(s):null:t,i)}),i.canDeactivateChecks.push(new OC(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Xp(e){return"function"==typeof e}function j3(e){return e instanceof xC||"EmptyError"===e?.name}const LC=Symbol("INITIAL_VALUE");function nh(){return Ys(e=>w0(e.map(t=>t.pipe(gn(1),Fc(LC)))).pipe(Nt(t=>{for(const i of t)if(!0!==i){if(i===LC)return LC;if(!1===i||i instanceof Qu)return i}return!0}),un(t=>t!==LC),gn(1)))}function $3(e){return function O6(...e){return GT(e)}(vn(t=>{if(qc(t))throw H3(0,t)}),Nt(t=>!0===t))}class NC{constructor(t){this.segmentGroup=t||null}}class K3{constructor(t){this.urlTree=t}}function rh(e){return Lp(new NC(e))}function q3(e){return Lp(new K3(e))}class JCe{constructor(t,i){this.urlSerializer=t,this.urlTree=i}noMatchError(t){return new re(4002,!1)}lineralizeSegments(t,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Ue(n);if(r.numberOfChildren>1||!r.children[dt])return Lp(new re(4e3,!1));r=r.children[dt]}}applyRedirectCommands(t,i,n){return this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n)}applyRedirectCreateUrlTree(t,i,n,r){const s=this.createSegmentGroup(t,i.root,n,r);return new Qu(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){const n={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);n[r]=i[a]}else n[r]=s}),n}createSegmentGroup(t,i,n,r){const s=this.createSegments(t,i.segments,n,r);let o={};return Object.entries(i.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,n,r)}),new ii(s,o)}createSegments(t,i,n,r){return i.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,n))}findPosParam(t,i,n){const r=n[i.path.substring(1)];if(!r)throw new re(4001,!1);return r}findOrReturn(t,i){let n=0;for(const r of i){if(r.path===t.path)return i.splice(n),r;n++}return t}}const OE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function e_e(e,t,i,n,r){const s=LE(e,t,i);return s.matched?(n=function xCe(e,t){return e.providers&&!e._injector&&(e._injector=yb(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function XCe(e,t,i,n){const r=t.canMatch;return r&&0!==r.length?Ue(r.map(o=>{const a=ih(o,e);return Al(function VCe(e){return e&&Xp(e.canMatch)}(a)?a.canMatch(t,i):e.runInContext(()=>a(t,i)))})).pipe(nh(),$3()):Ue(!0)}(n,t,i).pipe(Nt(o=>!0===o?s:{...OE}))):Ue(s)}function LE(e,t,i){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?{...OE}:{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const r=(t.matcher||k0e)(i,e,t);if(!r)return{...OE};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Y3(e,t,i,n){return i.length>0&&function n_e(e,t,i){return i.some(n=>BC(e,t,n)&&po(n)!==dt)}(e,i,n)?{segmentGroup:new ii(t,i_e(n,new ii(i,e.children))),slicedSegments:[]}:0===i.length&&function r_e(e,t,i){return i.some(n=>BC(e,t,n))}(e,i,n)?{segmentGroup:new ii(e.segments,t_e(e,0,i,n,e.children)),slicedSegments:i}:{segmentGroup:new ii(e.segments,e.children),slicedSegments:i}}function t_e(e,t,i,n,r){const s={};for(const o of n)if(BC(e,i,o)&&!r[po(o)]){const a=new ii([],{});s[po(o)]=a}return{...r,...s}}function i_e(e,t){const i={};i[dt]=t;for(const n of e)if(""===n.path&&po(n)!==dt){const r=new ii([],{});i[po(n)]=r}return i}function BC(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path}class l_e{constructor(t,i,n,r,s,o,a){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new JCe(this.urlSerializer,this.urlTree)}noMatchError(t){return new re(4002,!1)}recognize(){const t=Y3(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,dt).pipe($c(i=>{if(i instanceof K3)return this.allowRedirects=!1,this.urlTree=i.urlTree,this.match(i.urlTree);throw i instanceof NC?this.noMatchError(i):i}),Nt(i=>{const n=new IC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dt,this.rootComponentType,null,{}),r=new ka(n,i),s=new N3("",r),o=function Q0e(e,t,i=null,n=null){return E3(S3(e),t,i,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,dt).pipe($c(n=>{throw n instanceof NC?this.noMatchError(n):n}))}inheritParamsAndData(t){const i=t.value,n=L3(i,this.paramsInheritanceStrategy);i.params=Object.freeze(n.params),i.data=Object.freeze(n.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,i,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,i,n):this.processSegment(t,i,n,n.segments,r,!0)}processChildren(t,i,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return on(r).pipe(Du(s=>{const o=n.children[s],a=function TCe(e,t){const i=e.filter(n=>po(n)===t);return i.push(...e.filter(n=>po(n)!==t)),i}(i,s);return this.processSegmentGroup(t,a,o,s)}),function R0e(e,t){return Ai(function A0e(e,t,i,n,r){return(s,o)=>{let a=i,l=t,c=0;s.subscribe(wi(o,d=>{const u=c++;l=a?e(l,d,u):(a=!0,d),n&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(e,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),SC(null),function F0e(e,t){const i=arguments.length>=2;return n=>n.pipe(e?un((r,s)=>e(r,s,n)):Wa,_E(1),i?SC(t):d3(()=>new xC))}(),sn(s=>{if(null===s)return rh(n);const o=X3(s);return function c_e(e){e.sort((t,i)=>t.value.outlet===dt?-1:i.value.outlet===dt?1:t.value.outlet.localeCompare(i.value.outlet))}(o),Ue(o)}))}processSegment(t,i,n,r,s,o){return on(i).pipe(Du(a=>this.processSegmentAgainstRoute(a._injector??t,i,a,n,r,s,o).pipe($c(l=>{if(l instanceof NC)return Ue(null);throw l}))),jc(a=>!!a),$c(a=>{if(j3(a))return function o_e(e,t,i){return 0===t.length&&!e.children[i]}(n,r,s)?Ue([]):rh(n);throw a}))}processSegmentAgainstRoute(t,i,n,r,s,o,a){return function s_e(e,t,i,n){return!!(po(e)===n||n!==dt&&BC(t,i,e))&&("**"===e.path||LE(t,e,i).matched)}(n,r,s,o)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,r,n,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,n,s,o):rh(r):rh(r)}expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,n,r){const s=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?q3(s):this.applyRedirects.lineralizeSegments(n,s).pipe(sn(o=>{const a=new ii(o,{});return this.processSegment(t,i,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:d}=LE(i,r,s);if(!a)return rh(i);const u=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return r.redirectTo.startsWith("/")?q3(u):this.applyRedirects.lineralizeSegments(r,u).pipe(sn(h=>this.processSegment(t,n,i,h.concat(c),o,!1)))}matchSegmentAgainstRoute(t,i,n,r,s,o){let a;if("**"===n.path){const l=r.length>0?f3(r).parameters:{};a=Ue({snapshot:new IC(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z3(n),po(n),n.component??n._loadedComponent??null,n,Q3(n)),consumedSegments:[],remainingSegments:[]}),i.children={}}else a=e_e(i,n,r,t).pipe(Nt(({matched:l,consumedSegments:c,remainingSegments:d,parameters:u})=>l?{snapshot:new IC(c,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z3(n),po(n),n.component??n._loadedComponent??null,n,Q3(n)),consumedSegments:c,remainingSegments:d}:null));return a.pipe(Ys(l=>null===l?rh(i):this.getChildConfig(t=n._injector??t,n,r).pipe(Ys(({routes:c})=>{const d=n._loadedInjector??t,{snapshot:u,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:g,slicedSegments:p}=Y3(i,h,f,c);if(0===p.length&&g.hasChildren())return this.processChildren(d,c,g).pipe(Nt(C=>null===C?null:[new ka(u,C)]));if(0===c.length&&0===p.length)return Ue([new ka(u,[])]);const m=po(n)===s;return this.processSegment(d,c,g,p,m?dt:s,!0).pipe(Nt(C=>[new ka(u,C)]))}))))}getChildConfig(t,i,n){return i.children?Ue({routes:i.children,injector:t}):i.loadChildren?void 0!==i._loadedRoutes?Ue({routes:i._loadedRoutes,injector:i._loadedInjector}):function YCe(e,t,i,n){const r=t.canLoad;return void 0===r||0===r.length?Ue(!0):Ue(r.map(o=>{const a=ih(o,e);return Al(function OCe(e){return e&&Xp(e.canLoad)}(a)?a.canLoad(t,i):e.runInContext(()=>a(t,i)))})).pipe(nh(),$3())}(t,i,n).pipe(sn(r=>r?this.configLoader.loadChildren(t,i).pipe(vn(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):function QCe(e){return Lp(G3(!1,3))}())):Ue({routes:[],injector:t})}}function d_e(e){const t=e.value.routeConfig;return t&&""===t.path}function X3(e){const t=[],i=new Set;for(const n of e){if(!d_e(n)){t.push(n);continue}const r=t.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),i.add(r)):t.push(n)}for(const n of i){const r=X3(n.children);t.push(new ka(n.value,r))}return t.filter(n=>!i.has(n))}function Z3(e){return e.data||{}}function Q3(e){return e.resolve||{}}function J3(e){return"string"==typeof e.title||null===e.title}function NE(e){return Ys(t=>{const i=e(t);return i?on(i).pipe(Nt(()=>t)):Ue(t)})}const sh=new ge("ROUTES");let BE=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=De(hP)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Ue(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const n=Al(i.loadComponent()).pipe(Nt(eH),vn(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),xc(()=>{this.componentLoaders.delete(i)})),r=new c3(n,()=>new We).pipe(CE());return this.componentLoaders.set(i,r),r}loadChildren(i,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Ue({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const s=function v_e(e,t,i,n){return Al(e.loadChildren()).pipe(Nt(eH),sn(r=>r instanceof CI||Array.isArray(r)?Ue(r):on(t.compileModuleAsync(r))),Nt(r=>{n&&n(e);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(i).injector,o=s.get(sh,[],{optional:!0,self:!0}).flat()),{routes:o.map(PE),injector:s}}))}(n,this.compiler,i,this.onLoadEndListener).pipe(xc(()=>{this.childrenLoaders.delete(n)})),o=new c3(s,()=>new We).pipe(CE());return this.childrenLoaders.set(n,o),o}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eH(e){return function C_e(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let VC=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new We,this.transitionAbortSubject=new We,this.configLoader=De(BE),this.environmentInjector=De(jr),this.urlSerializer=De(Vp),this.rootContexts=De(jp),this.inputBindingEnabled=null!==De(PC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ue(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new dCe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new cCe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:n})}setupNavigations(i,n,r){return this.transitions=new Cr({id:0,currentUrlTree:n,currentRawUrl:n,currentBrowserUrl:n,extractedUrl:i.urlHandlingStrategy.extract(n),urlAfterRedirects:i.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(un(s=>0!==s.id),Nt(s=>({...s,extractedUrl:i.urlHandlingStrategy.extract(s.rawUrl)})),Ys(s=>{this.currentTransition=s;let o=!1,a=!1;return Ue(s).pipe(vn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ys(l=>{const c=l.currentBrowserUrl.toString(),d=!i.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const h="";return this.events.next(new Ju(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),qs}if(i.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ue(l).pipe(Ys(h=>{const f=this.transitions?.getValue();return this.events.next(new MC(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?qs:Promise.resolve(h)}),function u_e(e,t,i,n,r,s){return sn(o=>function a_e(e,t,i,n,r,s,o="emptyOnly"){return new l_e(e,t,i,n,r,o,s).recognize()}(e,t,i,n,o.extractedUrl,r,s).pipe(Nt(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),vn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new M3(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(d&&i.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:g,restoredState:p,extras:m}=l,C=new MC(h,this.urlSerializer.serialize(f),g,p);this.events.next(C);const v=O3(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:v,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},Ue(s)}{const h="";return this.events.next(new Ju(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),qs}}),vn(l=>{const c=new sCe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Nt(l=>(this.currentTransition=s={...l,guards:FCe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function GCe(e,t){return sn(i=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return 0===o.length&&0===s.length?Ue({...i,guardsResult:!0}):function zCe(e,t,i,n){return on(e).pipe(sn(r=>function qCe(e,t,i,n,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ue(s.map(a=>{const l=Kp(t)??r,c=ih(a,l);return Al(function BCe(e){return e&&Xp(e.canDeactivate)}(c)?c.canDeactivate(e,t,i,n):l.runInContext(()=>c(e,t,i,n))).pipe(jc())})).pipe(nh()):Ue(!0)}(r.component,r.route,i,t,n)),jc(r=>!0!==r,!0))}(o,n,r,e).pipe(sn(a=>a&&function PCe(e){return"boolean"==typeof e}(a)?function WCe(e,t,i,n){return on(t).pipe(Du(r=>sp(function jCe(e,t){return null!==e&&t&&t(new uCe(e)),Ue(!0)}(r.route.parent,n),function UCe(e,t){return null!==e&&t&&t(new fCe(e)),Ue(!0)}(r.route,n),function KCe(e,t,i){const n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function MCe(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>_C(()=>Ue(o.guards.map(l=>{const c=Kp(o.node)??i,d=ih(l,c);return Al(function NCe(e){return e&&Xp(e.canActivateChild)}(d)?d.canActivateChild(n,e):c.runInContext(()=>d(n,e))).pipe(jc())})).pipe(nh())));return Ue(s).pipe(nh())}(e,r.path,i),function $Ce(e,t,i){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Ue(!0);const r=n.map(s=>_C(()=>{const o=Kp(t)??i,a=ih(s,o);return Al(function LCe(e){return e&&Xp(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(jc())}));return Ue(r).pipe(nh())}(e,r.route,i))),jc(r=>!0!==r,!0))}(n,s,e,t):Ue(a)),Nt(a=>({...i,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),vn(l=>{if(s.guardsResult=l.guardsResult,qc(l.guardsResult))throw H3(0,l.guardsResult);const c=new oCe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),un(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),NE(l=>{if(l.guards.canActivateChecks.length)return Ue(l).pipe(vn(c=>{const d=new aCe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Ys(c=>{let d=!1;return Ue(c).pipe(function h_e(e,t){return sn(i=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return Ue(i);let s=0;return on(r).pipe(Du(o=>function f_e(e,t,i,n){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!J3(r)&&(s[Np]=r.title),function p_e(e,t,i,n){const r=function g_e(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return Ue({});const s={};return on(r).pipe(sn(o=>function m_e(e,t,i,n){const r=Kp(t)??n,s=ih(e,r);return Al(s.resolve?s.resolve(t,i):r.runInContext(()=>s(t,i)))}(e[o],t,i,n).pipe(jc(),vn(a=>{s[o]=a}))),_E(1),u3(s),$c(o=>j3(o)?qs:Lp(o)))}(s,e,t,n).pipe(Nt(o=>(e._resolvedData=o,e.data=L3(e,i).resolve,r&&J3(r)&&(e.data[Np]=r.title),null)))}(o.route,n,e,t)),vn(()=>s++),_E(1),sn(o=>s===r.length?Ue(i):qs))})}(i.paramsInheritanceStrategy,this.environmentInjector),vn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",2)}}))}),vn(c=>{const d=new lCe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),NE(l=>{const c=d=>{const u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(vn(h=>{d.component=h}),Nt(()=>{})));for(const h of d.children)u.push(...c(h));return u};return w0(c(l.targetSnapshot.root)).pipe(SC(),gn(1))}),NE(()=>this.afterPreactivation()),Nt(l=>{const c=function _Ce(e,t,i){const n=$p(e,t._root,i?i._root:void 0);return new P3(n,t)}(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),vn(()=>{this.events.next(new EE)}),((e,t,i,n)=>Nt(r=>(new RCe(t,r.targetRouterState,r.currentRouterState,i,n).activate(e),r)))(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),gn(1),vn({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),i.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),zo(this.transitionAbortSubject.pipe(vn(l=>{throw l}))),xc(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),$c(l=>{if(a=!0,z3(l))this.events.next(new Up(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function bCe(e){return z3(e)&&qc(e.url)}(l)?this.events.next(new DE(l.url)):s.resolve(!1);else{this.events.next(new kC(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(l))}catch(c){s.reject(c)}}return qs}))}))}cancelNavigationTransition(i,n,r){const s=new Up(i.id,this.urlSerializer.serialize(i.extractedUrl),n,r);this.events.next(s),i.resolve(!1)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tH(e){return e!==Wp}let iH=(()=>{class e{buildTitle(i){let n,r=i.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===dt);return n}getResolvedTitleForRoute(i){return i.data[Np]}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:function(){return De(__e)},providedIn:"root"})}return e})(),__e=(()=>{class e extends iH{constructor(i){super(),this.title=i}updateTitle(i){const n=this.buildTitle(i);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||e)(W(NO))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),y_e=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:function(){return De(b_e)},providedIn:"root"})}return e})();class w_e{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}}let b_e=(()=>{class e extends w_e{static#e=this.\u0275fac=function(){let i;return function(r){return(i||(i=Hi(e)))(r||e)}}();static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const HC=new ge("",{providedIn:"root",factory:()=>({})});let x_e=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:function(){return De(S_e)},providedIn:"root"})}return e})(),S_e=(()=>{class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Zp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Zp||{});function nH(e,t){e.events.pipe(un(i=>i instanceof Rl||i instanceof Up||i instanceof kC||i instanceof Ju),Nt(i=>i instanceof Rl||i instanceof Ju?Zp.COMPLETE:i instanceof Up&&(0===i.code||1===i.code)?Zp.REDIRECTING:Zp.FAILED),un(i=>i!==Zp.REDIRECTING),gn(1)).subscribe(()=>{t()})}function E_e(e){throw e}function D_e(e,t,i){return t.parse("/")}const T_e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},A_e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ui=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=De(uP),this.isNgZoneEnabled=!1,this._events=new We,this.options=De(HC,{optional:!0})||{},this.pendingTasks=De(vv),this.errorHandler=this.options.errorHandler||E_e,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||D_e,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=De(x_e),this.routeReuseStrategy=De(y_e),this.titleStrategy=De(iH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=De(sh,{optional:!0})?.flat()??[],this.navigationTransitions=De(VC),this.urlSerializer=De(Vp),this.location=De(Lf),this.componentInputBindingEnabled=!!De(PC,{optional:!0}),this.eventsSubscription=new Wt,this.isNgZoneEnabled=De(ze)instanceof ze&&ze.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=O3(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(n=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(rH(n)&&this._events.next(n));if(n instanceof MC)tH(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(n instanceof Ju)this.rawUrlTree=r.rawUrl;else if(n instanceof M3){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(n instanceof EE)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(n instanceof Up)0!==n.code&&1!==n.code&&(this.navigated=!0),(3===n.code||2===n.code)&&this.restoreHistory(r);else if(n instanceof DE){const s=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tH(r.source)};this.scheduleNavigation(s,Wp,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}n instanceof kC&&this.restoreHistory(r,!0),n instanceof Rl&&(this.navigated=!0),rH(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Wp,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const n="popstate"===i.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,n,i.state)},0)}))}navigateToSyncWithBrowser(i,n,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(i);this.scheduleNavigation(a,n,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(PE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,n={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:o;let u,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{u=S3(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),u=this.currentUrlTree.root}return E3(u,i,d,c??null)}navigateByUrl(i,n={skipLocationChange:!1}){const r=qc(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Wp,null,n)}navigate(i,n={skipLocationChange:!1}){return function R_e(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new re(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,n),n)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let n;try{n=this.urlSerializer.parse(i)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,i)}return n}isActive(i,n){let r;if(r=!0===n?{...T_e}:!1===n?{...A_e}:n,qc(i))return g3(this.currentUrlTree,i,r);const s=this.parseUrl(i);return g3(this.currentUrlTree,s,r)}removeEmptyProps(i){return Object.keys(i).reduce((n,r)=>{const s=i[r];return null!=s&&(n[r]=s),n},{})}scheduleNavigation(i,n,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((u,h)=>{a=u,l=h});const d=this.pendingTasks.add();return nH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:i,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}setBrowserUrl(i,n){const r=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(i,n=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,n){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:n}:{navigationId:i}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rH(e){return!(e instanceof EE||e instanceof DE)}let Yc=(()=>{class e{constructor(i,n,r,s,o,a){this.router=i,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new We,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=i.events.subscribe(c=>{c instanceof Rl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){null!=i?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,n,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==i||n||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const i=null===this.href?null:function AF(e,t,i){return function H7(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?TF:DF}(t,i)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(i,n){const r=this.renderer,s=this.el.nativeElement;null!==n?r.setAttribute(s,i,n):r.removeAttribute(s,i)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||e)(E(Ui),E(th),Yh("tabindex"),E(Fo),E(ct),E(nl))};static#t=this.\u0275dir=Me({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&ye("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&At("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",_u],skipLocationChange:["skipLocationChange","skipLocationChange",_u],replaceUrl:["replaceUrl","replaceUrl",_u],routerLink:"routerLink"},standalone:!0,features:[VM,Si]})}return e})(),Qp=(()=>{class e{get isActive(){return this._isActive}constructor(i,n,r,s,o){this.router=i,this.element=n,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ee,this.routerEventsSubscription=i.events.subscribe(a=>{a instanceof Rl&&this.update()})}ngAfterContentInit(){Ue(this.links.changes,Ue(null)).pipe(Sd()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const i=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=on(i).pipe(Sd()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(i){const n=Array.isArray(i)?i:i.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const i=this.hasActiveLinks();this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.classes.forEach(n=>{i?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),i&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(i))})}isLinkActive(i){const n=function F_e(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&i.isActive(r.urlTree,n)}hasActiveLinks(){const i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}static#e=this.\u0275fac=function(n){return new(n||e)(E(Ui),E(ct),E(Fo),E(Bn),E(Yc,8))};static#t=this.\u0275dir=Me({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,s){if(1&n&&ws(s,Yc,5),2&n){let o;jt(o=$t())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Si]})}return e})();class sH{}let M_e=(()=>{class e{constructor(i,n,r,s,o){this.router=i,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(un(i=>i instanceof Rl),Du(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,n){const r=[];for(const s of n){s.providers&&!s._injector&&(s._injector=yb(s.providers,i,`Route: ${s.path}`));const o=s._injector??i,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return on(r).pipe(Sd())}preloadConfig(i,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(i,n):Ue(null);const s=r.pipe(sn(o=>null===o?Ue(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??i,o.routes))));return n.loadComponent&&!n._loadedComponent?on([s,this.loader.loadComponent(n)]).pipe(Sd()):s})}static#e=this.\u0275fac=function(n){return new(n||e)(W(Ui),W(hP),W(jr),W(sH),W(BE))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const VE=new ge("");let oH=(()=>{class e{constructor(i,n,r,s,o={}){this.urlSerializer=i,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof MC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Rl?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Ju&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof k3&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new k3(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){hf()};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();function Ia(e,t){return{\u0275kind:e,\u0275providers:t}}function lH(){const e=De(ti);return t=>{const i=e.get(No);if(t!==i.components[0])return;const n=e.get(Ui),r=e.get(cH);1===e.get(HE)&&n.initialNavigation(),e.get(dH,null,bt.Optional)?.setUpPreloading(),e.get(VE,null,bt.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const cH=new ge("",{factory:()=>new We}),HE=new ge("",{providedIn:"root",factory:()=>1}),dH=new ge("");function O_e(e){return Ia(0,[{provide:dH,useExisting:M_e},{provide:sH,useExisting:e}])}const uH=new ge("ROUTER_FORROOT_GUARD"),N_e=[Lf,{provide:Vp,useClass:yE},Ui,jp,{provide:th,useFactory:function aH(e){return e.routerState.root},deps:[Ui]},BE,[]];function B_e(){return new _P("Router",Ui)}let hH=(()=>{class e{constructor(i){}static forRoot(i,n){return{ngModule:e,providers:[N_e,[],{provide:sh,multi:!0,useValue:i},{provide:uH,useFactory:z_e,deps:[[Ui,new oc,new ac]]},{provide:HC,useValue:n||{}},n?.useHash?{provide:nl,useClass:XP}:{provide:nl,useClass:YP},{provide:VE,useFactory:()=>{const e=De(LZ),t=De(ze),i=De(HC),n=De(VC),r=De(Vp);return i.scrollOffset&&e.setOffset(i.scrollOffset),new oH(r,n,e,t,i)}},n?.preloadingStrategy?O_e(n.preloadingStrategy).\u0275providers:[],{provide:_P,multi:!0,useFactory:B_e},n?.initialNavigation?W_e(n):[],n?.bindToComponentInputs?Ia(8,[V3,{provide:PC,useExisting:V3}]).\u0275providers:[],[{provide:fH,useFactory:lH},{provide:zb,multi:!0,useExisting:fH}]]}}static forChild(i){return{ngModule:e,providers:[{provide:sh,multi:!0,useValue:i}]}}static#e=this.\u0275fac=function(n){return new(n||e)(W(uH,8))};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({})}return e})();function z_e(e){return"guarded"}function W_e(e){return["disabled"===e.initialNavigation?Ia(3,[{provide:Pb,multi:!0,useFactory:()=>{const t=De(Ui);return()=>{t.setUpLocationChangeListener()}}},{provide:HE,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Ia(2,[{provide:HE,useValue:0},{provide:Pb,multi:!0,deps:[ti],useFactory:t=>{const i=t.get(yX,Promise.resolve());return()=>i.then(()=>new Promise(n=>{const r=t.get(Ui),s=t.get(cH);nH(r,()=>{n(!0)}),t.get(VC).afterPreactivation=()=>(n(!0),s.closed?Ue(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const fH=new ge(""),$_e=function(){function e(t,i){void 0===i&&(i=[]),this._eventType=t,this._eventFunctions=i}return e.prototype.init=function(){var t=this;this._eventFunctions.forEach(function(i){typeof window<"u"&&window.addEventListener(t._eventType,i)})},e}();var pH=new(function(){function e(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{}}}return e.prototype.addInstance=function(t,i,n,r){if(void 0===r&&(r=!1),!this._instances[t])return console.warn("Flowbite: Component ".concat(t," does not exist.")),!1;!this._instances[t][n]||r?(r&&this._instances[t][n]&&this._instances[t][n].destroyAndRemoveInstance(),this._instances[t][n||this._generateRandomId()]=i):console.warn("Flowbite: Instance with ID ".concat(n," already exists."))},e.prototype.getAllInstances=function(){return this._instances},e.prototype.getInstances=function(t){return this._instances[t]?this._instances[t]:(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},e.prototype.getInstance=function(t,i){if(this._componentAndInstanceCheck(t,i))return this._instances[t][i]?this._instances[t][i]:void console.warn("Flowbite: Instance with ID ".concat(i," does not exist."))},e.prototype.destroyAndRemoveInstance=function(t,i){this._componentAndInstanceCheck(t,i)&&(this.destroyInstanceObject(t,i),this.removeInstance(t,i))},e.prototype.removeInstance=function(t,i){this._componentAndInstanceCheck(t,i)&&delete this._instances[t][i]},e.prototype.destroyInstanceObject=function(t,i){this._componentAndInstanceCheck(t,i)&&this._instances[t][i].destroy()},e.prototype.instanceExists=function(t,i){return!(!this._instances[t]||!this._instances[t][i])},e.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},e.prototype._componentAndInstanceCheck=function(t,i){return this._instances[t]?!!this._instances[t][i]||(console.warn("Flowbite: Instance with ID ".concat(i," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},e}());const Et=pH;typeof window<"u"&&(window.FlowbiteInstances=pH);var GC=function(){return GC=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},GC.apply(this,arguments)},zC={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},q_e={id:null,override:!0},gH=function(){function e(t,i,n,r){void 0===t&&(t=null),void 0===i&&(i=[]),void 0===n&&(n=zC),void 0===r&&(r=q_e),this._instanceId=r.id?r.id:t.id,this._accordionEl=t,this._items=i,this._options=GC(GC({},zC),n),this._initialized=!1,this.init(),Et.addInstance("Accordion",this,this._instanceId,r.override)}return e.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.forEach(function(i){i.active&&t.open(i.id);var n=function(){t.toggle(i.id)};i.triggerEl.addEventListener("click",n),i.clickHandler=n}),this._initialized=!0)},e.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(t){t.triggerEl.removeEventListener("click",t.clickHandler),delete t.clickHandler}),this._initialized=!1)},e.prototype.removeInstance=function(){Et.removeInstance("Accordion",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getItem=function(t){return this._items.filter(function(i){return i.id===t})[0]},e.prototype.open=function(t){var i,n,r=this,s=this.getItem(t);this._options.alwaysOpen||this._items.map(function(o){var a,l;o!==s&&((a=o.triggerEl.classList).remove.apply(a,r._options.activeClasses.split(" ")),(l=o.triggerEl.classList).add.apply(l,r._options.inactiveClasses.split(" ")),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-expanded","false"),o.active=!1,o.iconEl&&o.iconEl.classList.add("rotate-180"))}),(i=s.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(n=s.triggerEl.classList).remove.apply(n,this._options.inactiveClasses.split(" ")),s.triggerEl.setAttribute("aria-expanded","true"),s.targetEl.classList.remove("hidden"),s.active=!0,s.iconEl&&s.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,s)},e.prototype.toggle=function(t){var i=this.getItem(t);i.active?this.close(t):this.open(t),this._options.onToggle(this,i)},e.prototype.close=function(t){var i,n,r=this.getItem(t);(i=r.triggerEl.classList).remove.apply(i,this._options.activeClasses.split(" ")),(n=r.triggerEl.classList).add.apply(n,this._options.inactiveClasses.split(" ")),r.targetEl.classList.add("hidden"),r.triggerEl.setAttribute("aria-expanded","false"),r.active=!1,r.iconEl&&r.iconEl.classList.add("rotate-180"),this._options.onClose(this,r)},e.prototype.updateOnOpen=function(t){this._options.onOpen=t},e.prototype.updateOnClose=function(t){this._options.onClose=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function GE(){document.querySelectorAll("[data-accordion]").forEach(function(e){var t=e.getAttribute("data-accordion"),i=e.getAttribute("data-active-classes"),n=e.getAttribute("data-inactive-classes"),r=[];e.querySelectorAll("[data-accordion-target]").forEach(function(s){if(s.closest("[data-accordion]")===e){var o={id:s.getAttribute("data-accordion-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-accordion-target")),iconEl:s.querySelector("[data-accordion-icon]"),active:"true"===s.getAttribute("aria-expanded")};r.push(o)}}),new gH(e,r,{alwaysOpen:"open"===t,activeClasses:i||zC.activeClasses,inactiveClasses:n||zC.inactiveClasses})})}typeof window<"u"&&(window.Accordion=gH,window.initAccordions=GE);var WC=function(){return WC=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},WC.apply(this,arguments)},mH={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},Y_e={id:null,override:!0},zE=function(){function e(t,i,n,r){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=mH),void 0===r&&(r=Y_e),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=i,this._options=WC(WC({},mH),n),this._visible=!1,this._initialized=!1,this.init(),Et.addInstance("Collapse",this,this._instanceId,r.override)}return e.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._visible=this._triggerEl.hasAttribute("aria-expanded")?"true"===this._triggerEl.getAttribute("aria-expanded"):!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){t.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){Et.removeInstance("Collapse",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},e.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},e.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},e.prototype.updateOnCollapse=function(t){this._options.onCollapse=t},e.prototype.updateOnExpand=function(t){this._options.onExpand=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function WE(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(e){var t=e.getAttribute("data-collapse-toggle"),i=document.getElementById(t);i?Et.instanceExists("Collapse",i.getAttribute("id"))?new zE(i,e,{},{id:i.getAttribute("id")+"_"+Et._generateRandomId()}):new zE(i,e):console.error('The target element with id "'.concat(t,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=zE,window.initCollapses=WE);var Xc=function(){return Xc=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Xc.apply(this,arguments)},UC={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},X_e={id:null,override:!0},vH=function(){function e(t,i,n,r){void 0===t&&(t=null),void 0===i&&(i=[]),void 0===n&&(n=UC),void 0===r&&(r=X_e),this._instanceId=r.id?r.id:t.id,this._carouselEl=t,this._items=i,this._options=Xc(Xc(Xc({},UC),n),{indicators:Xc(Xc({},UC.indicators),n.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),Et.addInstance("Carousel",this,this._instanceId,r.override)}return e.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.map(function(i){i.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(i,n){i.el.addEventListener("click",function(){t.slideTo(n)})}),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},e.prototype.removeInstance=function(){Et.removeInstance("Carousel",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getItem=function(t){return this._items[t]},e.prototype.slideTo=function(t){var i=this._items[t];this._rotate({left:0===i.position?this._items[this._items.length-1]:this._items[i.position-1],middle:i,right:i.position===this._items.length-1?this._items[0]:this._items[i.position+1]}),this._setActiveItem(i),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},e.prototype.next=function(){var t=this.getActiveItem();this.slideTo((t.position===this._items.length-1?this._items[0]:this._items[t.position+1]).position),this._options.onNext(this)},e.prototype.prev=function(){var t=this.getActiveItem();this.slideTo((0===t.position?this._items[this._items.length-1]:this._items[t.position-1]).position),this._options.onPrev(this)},e.prototype._rotate=function(t){if(this._items.map(function(i){i.el.classList.add("hidden")}),1===this._items.length)return t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),void t.middle.el.classList.add("translate-x-0","z-20");t.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),t.left.el.classList.add("-translate-x-full","z-10"),t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),t.middle.el.classList.add("translate-x-0","z-30"),t.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),t.right.el.classList.add("translate-x-full","z-20")},e.prototype.cycle=function(){var t=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){t.next()},this._intervalDuration))},e.prototype.pause=function(){clearInterval(this._intervalInstance)},e.prototype.getActiveItem=function(){return this._activeItem},e.prototype._setActiveItem=function(t){var i,n,r=this;this._activeItem=t;var s=t.position;this._indicators.length&&(this._indicators.map(function(o){var a,l;o.el.setAttribute("aria-current","false"),(a=o.el.classList).remove.apply(a,r._options.indicators.activeClasses.split(" ")),(l=o.el.classList).add.apply(l,r._options.indicators.inactiveClasses.split(" "))}),(i=this._indicators[s].el.classList).add.apply(i,this._options.indicators.activeClasses.split(" ")),(n=this._indicators[s].el.classList).remove.apply(n,this._options.indicators.inactiveClasses.split(" ")),this._indicators[s].el.setAttribute("aria-current","true"))},e.prototype.updateOnNext=function(t){this._options.onNext=t},e.prototype.updateOnPrev=function(t){this._options.onPrev=t},e.prototype.updateOnChange=function(t){this._options.onChange=t},e}();function UE(){document.querySelectorAll("[data-carousel]").forEach(function(e){var t=e.getAttribute("data-carousel-interval"),i="slide"===e.getAttribute("data-carousel"),n=[],r=0;e.querySelectorAll("[data-carousel-item]").length&&Array.from(e.querySelectorAll("[data-carousel-item]")).map(function(c,d){n.push({position:d,el:c}),"active"===c.getAttribute("data-carousel-item")&&(r=d)});var s=[];e.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(e.querySelectorAll("[data-carousel-slide-to]")).map(function(c){s.push({position:parseInt(c.getAttribute("data-carousel-slide-to")),el:c})});var o=new vH(e,n,{defaultPosition:r,indicators:{items:s},interval:t||UC.interval});i&&o.cycle();var a=e.querySelector("[data-carousel-next]"),l=e.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",function(){o.next()}),l&&l.addEventListener("click",function(){o.prev()})})}typeof window<"u"&&(window.Carousel=vH,window.initCarousels=UE);var jC=function(){return jC=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},jC.apply(this,arguments)},CH={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},Z_e={id:null,override:!0},_H=function(){function e(t,i,n,r){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=CH),void 0===r&&(r=Z_e),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=i,this._options=jC(jC({},CH),n),this._initialized=!1,this.init(),Et.addInstance("Dismiss",this,this._instanceId,r.override)}return e.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){t.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){Et.removeInstance("Dismiss",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){var t=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){t._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},e.prototype.updateOnHide=function(t){this._options.onHide=t},e}();function jE(){document.querySelectorAll("[data-dismiss-target]").forEach(function(e){var t=e.getAttribute("data-dismiss-target"),i=document.querySelector(t);i?new _H(i,e):console.error('The dismiss element with id "'.concat(t,'" does not exist. Please check the data-dismiss-target attribute.'))})}function rs(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Zc(e){return e instanceof rs(e).Element||e instanceof Element}function Is(e){return e instanceof rs(e).HTMLElement||e instanceof HTMLElement}function $E(e){return!(typeof ShadowRoot>"u")&&(e instanceof rs(e).ShadowRoot||e instanceof ShadowRoot)}typeof window<"u"&&(window.Dismiss=_H,window.initDismisses=jE);var Qc=Math.max,$C=Math.min,oh=Math.round;function KE(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function yH(){return!/^((?!chrome|android).)*safari/i.test(KE())}function ah(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),r=1,s=1;t&&Is(e)&&(r=e.offsetWidth>0&&oh(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&oh(n.height)/e.offsetHeight||1);var a=(Zc(e)?rs(e):window).visualViewport,l=!yH()&&i,c=(n.left+(l&&a?a.offsetLeft:0))/r,d=(n.top+(l&&a?a.offsetTop:0))/s,u=n.width/r,h=n.height/s;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c,x:c,y:d}}function qE(e){var t=rs(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Yo(e){return e?(e.nodeName||"").toLowerCase():null}function Fl(e){return((Zc(e)?e.ownerDocument:e.document)||window.document).documentElement}function YE(e){return ah(Fl(e)).left+qE(e).scrollLeft}function Pa(e){return rs(e).getComputedStyle(e)}function XE(e){var t=Pa(e);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function tye(e,t,i){void 0===i&&(i=!1);var n=Is(t),r=Is(t)&&function eye(e){var t=e.getBoundingClientRect(),i=oh(t.width)/e.offsetWidth||1,n=oh(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),s=Fl(t),o=ah(e,r,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&(("body"!==Yo(t)||XE(s))&&(a=function J_e(e){return e!==rs(e)&&Is(e)?function Q_e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(e):qE(e)}(t)),Is(t)?((l=ah(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=YE(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function ZE(e){var t=ah(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function KC(e){return"html"===Yo(e)?e:e.assignedSlot||e.parentNode||($E(e)?e.host:null)||Fl(e)}function wH(e){return["html","body","#document"].indexOf(Yo(e))>=0?e.ownerDocument.body:Is(e)&&XE(e)?e:wH(KC(e))}function Jp(e,t){var i;void 0===t&&(t=[]);var n=wH(e),r=n===(null==(i=e.ownerDocument)?void 0:i.body),s=rs(n),o=r?[s].concat(s.visualViewport||[],XE(n)?n:[]):n,a=t.concat(o);return r?a:a.concat(Jp(KC(o)))}function iye(e){return["table","td","th"].indexOf(Yo(e))>=0}function bH(e){return Is(e)&&"fixed"!==Pa(e).position?e.offsetParent:null}function eg(e){for(var t=rs(e),i=bH(e);i&&iye(i)&&"static"===Pa(i).position;)i=bH(i);return i&&("html"===Yo(i)||"body"===Yo(i)&&"static"===Pa(i).position)?t:i||function nye(e){var t=/firefox/i.test(KE());if(/Trident/i.test(KE())&&Is(e)&&"fixed"===Pa(e).position)return null;var r=KC(e);for($E(r)&&(r=r.host);Is(r)&&["html","body"].indexOf(Yo(r))<0;){var s=Pa(r);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return r;r=r.parentNode}return null}(e)||t}var kr="top",Ps="bottom",Os="right",Ir="left",QE="auto",tg=[kr,Ps,Os,Ir],lh="start",ig="end",xH="viewport",ng="popper",SH=tg.reduce(function(e,t){return e.concat([t+"-"+lh,t+"-"+ig])},[]),EH=[].concat(tg,[QE]).reduce(function(e,t){return e.concat([t,t+"-"+lh,t+"-"+ig])},[]),gye=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function mye(e){var t=new Map,i=new Set,n=[];function r(s){i.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&r(l)}}),n.push(s)}return e.forEach(function(s){t.set(s.name,s)}),e.forEach(function(s){i.has(s.name)||r(s)}),n}function Cye(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}var DH={placement:"bottom",modifiers:[],strategy:"absolute"};function TH(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(n){return!(n&&"function"==typeof n.getBoundingClientRect)})}function yye(e){void 0===e&&(e={});var i=e.defaultModifiers,n=void 0===i?[]:i,r=e.defaultOptions,s=void 0===r?DH:r;return function(a,l,c){void 0===c&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},DH,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},u=[],h=!1,f={state:d,setOptions:function(C){var v="function"==typeof C?C(d.options):C;p(),d.options=Object.assign({},s,d.options,v),d.scrollParents={reference:Zc(a)?Jp(a):a.contextElement?Jp(a.contextElement):[],popper:Jp(l)};var _=function vye(e){var t=mye(e);return gye.reduce(function(i,n){return i.concat(t.filter(function(r){return r.phase===n}))},[])}(function _ye(e){var t=e.reduce(function(i,n){var r=i[n.name];return i[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,i},{});return Object.keys(t).map(function(i){return t[i]})}([].concat(n,d.options.modifiers)));return d.orderedModifiers=_.filter(function(x){return x.enabled}),function g(){d.orderedModifiers.forEach(function(m){var v=m.options,x=m.effect;if("function"==typeof x){var R=x({state:d,name:m.name,instance:f,options:void 0===v?{}:v});u.push(R||function(){})}})}(),f.update()},forceUpdate:function(){if(!h){var C=d.elements,v=C.reference,_=C.popper;if(TH(v,_)){d.rects={reference:tye(v,eg(_),"fixed"===d.options.strategy),popper:ZE(_)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(j){return d.modifiersData[j.name]=Object.assign({},j.data)});for(var x=0;x<d.orderedModifiers.length;x++)if(!0!==d.reset){var R=d.orderedModifiers[x],M=R.fn,S=R.options;"function"==typeof M&&(d=M({state:d,options:void 0===S?{}:S,name:R.name,instance:f})||d)}else d.reset=!1,x=-1}}},update:Cye(function(){return new Promise(function(m){f.forceUpdate(),m(d)})}),destroy:function(){p(),h=!0}};if(!TH(a,l))return f;function p(){u.forEach(function(m){return m()}),u=[]}return f.setOptions(c).then(function(m){!h&&c.onFirstUpdate&&c.onFirstUpdate(m)}),f}}var qC={passive:!0};function Xo(e){return e.split("-")[0]}function ch(e){return e.split("-")[1]}function JE(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function AH(e){var l,t=e.reference,i=e.element,n=e.placement,r=n?Xo(n):null,s=n?ch(n):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2;switch(r){case kr:l={x:o,y:t.y-i.height};break;case Ps:l={x:o,y:t.y+t.height};break;case Os:l={x:t.x+t.width,y:a};break;case Ir:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?JE(r):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case lh:l[c]=l[c]-(t[d]/2-i[d]/2);break;case ig:l[c]=l[c]+(t[d]/2-i[d]/2)}}return l}var Eye={top:"auto",right:"auto",bottom:"auto",left:"auto"};function RH(e){var t,i=e.popper,n=e.popperRect,r=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,h=o.x,f=void 0===h?0:h,g=o.y,p=void 0===g?0:g,m="function"==typeof d?d({x:f,y:p}):{x:f,y:p};f=m.x,p=m.y;var C=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),_=Ir,x=kr,R=window;if(c){var M=eg(i),S="clientHeight",N="clientWidth";M===rs(i)&&"static"!==Pa(M=Fl(i)).position&&"absolute"===a&&(S="scrollHeight",N="scrollWidth"),(r===kr||(r===Ir||r===Os)&&s===ig)&&(x=Ps,p-=(u&&M===R&&R.visualViewport?R.visualViewport.height:M[S])-n.height,p*=l?1:-1),r!==Ir&&(r!==kr&&r!==Ps||s!==ig)||(_=Os,f-=(u&&M===R&&R.visualViewport?R.visualViewport.width:M[N])-n.width,f*=l?1:-1)}var Ce,K=Object.assign({position:a},c&&Eye),z=!0===d?function Dye(e,t){var n=e.y,r=t.devicePixelRatio||1;return{x:oh(e.x*r)/r||0,y:oh(n*r)/r||0}}({x:f,y:p},rs(i)):{x:f,y:p};return f=z.x,p=z.y,Object.assign({},K,l?((Ce={})[x]=v?"0":"",Ce[_]=C?"0":"",Ce.transform=(R.devicePixelRatio||1)<=1?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",Ce):((t={})[x]=v?p+"px":"",t[_]=C?f+"px":"",t.transform="",t))}var Oye={left:"right",right:"left",bottom:"top",top:"bottom"};function YC(e){return e.replace(/left|right|bottom|top/g,function(t){return Oye[t]})}var Lye={start:"end",end:"start"};function FH(e){return e.replace(/start|end/g,function(t){return Lye[t]})}function MH(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&$E(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function eD(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function kH(e,t,i){return t===xH?eD(function Nye(e,t){var i=rs(e),n=Fl(e),r=i.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=yH();(c||!c&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+YE(e),y:l}}(e,i)):Zc(t)?function Vye(e,t){var i=ah(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):eD(function Bye(e){var t,i=Fl(e),n=qE(e),r=null==(t=e.ownerDocument)?void 0:t.body,s=Qc(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Qc(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+YE(e),l=-n.scrollTop;return"rtl"===Pa(r||i).direction&&(a+=Qc(i.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}(Fl(e)))}function PH(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function OH(e,t){return t.reduce(function(i,n){return i[n]=e,i},{})}function rg(e,t){void 0===t&&(t={});var n=t.placement,r=void 0===n?e.placement:n,s=t.strategy,o=void 0===s?e.strategy:s,a=t.boundary,l=void 0===a?"clippingParents":a,c=t.rootBoundary,d=void 0===c?xH:c,u=t.elementContext,h=void 0===u?ng:u,f=t.altBoundary,g=void 0!==f&&f,p=t.padding,m=void 0===p?0:p,C=PH("number"!=typeof m?m:OH(m,tg)),_=e.rects.popper,x=e.elements[g?h===ng?"reference":ng:h],R=function Gye(e,t,i,n){var r="clippingParents"===t?function Hye(e){var t=Jp(KC(e)),n=["absolute","fixed"].indexOf(Pa(e).position)>=0&&Is(e)?eg(e):e;return Zc(n)?t.filter(function(r){return Zc(r)&&MH(r,n)&&"body"!==Yo(r)}):[]}(e):[].concat(t),s=[].concat(r,[i]),a=s.reduce(function(l,c){var d=kH(e,c,n);return l.top=Qc(d.top,l.top),l.right=$C(d.right,l.right),l.bottom=$C(d.bottom,l.bottom),l.left=Qc(d.left,l.left),l},kH(e,s[0],n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Zc(x)?x:x.contextElement||Fl(e.elements.popper),l,d,o),M=ah(e.elements.reference),S=AH({reference:M,element:_,strategy:"absolute",placement:r}),N=eD(Object.assign({},_,S)),B=h===ng?N:M,j={top:R.top-B.top+C.top,bottom:B.bottom-R.bottom+C.bottom,left:R.left-B.left+C.left,right:B.right-R.right+C.right},K=e.modifiersData.offset;if(h===ng&&K){var z=K[r];Object.keys(j).forEach(function(Ce){var Oe=[Os,Ps].indexOf(Ce)>=0?1:-1,Re=[kr,Ps].indexOf(Ce)>=0?"y":"x";j[Ce]+=z[Re]*Oe})}return j}function sg(e,t,i){return Qc(e,$C(t,i))}function LH(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function NH(e){return[kr,Os,Ps,Ir].some(function(t){return e[t]>=0})}var tD=yye({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function wye(e){var t=e.state,i=e.instance,n=e.options,r=n.scroll,s=void 0===r||r,o=n.resize,a=void 0===o||o,l=rs(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",i.update,qC)}),a&&l.addEventListener("resize",i.update,qC),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",i.update,qC)}),a&&l.removeEventListener("resize",i.update,qC)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function xye(e){var t=e.state;t.modifiersData[e.name]=AH({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Tye(e){var t=e.state,i=e.options,n=i.gpuAcceleration,r=void 0===n||n,s=i.adaptive,o=void 0===s||s,a=i.roundOffsets,l=void 0===a||a,c={placement:Xo(t.placement),variation:ch(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,RH(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,RH(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Rye(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var n=t.styles[i]||{},r=t.attributes[i]||{},s=t.elements[i];!Is(s)||!Yo(s)||(Object.assign(s.style,n),Object.keys(r).forEach(function(o){var a=r[o];!1===a?s.removeAttribute(o):s.setAttribute(o,!0===a?"":a)}))})},effect:function Fye(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(n){var r=t.elements[n],s=t.attributes[n]||{},a=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:i[n]).reduce(function(l,c){return l[c]="",l},{});!Is(r)||!Yo(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Iye(e){var t=e.state,n=e.name,r=e.options.offset,s=void 0===r?[0,0]:r,o=EH.reduce(function(d,u){return d[u]=function kye(e,t,i){var n=Xo(e),r=[Ir,kr].indexOf(n)>=0?-1:1,s="function"==typeof i?i(Object.assign({},t,{placement:e})):i,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Ir,Os].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}(u,t.rects,s),d},{}),a=o[t.placement],c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=a.x,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=o}},{name:"flip",enabled:!0,phase:"main",fn:function Uye(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=i.mainAxis,s=void 0===r||r,o=i.altAxis,a=void 0===o||o,l=i.fallbackPlacements,c=i.padding,d=i.boundary,u=i.rootBoundary,h=i.altBoundary,f=i.flipVariations,g=void 0===f||f,p=i.allowedAutoPlacements,m=t.options.placement,C=Xo(m),_=l||(C!==m&&g?function Wye(e){if(Xo(e)===QE)return[];var t=YC(e);return[FH(e),t,FH(t)]}(m):[YC(m)]),x=[m].concat(_).reduce(function(V,G){return V.concat(Xo(G)===QE?function zye(e,t){void 0===t&&(t={});var r=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=void 0===l?EH:l,d=ch(t.placement),u=d?a?SH:SH.filter(function(g){return ch(g)===d}):tg,h=u.filter(function(g){return c.indexOf(g)>=0});0===h.length&&(h=u);var f=h.reduce(function(g,p){return g[p]=rg(e,{placement:p,boundary:r,rootBoundary:s,padding:o})[Xo(p)],g},{});return Object.keys(f).sort(function(g,p){return f[g]-f[p]})}(t,{placement:G,boundary:d,rootBoundary:u,padding:c,flipVariations:g,allowedAutoPlacements:p}):G)},[]),R=t.rects.reference,M=t.rects.popper,S=new Map,N=!0,B=x[0],j=0;j<x.length;j++){var K=x[j],z=Xo(K),Ce=ch(K)===lh,Oe=[kr,Ps].indexOf(z)>=0,Re=Oe?"width":"height",ae=rg(t,{placement:K,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),le=Oe?Ce?Os:Ir:Ce?Ps:kr;R[Re]>M[Re]&&(le=YC(le));var Ae=YC(le),he=[];if(s&&he.push(ae[z]<=0),a&&he.push(ae[le]<=0,ae[Ae]<=0),he.every(function(V){return V})){B=K,N=!1;break}S.set(K,he)}if(N)for(var ue=function(G){var oe=x.find(function(Ee){var be=S.get(Ee);if(be)return be.slice(0,G).every(function(we){return we})});if(oe)return B=oe,"break"},O=g?3:1;O>0&&"break"!==ue(O);O--);t.placement!==B&&(t.modifiersData[n]._skip=!0,t.placement=B,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function qye(e){var t=e.state,i=e.options,n=e.name,r=i.mainAxis,s=void 0===r||r,o=i.altAxis,a=void 0!==o&&o,h=i.tether,f=void 0===h||h,g=i.tetherOffset,p=void 0===g?0:g,m=rg(t,{boundary:i.boundary,rootBoundary:i.rootBoundary,padding:i.padding,altBoundary:i.altBoundary}),C=Xo(t.placement),v=ch(t.placement),_=!v,x=JE(C),R=function $ye(e){return"x"===e?"y":"x"}(x),M=t.modifiersData.popperOffsets,S=t.rects.reference,N=t.rects.popper,B="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,j="number"==typeof B?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),K=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,z={x:0,y:0};if(M){if(s){var Ce,Oe="y"===x?kr:Ir,Re="y"===x?Ps:Os,ae="y"===x?"height":"width",le=M[x],Ae=le+m[Oe],he=le-m[Re],He=f?-N[ae]/2:0,ue=v===lh?S[ae]:N[ae],O=v===lh?-N[ae]:-S[ae],q=t.elements.arrow,V=f&&q?ZE(q):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},oe=G[Oe],Ee=G[Re],be=sg(0,S[ae],V[ae]),we=_?S[ae]/2-He-be-oe-j.mainAxis:ue-be-oe-j.mainAxis,fe=_?-S[ae]/2+He+be+Ee+j.mainAxis:O+be+Ee+j.mainAxis,Qe=t.elements.arrow&&eg(t.elements.arrow),H=Qe?"y"===x?Qe.clientTop||0:Qe.clientLeft||0:0,Gt=null!=(Ce=K?.[x])?Ce:0,Yt=le+fe-Gt,mt=sg(f?$C(Ae,le+we-Gt-H):Ae,le,f?Qc(he,Yt):he);M[x]=mt,z[x]=mt-le}if(a){var Be,Sn=M[R],Lr="y"===R?"height":"width",Yl=Sn+m["x"===x?kr:Ir],_o=Sn-m["x"===x?Ps:Os],In=-1!==[kr,Ir].indexOf(C),js=null!=(Be=K?.[R])?Be:0,yo=In?Yl:Sn-S[Lr]-N[Lr]-js+j.altAxis,Xl=In?Sn+S[Lr]+N[Lr]-js-j.altAxis:_o,En=f&&In?function Kye(e,t,i){var n=sg(e,t,i);return n>i?i:n}(yo,Sn,Xl):sg(f?yo:Yl,Sn,f?Xl:_o);M[R]=En,z[R]=En-Sn}t.modifiersData[n]=z}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function Zye(e){var t,i=e.state,n=e.name,r=e.options,s=i.elements.arrow,o=i.modifiersData.popperOffsets,a=Xo(i.placement),l=JE(a),d=[Ir,Os].indexOf(a)>=0?"height":"width";if(s&&o){var u=function(t,i){return PH("number"!=typeof(t="function"==typeof t?t(Object.assign({},i.rects,{placement:i.placement})):t)?t:OH(t,tg))}(r.padding,i),h=ZE(s),f="y"===l?kr:Ir,g="y"===l?Ps:Os,p=i.rects.reference[d]+i.rects.reference[l]-o[l]-i.rects.popper[d],m=o[l]-i.rects.reference[l],C=eg(s),v=C?"y"===l?C.clientHeight||0:C.clientWidth||0:0,M=v/2-h[d]/2+(p/2-m/2),S=sg(u[f],M,v-h[d]-u[g]);i.modifiersData[n]=((t={})[l]=S,t.centerOffset=S-M,t)}},effect:function Qye(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||MH(t.elements.popper,r)&&(t.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function ewe(e){var t=e.state,i=e.name,n=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,o=rg(t,{elementContext:"reference"}),a=rg(t,{altBoundary:!0}),l=LH(o,n),c=LH(a,r,s),d=NH(l),u=NH(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),Ml=function(){return Ml=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ml.apply(this,arguments)},XC=function(e,t,i){if(i||2===arguments.length)for(var s,n=0,r=t.length;n<r;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},kl={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},iwe={id:null,override:!0},BH=function(){function e(t,i,n,r){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=kl),void 0===r&&(r=iwe),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=i,this._options=Ml(Ml({},kl),n),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Et.addInstance("Dropdown",this,this._instanceId,r.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},e.prototype.destroy=function(){var t=this,i=this._getTriggerEvents();"click"===this._options.triggerType&&i.showEvents.forEach(function(n){t._triggerEl.removeEventListener(n,t._clickHandler)}),"hover"===this._options.triggerType&&(i.showEvents.forEach(function(n){t._triggerEl.removeEventListener(n,t._hoverShowTriggerElHandler),t._targetEl.removeEventListener(n,t._hoverShowTargetElHandler)}),i.hideEvents.forEach(function(n){t._triggerEl.removeEventListener(n,t._hoverHideHandler),t._targetEl.removeEventListener(n,t._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},e.prototype.removeInstance=function(){Et.removeInstance("Dropdown",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var t=this,i=this._getTriggerEvents();this._clickHandler=function(){t.toggle()},"click"===this._options.triggerType&&i.showEvents.forEach(function(n){t._triggerEl.addEventListener(n,t._clickHandler)}),this._hoverShowTriggerElHandler=function(n){"click"===n.type?t.toggle():setTimeout(function(){t.show()},t._options.delay)},this._hoverShowTargetElHandler=function(){t.show()},this._hoverHideHandler=function(){setTimeout(function(){t._targetEl.matches(":hover")||t.hide()},t._options.delay)},"hover"===this._options.triggerType&&(i.showEvents.forEach(function(n){t._triggerEl.addEventListener(n,t._hoverShowTriggerElHandler),t._targetEl.addEventListener(n,t._hoverShowTargetElHandler)}),i.hideEvents.forEach(function(n){t._triggerEl.addEventListener(n,t._hoverHideHandler),t._targetEl.addEventListener(n,t._hoverHideHandler)}))},e.prototype._createPopperInstance=function(){return tD(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},e.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(i){t._handleClickOutside(i,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(t,i){var n=t.target,r=this._options.ignoreClickOutsideClass,s=!1;r&&document.querySelectorAll(".".concat(r)).forEach(function(a){a.contains(n)&&(s=!0)}),n!==i&&!i.contains(n)&&!this._triggerEl.contains(n)&&!s&&this.isVisible()&&this.hide()},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":default:return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]}}},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.isVisible=function(){return this._visible},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(t){return Ml(Ml({},t),{modifiers:XC(XC([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(t){return Ml(Ml({},t),{modifiers:XC(XC([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function iD(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(e){var t=e.getAttribute("data-dropdown-toggle"),i=document.getElementById(t);if(i){var n=e.getAttribute("data-dropdown-placement"),r=e.getAttribute("data-dropdown-offset-skidding"),s=e.getAttribute("data-dropdown-offset-distance"),o=e.getAttribute("data-dropdown-trigger"),a=e.getAttribute("data-dropdown-delay"),l=e.getAttribute("data-dropdown-ignore-click-outside-class");new BH(i,e,{placement:n||kl.placement,triggerType:o||kl.triggerType,offsetSkidding:r?parseInt(r):kl.offsetSkidding,offsetDistance:s?parseInt(s):kl.offsetDistance,delay:a?parseInt(a):kl.delay,ignoreClickOutsideClass:l||kl.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(t,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=BH,window.initDropdowns=iD);var ZC=function(){return ZC=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ZC.apply(this,arguments)},QC={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},nwe={id:null,override:!0},VH=function(){function e(t,i,n){void 0===t&&(t=null),void 0===i&&(i=QC),void 0===n&&(n=nwe),this._eventListenerInstances=[],this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._options=ZC(ZC({},QC),i),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),Et.addInstance("Modal",this,this._instanceId,n.override)}return e.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(i){t._targetEl.classList.add(i)}),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},e.prototype.removeInstance=function(){Et.removeInstance("Modal",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._createBackdrop=function(){var t;if(this._isHidden){var i=document.createElement("div");i.setAttribute("modal-backdrop",""),(t=i.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),this._backdropEl=i}},e.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},e.prototype._setupModalCloseEventListeners=function(){var t=this;"dynamic"===this._options.backdrop&&(this._clickOutsideEventListener=function(i){t._handleOutsideClick(i.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(i){"Escape"===i.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeModalCloseEventListeners=function(){"dynamic"===this._options.backdrop&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._handleOutsideClick=function(t){(t===this._targetEl||t===this._backdropEl&&this.isVisible())&&this.hide()},e.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}},e.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},e.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},e.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},e.prototype.isVisible=function(){return!this._isHidden},e.prototype.isHidden=function(){return this._isHidden},e.prototype.addEventListenerInstance=function(t,i,n){this._eventListenerInstances.push({element:t,type:i,handler:n})},e.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(t){t.element.removeEventListener(t.type,t.handler)}),this._eventListenerInstances=[]},e.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function nD(){document.querySelectorAll("[data-modal-target]").forEach(function(e){var t=e.getAttribute("data-modal-target"),i=document.getElementById(t);if(i){var n=i.getAttribute("data-modal-placement"),r=i.getAttribute("data-modal-backdrop");new VH(i,{placement:n||QC.placement,backdrop:r||QC.backdrop})}else console.error("Modal with id ".concat(t," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(e){var t=e.getAttribute("data-modal-toggle");if(document.getElementById(t)){var n=Et.getInstance("Modal",t);if(n){var r=function(){n.toggle()};e.addEventListener("click",r),n.addEventListenerInstance(e,"click",r)}else console.error("Modal with id ".concat(t," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(t," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(e){var t=e.getAttribute("data-modal-show");if(document.getElementById(t)){var n=Et.getInstance("Modal",t);if(n){var r=function(){n.show()};e.addEventListener("click",r),n.addEventListenerInstance(e,"click",r)}else console.error("Modal with id ".concat(t," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(t," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(e){var t=e.getAttribute("data-modal-hide");if(document.getElementById(t)){var n=Et.getInstance("Modal",t);if(n){var r=function(){n.hide()};e.addEventListener("click",r),n.addEventListenerInstance(e,"click",r)}else console.error("Modal with id ".concat(t," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(t," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=VH,window.initModals=nD);var JC=function(){return JC=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},JC.apply(this,arguments)},Jc={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},rwe={id:null,override:!0},HH=function(){function e(t,i,n){void 0===t&&(t=null),void 0===i&&(i=Jc),void 0===n&&(n=rwe),this._eventListenerInstances=[],this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._options=JC(JC({},Jc),i),this._visible=!1,this._initialized=!1,this.init(),Et.addInstance("Drawer",this,this._instanceId,n.override)}return e.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(i){t._targetEl.classList.add(i)}),this._handleEscapeKey=function(i){"Escape"===i.key&&t.isVisible()&&t.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},e.prototype.removeInstance=function(){Et.removeInstance("Drawer",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(i){t._targetEl.classList.remove(i)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(i){t._targetEl.classList.add(i)})):(this._getPlacementClasses(this._options.placement).active.map(function(i){t._targetEl.classList.remove(i)}),this._getPlacementClasses(this._options.placement).inactive.map(function(i){t._targetEl.classList.add(i)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(i){t._targetEl.classList.add(i)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(i){t._targetEl.classList.remove(i)})):(this._getPlacementClasses(this._options.placement).active.map(function(i){t._targetEl.classList.add(i)}),this._getPlacementClasses(this._options.placement).inactive.map(function(i){t._targetEl.classList.remove(i)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype._createBackdrop=function(){var t,i=this;if(!this._visible){var n=document.createElement("div");n.setAttribute("drawer-backdrop",""),(t=n.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(n),n.addEventListener("click",function(){i.hide()})}},e.prototype._destroyBackdropEl=function(){this._visible&&null!==document.querySelector("[drawer-backdrop]")&&document.querySelector("[drawer-backdrop]").remove()},e.prototype._getPlacementClasses=function(t){switch(t){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]}}},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype.addEventListenerInstance=function(t,i,n){this._eventListenerInstances.push({element:t,type:i,handler:n})},e.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(t){t.element.removeEventListener(t.type,t.handler)}),this._eventListenerInstances=[]},e.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function rD(){document.querySelectorAll("[data-drawer-target]").forEach(function(e){var t=e.getAttribute("data-drawer-target"),i=document.getElementById(t);if(i){var n=e.getAttribute("data-drawer-placement"),r=e.getAttribute("data-drawer-body-scrolling"),s=e.getAttribute("data-drawer-backdrop"),o=e.getAttribute("data-drawer-edge"),a=e.getAttribute("data-drawer-edge-offset");new HH(i,{placement:n||Jc.placement,bodyScrolling:r?"true"===r:Jc.bodyScrolling,backdrop:s?"true"===s:Jc.backdrop,edge:o?"true"===o:Jc.edge,edgeOffset:a||Jc.edgeOffset})}else console.error("Drawer with id ".concat(t," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(e){var t=e.getAttribute("data-drawer-toggle");if(document.getElementById(t)){var n=Et.getInstance("Drawer",t);if(n){var r=function(){n.toggle()};e.addEventListener("click",r),n.addEventListenerInstance(e,"click",r)}else console.error("Drawer with id ".concat(t," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(t," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(e){var t=e.getAttribute("data-drawer-dismiss")?e.getAttribute("data-drawer-dismiss"):e.getAttribute("data-drawer-hide");if(document.getElementById(t)){var n=Et.getInstance("Drawer",t);if(n){var r=function(){n.hide()};e.addEventListener("click",r),n.addEventListenerInstance(e,"click",r)}else console.error("Drawer with id ".concat(t," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(t," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(e){var t=e.getAttribute("data-drawer-show");if(document.getElementById(t)){var n=Et.getInstance("Drawer",t);if(n){var r=function(){n.show()};e.addEventListener("click",r),n.addEventListenerInstance(e,"click",r)}else console.error("Drawer with id ".concat(t," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(t," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=HH,window.initDrawers=rD);var e_=function(){return e_=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},e_.apply(this,arguments)},t_={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},swe={id:null,override:!0},GH=function(){function e(t,i,n,r){void 0===t&&(t=null),void 0===i&&(i=[]),void 0===n&&(n=t_),void 0===r&&(r=swe),this._instanceId=r.id?r.id:t.id,this._tabsEl=t,this._items=i,this._activeTab=n?this.getTab(n.defaultTabId):null,this._options=e_(e_({},t_),n),this._initialized=!1,this.init(),Et.addInstance("Tabs",this,this._tabsEl.id,!0),Et.addInstance("Tabs",this,this._instanceId,r.override)}return e.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(i){i.triggerEl.addEventListener("click",function(n){n.preventDefault(),t.show(i.id)})}))},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},e.prototype.removeInstance=function(){this.destroy(),Et.removeInstance("Tabs",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getActiveTab=function(){return this._activeTab},e.prototype.setActiveTab=function(t){this._activeTab=t},e.prototype.getTab=function(t){return this._items.filter(function(i){return i.id===t})[0]},e.prototype.show=function(t,i){var n,r,s=this;void 0===i&&(i=!1);var o=this.getTab(t);o===this._activeTab&&!i||(this._items.map(function(a){var l,c;a!==o&&((l=a.triggerEl.classList).remove.apply(l,s._options.activeClasses.split(" ")),(c=a.triggerEl.classList).add.apply(c,s._options.inactiveClasses.split(" ")),a.targetEl.classList.add("hidden"),a.triggerEl.setAttribute("aria-selected","false"))}),(n=o.triggerEl.classList).add.apply(n,this._options.activeClasses.split(" ")),(r=o.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this.setActiveTab(o),this._options.onShow(this,o))},e.prototype.updateOnShow=function(t){this._options.onShow=t},e}();function sD(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(e){var t=[],i=e.getAttribute("data-tabs-active-classes"),n=e.getAttribute("data-tabs-inactive-classes"),r=null;e.querySelectorAll('[role="tab"]').forEach(function(s){var o="true"===s.getAttribute("aria-selected"),a={id:s.getAttribute("data-tabs-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-tabs-target"))};t.push(a),o&&(r=a.id)}),new GH(e,t,{defaultTabId:r,activeClasses:i||t_.activeClasses,inactiveClasses:n||t_.inactiveClasses})})}typeof window<"u"&&(window.Tabs=GH,window.initTabs=sD);var Il=function(){return Il=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Il.apply(this,arguments)},i_=function(e,t,i){if(i||2===arguments.length)for(var s,n=0,r=t.length;n<r;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},n_={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},owe={id:null,override:!0},zH=function(){function e(t,i,n,r){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=n_),void 0===r&&(r=owe),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=i,this._options=Il(Il({},n_),n),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Et.addInstance("Tooltip",this,this._instanceId,r.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},e.prototype.destroy=function(){var t=this;if(this._initialized){var i=this._getTriggerEvents();i.showEvents.forEach(function(n){t._triggerEl.removeEventListener(n,t._showHandler)}),i.hideEvents.forEach(function(n){t._triggerEl.removeEventListener(n,t._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},e.prototype.removeInstance=function(){Et.removeInstance("Tooltip",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var t=this,i=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){t.hide()},i.showEvents.forEach(function(n){t._triggerEl.addEventListener(n,t._showHandler)}),i.hideEvents.forEach(function(n){t._triggerEl.addEventListener(n,t._hideHandler)})},e.prototype._createPopperInstance=function(){return tD(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},e.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(i){"Escape"===i.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(i){t._handleClickOutside(i,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(t,i){var n=t.target;n!==i&&!i.contains(n)&&!this._triggerEl.contains(n)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(t){return Il(Il({},t),{modifiers:i_(i_([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(t){return Il(Il({},t),{modifiers:i_(i_([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function oD(){document.querySelectorAll("[data-tooltip-target]").forEach(function(e){var t=e.getAttribute("data-tooltip-target"),i=document.getElementById(t);if(i){var n=e.getAttribute("data-tooltip-trigger"),r=e.getAttribute("data-tooltip-placement");new zH(i,e,{placement:r||n_.placement,triggerType:n||n_.triggerType})}else console.error('The tooltip element with id "'.concat(t,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=zH,window.initTooltips=oD);var Pl=function(){return Pl=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Pl.apply(this,arguments)},r_=function(e,t,i){if(i||2===arguments.length)for(var s,n=0,r=t.length;n<r;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},og={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},awe={id:null,override:!0},WH=function(){function e(t,i,n,r){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=og),void 0===r&&(r=awe),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=i,this._options=Pl(Pl({},og),n),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Et.addInstance("Popover",this,r.id?r.id:this._targetEl.id,r.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},e.prototype.destroy=function(){var t=this;if(this._initialized){var i=this._getTriggerEvents();i.showEvents.forEach(function(n){t._triggerEl.removeEventListener(n,t._showHandler),t._targetEl.removeEventListener(n,t._showHandler)}),i.hideEvents.forEach(function(n){t._triggerEl.removeEventListener(n,t._hideHandler),t._targetEl.removeEventListener(n,t._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},e.prototype.removeInstance=function(){Et.removeInstance("Popover",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var t=this,i=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){setTimeout(function(){t._targetEl.matches(":hover")||t.hide()},100)},i.showEvents.forEach(function(n){t._triggerEl.addEventListener(n,t._showHandler),t._targetEl.addEventListener(n,t._showHandler)}),i.hideEvents.forEach(function(n){t._triggerEl.addEventListener(n,t._hideHandler),t._targetEl.addEventListener(n,t._hideHandler)})},e.prototype._createPopperInstance=function(){return tD(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},e.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(i){"Escape"===i.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(i){t._handleClickOutside(i,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(t,i){var n=t.target;n!==i&&!i.contains(n)&&!this._triggerEl.contains(n)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(t){return Pl(Pl({},t),{modifiers:r_(r_([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(t){return Pl(Pl({},t),{modifiers:r_(r_([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function aD(){document.querySelectorAll("[data-popover-target]").forEach(function(e){var t=e.getAttribute("data-popover-target"),i=document.getElementById(t);if(i){var n=e.getAttribute("data-popover-trigger"),r=e.getAttribute("data-popover-placement"),s=e.getAttribute("data-popover-offset");new WH(i,e,{placement:r||og.placement,offset:s?parseInt(s):og.offset,triggerType:n||og.triggerType})}else console.error('The popover element with id "'.concat(t,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=WH,window.initPopovers=aD);var s_=function(){return s_=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s_.apply(this,arguments)},lD={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},lwe={id:null,override:!0},UH=function(){function e(t,i,n,r,s){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=lD),void 0===s&&(s=lwe),this._instanceId=s.id?s.id:n.id,this._parentEl=t,this._triggerEl=i,this._targetEl=n,this._options=s_(s_({},lD),r),this._visible=!1,this._initialized=!1,this.init(),Et.addInstance("Dial",this,this._instanceId,s.override)}return e.prototype.init=function(){var t=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var i=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){t.show()},i.showEvents.forEach(function(n){t._triggerEl.addEventListener(n,t._showEventHandler),t._targetEl.addEventListener(n,t._showEventHandler)}),this._hideEventHandler=function(){t._parentEl.matches(":hover")||t.hide()},i.hideEvents.forEach(function(n){t._parentEl.addEventListener(n,t._hideEventHandler)}),this._initialized=!0}},e.prototype.destroy=function(){var t=this;if(this._initialized){var i=this._getTriggerEventTypes(this._options.triggerType);i.showEvents.forEach(function(n){t._triggerEl.removeEventListener(n,t._showEventHandler),t._targetEl.removeEventListener(n,t._showEventHandler)}),i.hideEvents.forEach(function(n){t._parentEl.removeEventListener(n,t._hideEventHandler)}),this._initialized=!1}},e.prototype.removeInstance=function(){Et.removeInstance("Dial",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this._visible?this.hide():this.show()},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype._getTriggerEventTypes=function(t){switch(t){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function cD(){document.querySelectorAll("[data-dial-init]").forEach(function(e){var t=e.querySelector("[data-dial-toggle]");if(t){var i=t.getAttribute("data-dial-toggle"),n=document.getElementById(i);if(n){var r=t.getAttribute("data-dial-trigger");new UH(e,t,n,{triggerType:r||lD.triggerType})}else console.error("Dial with id ".concat(i," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(e.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=UH,window.initDials=cD);var o_=function(){return o_=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o_.apply(this,arguments)},jH={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},cwe={id:null,override:!0},$H=function(){function e(t,i,n,r,s){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=jH),void 0===s&&(s=cwe),this._instanceId=s.id?s.id:t.id,this._targetEl=t,this._incrementEl=i,this._decrementEl=n,this._options=o_(o_({},jH),r),this._initialized=!1,this.init(),Et.addInstance("InputCounter",this,this._instanceId,s.override)}return e.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(i){var n=i.target;/^\d*$/.test(n.value)||(n.value=n.value.replace(/[^\d]/g,"")),null!==t._options.maxValue&&parseInt(n.value)>t._options.maxValue&&(n.value=t._options.maxValue.toString()),null!==t._options.minValue&&parseInt(n.value)<t._options.minValue&&(n.value=t._options.minValue.toString())},this._incrementClickHandler=function(){t.increment()},this._decrementClickHandler=function(){t.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){Et.removeInstance("InputCounter",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},e.prototype.increment=function(){null!==this._options.maxValue&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},e.prototype.decrement=function(){null!==this._options.minValue&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},e.prototype.updateOnIncrement=function(t){this._options.onIncrement=t},e.prototype.updateOnDecrement=function(t){this._options.onDecrement=t},e}();function dD(){document.querySelectorAll("[data-input-counter]").forEach(function(e){var t=e.id,i=document.querySelector('[data-input-counter-increment="'+t+'"]'),n=document.querySelector('[data-input-counter-decrement="'+t+'"]'),r=e.getAttribute("data-input-counter-min"),s=e.getAttribute("data-input-counter-max");e?Et.instanceExists("InputCounter",e.getAttribute("id"))||new $H(e,i||null,n||null,{minValue:r?parseInt(r):null,maxValue:s?parseInt(s):null}):console.error('The target element with id "'.concat(t,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=$H,window.initInputCounters=dD);var a_=function(){return a_=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a_.apply(this,arguments)},l_={htmlEntities:!1,contentType:"input",onCopy:function(){}},dwe={id:null,override:!0},KH=function(){function e(t,i,n,r){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=l_),void 0===r&&(r=dwe),this._instanceId=r.id?r.id:i.id,this._triggerEl=t,this._targetEl=i,this._options=a_(a_({},l_),n),this._initialized=!1,this.init(),Et.addInstance("CopyClipboard",this,this._instanceId,r.override)}return e.prototype.init=function(){var t=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){t.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){Et.removeInstance("CopyClipboard",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getTargetValue=function(){return"input"===this._options.contentType?this._targetEl.value:"innerHTML"===this._options.contentType?this._targetEl.innerHTML:"textContent"===this._options.contentType?this._targetEl.textContent.replace(/\s+/g," ").trim():void 0},e.prototype.copy=function(){var t=this.getTargetValue();this._options.htmlEntities&&(t=this.decodeHTML(t));var i=document.createElement("textarea");return i.value=t,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),this._options.onCopy(this),t},e.prototype.decodeHTML=function(t){var i=document.createElement("textarea");return i.innerHTML=t,i.textContent},e.prototype.updateOnCopyCallback=function(t){this._options.onCopy=t},e}();function uD(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(e){var t=e.getAttribute("data-copy-to-clipboard-target"),i=document.getElementById(t),n=e.getAttribute("data-copy-to-clipboard-content-type"),r=e.getAttribute("data-copy-to-clipboard-html-entities");i?Et.instanceExists("CopyClipboard",i.getAttribute("id"))||new KH(e,i,{htmlEntities:!(!r||"true"!==r)||l_.htmlEntities,contentType:n||l_.contentType}):console.error('The target element with id "'.concat(t,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}function hD(){GE(),WE(),UE(),jE(),iD(),nD(),rD(),sD(),oD(),aD(),cD(),dD(),uD()}typeof window<"u"&&(window.CopyClipboard=KH,window.initClipboards=uD),typeof window<"u"&&(window.initFlowbite=hD),new $_e("load",[GE,WE,UE,jE,iD,nD,rD,sD,oD,aD,cD,dD,uD]).init();let fD=(()=>{class e{constructor(i,n){this.document=i,this.platformId=n,this.documentIsAccessible=vO(this.platformId)}static getCookieRegExp(i){const n=i.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(i){try{return decodeURIComponent(i)}catch{return i}}check(i){return!!this.documentIsAccessible&&(i=encodeURIComponent(i),e.getCookieRegExp(i).test(this.document.cookie))}get(i){if(this.documentIsAccessible&&this.check(i)){i=encodeURIComponent(i);const r=e.getCookieRegExp(i).exec(this.document.cookie);return r[1]?e.safeDecodeURIComponent(r[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const i={},n=this.document;return n.cookie&&""!==n.cookie&&n.cookie.split(";").forEach(r=>{const[s,o]=r.split("=");i[e.safeDecodeURIComponent(s.replace(/^ /,""))]=e.safeDecodeURIComponent(o)}),i}set(i,n,r,s,o,a,l){if(!this.documentIsAccessible)return;if("number"==typeof r||r instanceof Date||s||o||a||l)return void this.set(i,n,{expires:r,path:s,domain:o,secure:a,sameSite:l||"Lax"});let c=encodeURIComponent(i)+"="+encodeURIComponent(n)+";";const d=r||{};d.expires&&(c+="number"==typeof d.expires?"expires="+new Date((new Date).getTime()+1e3*d.expires*60*60*24).toUTCString()+";":"expires="+d.expires.toUTCString()+";"),d.path&&(c+="path="+d.path+";"),d.domain&&(c+="domain="+d.domain+";"),!1===d.secure&&"None"===d.sameSite&&(d.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${i} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),d.secure&&(c+="secure;"),d.sameSite||(d.sameSite="Lax"),c+="sameSite="+d.sameSite+";",this.document.cookie=c}delete(i,n,r,s,o="Lax"){this.documentIsAccessible&&this.set(i,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:n,domain:r,secure:s,sameSite:o})}deleteAll(i,n,r,s="Lax"){if(!this.documentIsAccessible)return;const o=this.getAll();for(const a in o)o.hasOwnProperty(a)&&this.delete(a,i,n,r,s)}static#e=this.\u0275fac=function(n){return new(n||e)(W(rt),W(pa))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ol=(()=>{class e{constructor(i,n){this.router=i,this.cookieService=n}isLoggedIn(){return!!this.cookieService.get("authToken")}clearToken(){this.cookieService.delete("authToken","/"),this.router.navigate(["/"])}getAuthToken(){return this.cookieService.get("authToken")}decodeAuthToken(i){if(i){const n=i.split(".");return 3===n.length?JSON.parse(atob(n[1])):(console.error("Invalid JWT token format"),null)}return console.error("No authToken found"),null}decodeTokenAndRedirect(){const i=this.cookieService.get("authToken");if(i){const n=i.split(".");if(3===n.length){const r=JSON.parse(atob(n[1]));switch(console.log("Decoded Token Payload:",r),r.role){case"admin":this.router.navigate(["/AdminHistory"]);break;case"user":this.router.navigate(["/Booking"]);break;case"counsellor":this.router.navigate(["/Profile"]);break;default:this.router.navigate(["/"])}}else console.error("Invalid JWT token format")}else console.error("No authToken found")}static#e=this.\u0275fac=function(n){return new(n||e)(W(Ui),W(fD))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hwe(e,t){if(1&e){const i=Fi();y(0,"label",60),ye("click",function(){return Dt(i),Tt(Se().sendOtp())}),F(1,"Click to send OTP"),w()}}function fwe(e,t){if(1&e&&(y(0,"label",61),F(1),w()),2&e){const i=Se();L(1),Xe("Resend available in ",i.currentTime," seconds")}}function pwe(e,t){if(1&e){const i=Fi();y(0,"label",62),ye("click",function(){return Dt(i),Tt(Se().sendOtp())}),F(1,"Resend OTP"),w()}}function gwe(e,t){if(1&e&&(y(0,"label",63),F(1),w()),2&e){const i=Se();L(1),Xe(" ",i.Negetivemessage,"")}}function mwe(e,t){if(1&e&&(y(0,"label",64),F(1),w()),2&e){const i=Se();L(1),Xe(" ",i.Positivemessage,"")}}function vwe(e,t){if(1&e&&(y(0,"label",64),F(1),w()),2&e){const i=Se();L(1),Xe(" ",i.Positivemessage," ")}}function Cwe(e,t){if(1&e&&(y(0,"label",63),F(1),w()),2&e){const i=Se();L(1),Xe(" ",i.Negetivemessage," ")}}function _we(e,t){if(1&e){const i=Fi();y(0,"label",60),ye("click",function(){return Dt(i),Tt(Se().sendAdminOtp())}),F(1,"Click to send OTP"),w()}}function ywe(e,t){if(1&e&&(y(0,"label",61),F(1),w()),2&e){const i=Se();L(1),Xe("Resend available in ",i.currentTime," seconds")}}function wwe(e,t){if(1&e){const i=Fi();y(0,"label",62),ye("click",function(){return Dt(i),Tt(Se().sendAdminOtp())}),F(1,"Resend OTP"),w()}}function bwe(e,t){if(1&e&&(y(0,"label",63),F(1),w()),2&e){const i=Se();L(1),Xe(" ",i.Negetivemessage,"")}}function xwe(e,t){if(1&e&&(y(0,"label",64),F(1),w()),2&e){const i=Se();L(1),Xe(" ",i.Positivemessage,"")}}function Swe(e,t){if(1&e&&(y(0,"label",63),F(1),w()),2&e){const i=Se();L(1),Xe(" ",i.Negetivemessage,"")}}function Ewe(e,t){if(1&e&&(y(0,"label",64),F(1),w()),2&e){const i=Se();L(1),Xe(" ",i.Positivemessage,"")}}const pD=function(){return{exact:!0}};let gD=(()=>{class e{constructor(i,n,r,s,o,a){this.fb=i,this.http=n,this.router=r,this.cookieService=s,this.toastr=o,this.authService=a,this.isPasswordVisibleforgotpass=!1,this.isPasswordVisibleconforgotpass=!1,this.isPasswordVisibleAdmin=!1,this.isPasswordVisibleUser=!1,this.duration=30,this.currentTime=this.duration,this.otpSent=!1,this.Negetivemessage=null,this.Positivemessage=null,this.apiKey="https://kj-wellbeingcentre.onrender.com/",this.StuLogin=this.fb.group({Email:["",oi.required],Otp:["",oi.required]}),this.AdminLogin=this.fb.group({AdminEmail:["",oi.required],Password:["",oi.required]}),this.ForgotPass=this.fb.group({email:["",oi.required],Otp:["",oi.required],Password:["",oi.required],ConfirmPassword:["",oi.required]})}togglePasswordVisibility(){this.isPasswordVisibleAdmin=!this.isPasswordVisibleAdmin}togglePasswordVisibilityForgotPass(){this.isPasswordVisibleforgotpass=!this.isPasswordVisibleforgotpass}togglePasswordVisibilityForgotConPass(){this.isPasswordVisibleconforgotpass=!this.isPasswordVisibleconforgotpass}sendOtp(){const i=this.StuLogin.get("Email")?.value??"";if(!i.endsWith("@kristujayanti.com"))return this.toastr.error("Please enter a valid college email","Try Again"),this.Negetivemessage="Please enter a valid college email",void(this.Positivemessage=null);this.http.post(this.apiKey+"generate",{email:i},{observe:"response"}).subscribe({next:r=>{this.Positivemessage="OTP sent successfully",this.Negetivemessage=null,this.otpSent=!0,this.startTimer()},error:r=>{this.Negetivemessage="Failed to send OTP request. Please try again.",this.Positivemessage=null,0===r.status&&(this.Negetivemessage="Failed to connect to the server.",this.Positivemessage=null)}})}removeMesage(){this.Negetivemessage=null,this.Positivemessage=null}onClick(){this.Negetivemessage=null,this.Positivemessage=null;const i={email:this.StuLogin.get("Email")?.value??"",otp:this.StuLogin.get("Otp")?.value??""};console.log(i),this.http.post(this.apiKey+"userverify",i,{observe:"response"}).subscribe({next:n=>{const r=n.body;if(console.log(n),r&&"OTP is valid"===r.message){const s=r.token;console.log("JWT Token:",s),this.cookieService.set("authToken",s),this.Positivemessage="OTP verified",this.Negetivemessage=null,this.toastr.success("Login successful!","Success"),this.authService.decodeTokenAndRedirect(),this.removeMesage()}else this.Negetivemessage="Failed to verify OTP. Please try again.",this.Positivemessage=null,this.toastr.error("Login Failed","try again")}})}FormData(i){throw new Error("Method not implemented.")}startTimer(){this.resetTimer(),this.intervalId=setInterval(()=>{this.currentTime--,this.currentTime<=0&&this.onComplete()},1e3)}resetTimer(){clearInterval(this.intervalId),this.currentTime=this.duration}stopTimer(){clearInterval(this.intervalId)}onComplete(){this.stopTimer()}ngOnDestroy(){clearInterval(this.intervalId)}adminOnClick(){const i={email:this.AdminLogin.get("AdminEmail")?.value??"",password:this.AdminLogin.get("Password")?.value??""};this.http.post(this.apiKey+"login",i,{observe:"response"}).subscribe({next:n=>{const r=n.body,s=r.token;console.log("JWT Token:",s),this.cookieService.set("authToken",s,{path:"/"}),console.log("Admin logged in",n),"Successfully Logged in"===r.message&&(this.Positivemessage="Logged in",this.Negetivemessage=null,this.removeMesage(),("counsellor"===r.role||"admin"===r.role)&&(this.toastr.success("Login successful!","Success"),this.authService.decodeTokenAndRedirect()))},error:n=>{console.error("Error sending request:",n),this.toastr.error("Login Failed","try again"),0===n.status&&(this.Negetivemessage="Email or Password wrong try again")}})}sendAdminOtp(){const n={email:this.ForgotPass.get("email")?.value??""};this.http.post(this.apiKey+"generate",n,{observe:"response"}).subscribe({next:r=>{this.Positivemessage="OTP sent successfully",this.startTimer(),this.Negetivemessage=null,this.otpSent=!0,this.removeMesage()},error:r=>{this.Negetivemessage="Failed to send OTP request. Please try again.",this.Positivemessage=null,0===r.status&&(this.Negetivemessage="Failed to connect to the server.",this.Positivemessage=null)}})}Verify(){const i={email:this.ForgotPass.get("email")?.value??"",otp:this.ForgotPass.get("Otp")?.value??""};this.Negetivemessage=null,this.Positivemessage=null,this.http.post(this.apiKey+"verify",i,{observe:"response"}).subscribe({next:n=>{const r=n.body;if(console.log(i),r&&"OTP is valid"===r.message){this.removeMesage();const s=document.getElementById("passwordcontainer");s&&(s.style.display="contents");const o=document.getElementById("Otpverificationcontainer");o&&(o.style.display="none")}else console.error("Error verifying OTP:",r),this.Negetivemessage="Failed to verify OTP. Please try again.",this.Positivemessage=null},error:n=>{console.error("Error sending OTP verification request:",n),this.Negetivemessage="Failed to verify OTP. Please try again.",this.Positivemessage=null}})}changePassword(){const i=this.ForgotPass.get("Password")?.value??"",n=this.ForgotPass.get("ConfirmPassword")?.value??"";if(console.log(i),console.log(n),i!==n)return console.log("Passwords do not match"),void this.toastr.error("Passwords do not match");const r={email:this.ForgotPass.get("email")?.value??"",newpassword:i};this.http.post(this.apiKey+"forget",r,{observe:"response"}).subscribe({next:s=>{"Password Updated"===s.body.message&&(this.toastr.success("Password Changed","Success"),console.log("Password change successful",s))},error:s=>{console.log("Password change failed",s),this.toastr.error("Error Changing Password","try again")}})}displayUserLogin(){const i=document.getElementById("authentication-modal");i&&(i.style.display="flex")}closeUserLogin(){const i=document.getElementById("authentication-modal");i&&(i.style.display="none"),this.StuLogin.reset()}displayAdminLogin(){const i=document.getElementById("adminAuth");i&&(i.style.display="flex")}closeAdminLogin(){const i=document.getElementById("adminAuth");i&&(i.style.display="none"),this.AdminLogin.reset()}displayForgotPass(){const i=document.getElementById("ForgotPass");i&&(i.style.display="flex")}closeForgotPass(){const i=document.getElementById("ForgotPass");i&&(i.style.display="none"),this.ForgotPass.reset()}static#e=this.\u0275fac=function(n){return new(n||e)(E(Kf),E(oo),E(Ui),E(fD),E(Ma),E(Ol))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-navbar"]],decls:145,vars:30,consts:[[1,"w-full","bg-sky-200","flex","flex-wrap","items-center","justify-between","mx-auto","p-4"],[1,"flex","items-center","ml-8","space-x-3","rtl:space-x-reverse"],["src","\\assets\\img\\logofull.png",1,"h-5","mt-3","ml-[4vw]","mb-4",2,"scale","2.0"],[1,"flex","md:order-2","space-x-3","md:space-x-0","rtl:space-x-reverse"],["type","button","id","loginbtn",1,"block","text-white","bg-teal-400","hover:bg-teal-700","focus:ring-4","focus:outline-none","focus:ring-teal-300","font-medium","rounded-3xl","text-sm","px-5","py-2.5","text-center",3,"click"],["data-collapse-toggle","navbar-sticky","type","button","aria-controls","navbar-sticky","aria-expanded","false",1,"inline-flex","items-center","p-2","w-10","h-10","justify-center","text-sm","text-gray-500","rounded-lg","md:hidden","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-gray-200","dark:text-gray-400","dark:hover:bg-gray-700","dark:focus:ring-gray-600"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 17 14",1,"w-5","h-5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 1h15M1 7h15M1 13h15"],["id","navbar-sticky",1,"items-center","justify-between","bg-transparent","hidden","w-full","md:flex","md:w-auto","md:order-1"],[1,"flex","flex-col","p-4","md:p-0","mt-4","font-medium","border","border-gray-100","rounded-lg","bg-transparent","md:space-x-8","rtl:space-x-reverse","md:flex-row","md:mt-0","md:border-0","md:bg-transparent"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"block","py-2","px-3","text-gray-900","hover:bg-transparent","rounded","md:bg-transparent","md:p-0",3,"routerLinkActiveOptions"],["routerLink","/termsandconditions","routerLinkActive","active",1,"block","py-2","px-3","text-gray-900","rounded","hover:bg-transparent","md:hover:text-teal-700","md:p-0","md:dark:hover:text-teal-500","dark:text-white","dark:hover:bg-gray-700","dark:hover:text-white","md:dark:hover:bg-transparent",3,"routerLinkActiveOptions"],["routerLink","/counsellors","routerLinkActive","active",1,"block","py-2","px-3","text-gray-900","rounded","hover:bg-transparent","md:hover:text-teal-700","md:p-0","md:dark:hover:text-teal-500","dark:text-white","dark:hover:bg-gray-700","dark:hover:text-white","md:dark:hover:bg-transparent",3,"routerLinkActiveOptions"],["type","button","id","loginbtn2",1,"block","text-white","bg-teal-400","hover:bg-teal-700","focus:ring-4","focus:outline-none","focus:ring-teal-300","font-medium","rounded-3xl","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-teal-700",3,"click"],["id","authentication-modal",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","z-50","justify-center","items-center","w-full","md:inset-0","h-100%","max-h-full"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"relative","bg-white","rounded-lg"],[1,"flex","items-center","justify-between","p-4","md:p-5"],[1,"text-xl","font-semibold","text-gray-900"],["type","button",1,"end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"p-4","md:p-5"],["action","#",1,"space-y-4",3,"formGroup"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","formControlName","Email","name","email","id","Email","placeholder","youremail@kristujayanti.com.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-slate-400","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-900","dark:text-white"],[1,"flex","flex-col","items-end"],["class","text-teal-300 text-sm cursor-pointer",3,"click",4,"ngIf"],["class","text-gray-400 text-xs",4,"ngIf"],["class","text-teal-300 text-xs cursor-pointer",3,"click",4,"ngIf"],["class","text-red-700 text-xs",4,"ngIf"],["class","text-green-700 text-xs",4,"ngIf"],["for","otp",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","Otp","id","Otp","type","number","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5",3,"type"],[1,"flex","justify-between"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["type","submit","id","Logbtn",1,"w-full","text-white","bg-teal-400","hover:bg-teal-700","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-0","py-0","text-center","py-2",3,"click"],["for","adminLogin",1,"text-sm",3,"click"],[1,"text-blue-500","cursor-pointer","ml-2"],["id","adminAuth",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","z-50","justify-center","items-center","w-full","md:inset-0","h-100%","max-h-full"],[1,"text-xl","font-semibold","text-center","text-gray-900"],[1,"space-y-4",3,"formGroup"],["for","AdminEmail",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","AdminEmail","formControlName","AdminEmail","name","AdminEmail","id","AdminEmail","placeholder","youremail@kristujayanti.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-slate-400","block","w-full","p-2.5"],[1,"relative"],["for","Password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","Password","formControlName","Password","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5",3,"type"],["aria-hidden","true",1,"fas",3,"ngClass","click"],["for","admin",1,"text-sm","cursor-pointer","text-blue-500",3,"click"],["id","ForgotPass",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","z-50","justify-center","items-center","w-full","md:inset-0","h-100%","max-h-full"],["id","Otpverificationcontainer"],["type","email","formControlName","email","name","email","id","mail","placeholder","youremail@kristujayanti.com.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-slate-400","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-900","dark:text-white"],["id","Otp","formControlName","Otp","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],[1,"w-full","text-white","bg-teal-400","hover:bg-teal-700","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-0","py-0","text-center","py-2",3,"click"],["id","passwordcontainer"],["for","ConfirmPassword",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","ConfirmPassword","formControlName","ConfirmPassword","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5",3,"type"],[1,"text-teal-300","text-sm","cursor-pointer",3,"click"],[1,"text-gray-400","text-xs"],[1,"text-teal-300","text-xs","cursor-pointer",3,"click"],[1,"text-red-700","text-xs"],[1,"text-green-700","text-xs"]],template:function(n,r){1&n&&(y(0,"div",0)(1,"a",1),ie(2,"img",2),w(),y(3,"div",3)(4,"button",4),ye("click",function(){return r.displayUserLogin()}),F(5,"Login"),w(),y(6,"button",5)(7,"span",6),F(8,"Open main menu"),w(),vs(),y(9,"svg",7),ie(10,"path",8),w()()(),Js(),y(11,"div",9)(12,"ul",10)(13,"li",11)(14,"a",12),F(15,"Home"),w()(),y(16,"li",11)(17,"a",13),F(18,"Terms & Conditions"),w()(),y(19,"li",11)(20,"a",14),F(21,"Counsellors"),w()(),y(22,"li",11)(23,"a")(24,"button",15),ye("click",function(){return r.displayUserLogin()}),F(25,"Login"),w()()()()()(),y(26,"div",16)(27,"div",17)(28,"div",18)(29,"div",19)(30,"h3",20),F(31," Login "),w(),y(32,"button",21),ye("click",function(){return r.closeUserLogin()})("click",function(){return r.removeMesage()}),vs(),y(33,"svg",22),ie(34,"path",23),w(),Js(),y(35,"span",6),F(36,"Close modal"),w()()(),y(37,"div",24)(38,"form",25)(39,"div")(40,"label",26),F(41,"Email"),w(),ie(42,"input",27),y(43,"div",28),xe(44,hwe,2,0,"label",29),xe(45,fwe,2,1,"label",30),xe(46,pwe,2,0,"label",31),xe(47,gwe,2,1,"label",32),xe(48,mwe,2,1,"label",33),w()(),y(49,"div")(50,"label",34),F(51,"Enter your OTP"),w(),ie(52,"input",35),w(),y(53,"div",36)(54,"div",37),ie(55,"div",38),w()(),y(56,"button",39),ye("click",function(){return r.onClick()}),F(57,"Login"),w()(),y(58,"label",40),ye("click",function(){return r.closeUserLogin()})("click",function(){return r.removeMesage()})("click",function(){return r.displayAdminLogin()}),F(59,"Counsellor?"),y(60,"u",41),F(61,"Login Here"),w()()()()()(),y(62,"div",42)(63,"div",17)(64,"div",18)(65,"div",19)(66,"h3",43),F(67," Counsellor Login "),w(),y(68,"button",21),ye("click",function(){return r.closeAdminLogin()})("click",function(){return r.removeMesage()}),vs(),y(69,"svg",22),ie(70,"path",23),w(),Js(),y(71,"span",6),F(72,"Close modal"),w()()(),y(73,"div",24)(74,"form",44)(75,"div")(76,"label",45),F(77,"Email"),w(),ie(78,"input",46),w(),y(79,"div",47)(80,"label",48),F(81,"Enter your Password"),w(),ie(82,"input",49),y(83,"i",50),ye("click",function(){return r.togglePasswordVisibility()}),w()(),xe(84,vwe,2,1,"label",33),xe(85,Cwe,2,1,"label",32),y(86,"button",39),ye("click",function(){return r.adminOnClick()}),F(87,"Login"),w()(),y(88,"label",51),ye("click",function(){return r.removeMesage()})("click",function(){return r.closeAdminLogin()})("click",function(){return r.displayForgotPass()}),y(89,"u"),F(90,"Forgot Password"),w(),F(91," ?"),w()()()()(),y(92,"div",52)(93,"div",17)(94,"div",18)(95,"div",19)(96,"h3",20),F(97," Forgot Password "),w(),y(98,"button",21),ye("click",function(){return r.closeForgotPass()})("click",function(){return r.removeMesage()}),vs(),y(99,"svg",22),ie(100,"path",23),w(),Js(),y(101,"span",6),F(102,"Close modal"),w()()(),y(103,"div",24)(104,"form",25)(105,"div",53)(106,"div")(107,"label",26),F(108,"Email"),w(),ie(109,"input",54),y(110,"div",28),xe(111,_we,2,0,"label",29),xe(112,ywe,2,1,"label",30),xe(113,wwe,2,0,"label",31),xe(114,bwe,2,1,"label",32),xe(115,xwe,2,1,"label",33),w()(),y(116,"div")(117,"label",34),F(118,"Enter your OTP"),w(),ie(119,"input",55),w(),y(120,"div",36)(121,"div",37),ie(122,"div",38),w()(),y(123,"button",56),ye("click",function(){return r.Verify()}),F(124,"Verify OTP"),w()(),y(125,"div",57)(126,"div",47)(127,"label",48),F(128,"Enter your NewPassword"),w(),ie(129,"input",49),y(130,"i",50),ye("click",function(){return r.togglePasswordVisibilityForgotPass()}),w()(),y(131,"div",28),xe(132,Swe,2,1,"label",32),xe(133,Ewe,2,1,"label",33),w(),y(134,"div",47)(135,"label",58),F(136,"Confirm your new Password"),w(),ie(137,"input",59),y(138,"i",50),ye("click",function(){return r.togglePasswordVisibilityForgotConPass()}),w()(),y(139,"div",36)(140,"div",37),ie(141,"div",38),w()(),y(142,"button",39),ye("click",function(){return r.changePassword()})("click",function(){return r.removeMesage()})("click",function(){return r.closeForgotPass()})("click",function(){return r.displayAdminLogin()}),F(143,"Login"),w()()()()(),F(144," \xa0\xa0\xa0"),w()()),2&n&&(L(14),U("routerLinkActiveOptions",qr(27,pD)),L(3),U("routerLinkActiveOptions",qr(28,pD)),L(3),U("routerLinkActiveOptions",qr(29,pD)),L(18),U("formGroup",r.StuLogin),L(6),U("ngIf",!r.otpSent),L(1),U("ngIf",r.otpSent&&r.currentTime>0),L(1),U("ngIf",r.otpSent&&r.currentTime<=0),L(1),U("ngIf",r.Negetivemessage),L(1),U("ngIf",r.Positivemessage),L(4),U("type",r.isPasswordVisibleUser?"text":"password"),L(22),U("formGroup",r.AdminLogin),L(8),U("type",r.isPasswordVisibleAdmin?"text":"password"),L(1),U("ngClass",r.isPasswordVisibleAdmin?"fa-eye":"fa-eye-slash"),L(1),U("ngIf",r.Positivemessage),L(1),U("ngIf",r.Negetivemessage),L(19),U("formGroup",r.ForgotPass),L(7),U("ngIf",!r.otpSent),L(1),U("ngIf",r.otpSent&&r.currentTime>0),L(1),U("ngIf",r.otpSent&&r.currentTime<=0),L(1),U("ngIf",r.Negetivemessage),L(1),U("ngIf",r.Positivemessage),L(14),U("type",r.isPasswordVisibleforgotpass?"text":"password"),L(1),U("ngClass",r.isPasswordVisibleforgotpass?"fa-eye":"fa-eye-slash"),L(2),U("ngIf",r.Negetivemessage),L(1),U("ngIf",r.Positivemessage),L(4),U("type",r.isPasswordVisibleconforgotpass?"text":"password"),L(1),U("ngClass",r.isPasswordVisibleconforgotpass?"fa-eye":"fa-eye-slash"))},dependencies:[wu,Dr,wc,Vo,al,ll,dl,Zr,Eu,Yc,Qp],styles:["#mainNav[_ngcontent-%COMP%]{background-color:#c5dffd}.wrap[_ngcontent-%COMP%]{max-width:100%;position:relative}.wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;padding:10px;bottom:2%}.fas[_ngcontent-%COMP%]{position:absolute;top:70%;right:1rem;transform:translateY(-50%)}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{gap:30.1px}#College[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:12px;font-weight:400}a[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:10.85;font-weight:400}#loginbtn2[_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%]{color:teal}#passwordcontainer[_ngcontent-%COMP%]{display:none}#Otpverificationcontainer[_ngcontent-%COMP%]{display:contents}#authentication-modal[_ngcontent-%COMP%], #adminAuth[_ngcontent-%COMP%], #ForgotPass[_ngcontent-%COMP%]{display:none;background-color:#00000080;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}@media (max-width: 762px){.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{gap:none}#loginbtn[_ngcontent-%COMP%]{display:none}#loginbtn2[_ngcontent-%COMP%]{display:block}}"]})}return e})(),Dwe=(()=>{class e{ngOnInit(){hD()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=et({type:e,selectors:[["app-landing-page"]],decls:70,vars:0,consts:[[1,"h-screen","w-full","bg-gradient-to-b","from-sky-200","to-white"],[1,"flex","flex-col","lg:flex-row","font-poppins","justify-between","px-8","lg:px-16"],[1,"hero","text-left","pt-6"],[1,"text-2xl","font-normal"],[1,"text-5xl","leading-loose","lg:text-7xl","font-bold"],[1,"text-xs","text-center","gap-6","flex","flex-row","mt-14"],[1,"w-[7rem]","h-[7rem]rounded-[100%]","p-2","flex","flex-col","items-center","justify-center","text-center"],[1,"scale-150"],[1,"fa-solid","fa-file-shield"],[1,"text-base","mt-2"],[1,"mt-1"],[1,"fa-solid","fa-medal"],[1,"flex","flex-col","items-center","justify-center","text-center"],[1,"fa-solid","fa-server"],[1,"mt-10"],["src","assets/img/illus.svg","alt","Wellbeing Illustration",1,"meditate-img","w-full","max-w-md","lg:max-w-none","lg:w-[380px]","lg:h-[350px]"],[1,"testimonial","flex","flex-col","lg:flex-row","flex-wrap","px-4","lg:px-9","mt-10","gap-6"],[1,"w-full","lg:w-auto","hidden","lg:block"],["width","280px","height","150px","src","/assets/img/hands.svg","alt","Meditation",1,"meditation-img","max-w-xs"],[1,"flex","flex-col","lg:flex-row","justify-center","items-center","gap-6","w-full","max-w-screen-lg","mx-auto","p-4"],[1,"bg-white","p-4","rounded-lg","shadow-lg","w-full","max-w-xs","lg:max-w-md","font-inter","overflow-hidden"],[1,"text-base","text-center","font-bold","mb-2"],[1,"text-xs","text-justify","break-words"],[1,"bg-white","p-4","rounded-lg","shadow-lg","w-full","max-w-xs","lg:max-w-md","text-left","font-inter","overflow-hidden"],[1,"text-base","font-bold","mb-2","text-center"],[1,"text-xs"],[1,"font-semibold"],[1,"m-4"],[1,"w-full","max-w-screen-xl","mx-auto","p-4","md:py-8","flex","items-center","justify-center"],["src","assets/kjsdc.png","alt","Kristu Jayanti Logo",1,"h-12"],[1,"text-slate-500"]],template:function(n,r){1&n&&(ie(0,"app-navbar"),y(1,"main",0)(2,"section",1)(3,"div",2)(4,"p",3),F(5,"Welcome to"),w(),y(6,"h1",4),F(7,"Kristu Jayanti "),ie(8,"br"),F(9," Wellbeing Centre"),w(),y(10,"div",5)(11,"div",6)(12,"div",7),ie(13,"i",8),w(),y(14,"h3",9),F(15,"256-Bit"),w(),y(16,"p",10),F(17,"Encryption"),w()(),y(18,"div",6)(19,"div",7),ie(20,"i",11),w(),y(21,"h3",9),F(22,"ISO-27001"),w(),y(23,"p",10),F(24,"Certified"),w()(),y(25,"div",12)(26,"div",7),ie(27,"i",13),w(),y(28,"h3",9),F(29,"HIPPA"),w(),y(30,"p",10),F(31,"Compliant"),w()()()(),y(32,"div",14),ie(33,"img",15),w()(),y(34,"section",16)(35,"div",17),ie(36,"img",18),w(),y(37,"div",19)(38,"div",20)(39,"h2",21),F(40,"Student Well-being Centre"),w(),y(41,"p",22),F(42," Welcome to the Student Well-being Centre, your dedicated space for mental health support and personal growth. College life can be an exciting yet challenging journey, filled with new experiences, academic pressures, and personal transitions. At times, these challenges can feel overwhelming, but you don't have to navigate them alone. "),ie(43,"br"),F(44," Counselling offers a safe, confidential space to explore your thoughts, feelings, and experiences with the guidance of trained professionals. Whether you're dealing with stress, anxiety, relationship issues, or simply need someone to talk to, our counsellors are here to help. "),w()(),y(45,"div",23)(46,"h2",24),F(47,"Benefits of Counselling"),w(),y(48,"ul",25)(49,"li")(50,"span",26),F(51,"Emotional Support:"),w(),F(52," Gain a better understanding of your emotions and learn healthy ways to manage them."),w(),y(53,"li")(54,"span",26),F(55,"Stress Management:"),w(),F(56," Develop strategies to handle academic and personal pressures effectively."),w(),y(57,"li")(58,"span",26),F(59,"Improved Relationships:"),w(),F(60," Enhance your communication skills and build stronger, healthier relationships."),w(),y(61,"li")(62,"span",26),F(63,"Personal Growth:"),w(),F(64," Discover more about yourself, set goals, and work towards personal and academic success."),w()()()()(),y(65,"footer",27)(66,"div",28),ie(67,"img",29),y(68,"p",30),F(69," \xa9 Powered by Kristu Jayanti Software Development Centre "),w()()()())},dependencies:[gD]})}return e})();const mD=function(){return{exact:!0}};let vD=(()=>{class e{constructor(i){this.authService=i}onLogout(){this.authService.clearToken()}static#e=this.\u0275fac=function(n){return new(n||e)(E(Ol))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-sidebar"]],decls:39,vars:6,consts:[["id","navbar",1,"bg-white","fixed","w-full","z-50","top-0","border-b","border-grey-500","start-0"],[1,"max-w-screen-xl","flex","items-center","justify-between","mx-auto","p-1","px-12"],[1,"flex","items-center"],["data-drawer-target","default-sidebar","data-drawer-toggle","default-sidebar","aria-controls","default-sidebar","type","button",1,"inline-flex","items-center","p-2","text-sm","text-gray-500","sm:hidden","focus:outline-none","focus:ring-2","focus:ring-gray-200"],[1,"sr-only"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["clip-rule","evenodd","fill-rule","evenodd","d","M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"],[1,"flex-1","flex","items-center","ml-[-9vw]","space-x-[33vw]"],["src","/assets/img/logofull.png","id","logo",1,"h-12"],[1,"text-sm","font-semibold","text-indigo-900"],[1,"flex","items-center","mr-[-6.5vw]"],[1,"text-sm","text-indigo-900","flex","items-center","logout-link",3,"click"],["src","/assets/Icon/logout.svg",1,"ml-1","h-5"],["id","default-sidebar","aria-label","Sidebar",1,"fixed","transition-transform","-translate-x-full","sm:translate-x-0","top-[6.6%]","left-0","z-40","w-64","h-[93vh]","border-r-2","border-grey-500","shadow-sm"],[1,"h-full","pl-4","py-4","overflow-y-auto","bg-white"],["id","sidelist",1,"space-y-2","font-medium"],["routerLink","/Booking","routerLinkActive","active","data-drawer-hide","default-sidebar",1,"flex","items-center","p-2","text-gray-900","text-sm",3,"routerLinkActiveOptions"],["src","/assets/Icon/Booking.svg","id","dashimg"],[1,"ms-3"],["routerLink","/Upcomingsession","routerLinkActive","active","data-drawer-hide","default-sidebar",1,"flex","items-center","p-2","text-gray-900","text-sm",3,"routerLinkActiveOptions"],["src","/assets/Icon/upcoming.svg","id","dashimg"],["routerLink","/Studenthistory","routerLinkActive","active","data-drawer-hide","default-sidebar",1,"flex","items-center","p-2","text-gray-900","text-sm",3,"routerLinkActiveOptions"],["src","/assets/Icon/history.svg","id","dashimg"],["id","sidebarelements",1,"ms-3"],["id","kjsdc",1,"flex","items-center","justify-center","space-y-2","flex-col","text-gray-500"],[1,"custom-hr"],["src","/assets/img/Kjsdc.svg"]],template:function(n,r){1&n&&(y(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3)(4,"span",4),F(5,"Open sidebar"),w(),vs(),y(6,"svg",5),ie(7,"path",6),w()()(),Js(),y(8,"div",7),ie(9,"img",8),y(10,"h1",9),F(11,"Kristu Jayanti Well Being Centre"),w()(),y(12,"div",10)(13,"a",11),ye("click",function(){return r.onLogout()}),F(14," Logout"),ie(15,"img",12),w()()()(),y(16,"aside",13)(17,"div",14)(18,"ul",15)(19,"li")(20,"a",16),ie(21,"img",17),y(22,"span",18),F(23,"Book a Session"),w()()(),y(24,"li")(25,"a",19),ie(26,"img",20),y(27,"span",18),F(28,"Upcoming Sessions"),w()()(),y(29,"li")(30,"a",21),ie(31,"img",22),y(32,"span",23),F(33,"Sessions History"),w()()()(),y(34,"div",24)(35,"h3"),F(36,"DEVELOPED BY"),w(),ie(37,"hr",25)(38,"img",26),w()()()),2&n&&(L(20),U("routerLinkActiveOptions",qr(3,mD)),L(5),U("routerLinkActiveOptions",qr(4,mD)),L(5),U("routerLinkActiveOptions",qr(5,mD)))},dependencies:[Yc,Qp],styles:["#sidelist[_ngcontent-%COMP%]{margin-top:4.8vh}#logo[_ngcontent-%COMP%]{padding:6px}#dashimg[_ngcontent-%COMP%]{height:20px;width:20px}#sidebarelements[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif}h3[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:400;font-size:12px}#kjsdc[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;transform:translate(-50%);text-align:center}.custom-hr[_ngcontent-%COMP%]{width:389%;border:none;border-top:1px solid #ccc;position:absolute;bottom:42px;left:0;transform:translate(-50%);margin:0}.active[_ngcontent-%COMP%]{color:#4318ff;transition:ease-in .3s;border-right:#4318FF solid 4px}#navbar[_ngcontent-%COMP%]{border-bottom:#000000}.logout-link[_ngcontent-%COMP%]{cursor:pointer}"]})}return e})();function Twe(e,t){if(1&e&&(y(0,"option",57),F(1),w()),2&e){const i=t.$implicit;U("value",i.counsellor_id),L(1),Xe(" ",i.name," ")}}function Awe(e,t){if(1&e&&(y(0,"div",58),F(1),w()),2&e){const i=t.$implicit;L(1),Xe(" ",i.getDate()," ")}}function Rwe(e,t){if(1&e){const i=Fi();y(0,"button",59),ye("click",function(){const s=Dt(i).$implicit;return Tt(Se().ontimeclick(s.start_time,s.end_time))}),F(1),w()}if(2&e){const i=t.$implicit,n=Se();Kr("background-color",n.selectedStartTime===i.start_time?"#4050B5":"#FFFFFF")("color",n.selectedStartTime===i.start_time?"white":"black"),L(1),el(" ",i.start_time," - ",i.end_time," ")}}let Fwe=(()=>{class e{constructor(i,n,r,s){this.http=i,this.renderer=n,this.router=r,this.toastr=s,this.RefWarnEm="",this.ageWarn="",this.RefWarn="",this.age=null,this.selected=null,this.blockedDates=[],this.cname="",this.selectedDate=null,this.counselors=[],this.selectedCounselorId="",this.isCounselorSelected=!1,this.message="",this.yourTime="",this.selectedTime=null,this.selectedStartTime=null,this.registerNo="",this.course="",this.department="",this.email="",this.gender="",this.name="",this.formattedDate="",this.selectedCounselorName=null,this.referred_by="",this.referrer_email="",this.apiKey="https://kj-wellbeingcentre.onrender.com/",this.myFilter=o=>{const a=(o||new Date).getDay(),l=new Date,c=new Date;return c.setDate(l.getDate()+30),!(0===a||o&&o<new Date(l.setHours(0,0,0,0))||o&&o>c)}}ngOnInit(){this.fetchCounselors()}fetchCounselors(){this.http.get(this.apiKey+"counsellors").subscribe(i=>{this.counselors=i,console.log(i)})}onSelectCounselor(i){this.selectedCounselorId=i.target.value,this.isCounselorSelected=!0,this.selected=null;const r=document.getElementById("Calendar");r&&(r.style.display="contents");const s=this.counselors.find(o=>o.counsellor_id===this.selectedCounselorId);s?(this.selectedCounselorName=s.name,console.log(this.selectedCounselorName)):console.error("Counselor not found with id:",this.selectedCounselorId)}onDateSelected(i){i?(this.selectedDate=i,this.postDate(i)):console.error("No date selected");const n=document.getElementById("form");n&&(n.style.display="none");const r=document.getElementById("Timeslot");r&&(r.style.display="none"),this.selectedStartTime=null}postDate(i){const n=this.formatDate(i);this.formattedDate=n,console.log(n),this.http.post(this.apiKey+"protected/user/slots",{counsellor_id:this.selectedCounselorId,date:n}).subscribe(s=>{if(console.log("Date and counselor ID posted successfully:",s),console.log(s.length),null==s||0===s.length||35===s.length||34===s.length){console.log("Response is null or undefined."),this.selected=null,this.toastr.error("No time slots available","Try different date");const o=document.getElementById("form");o&&(o.style.display="none");const a=document.getElementById("Timeslot");a&&(a.style.display="none")}else if(37===s.length){this.selected=null,this.toastr.error("Only one slot can be per day","Try different date");const o=document.getElementById("Timeslot");o&&(o.style.display="none");const a=document.getElementById("form");a&&(a.style.display="none")}else{this.available_date=s;const o=document.getElementById("Timeslot");o&&(o.style.display="block")}})}ontimeclick(i,n){this.selectedTime=`${i}-${n}`,this.selectedStartTime=i;const r=document.getElementById("form");r&&(r.style.display="block"),this.yourTime=`your selected time is ${i} - ${n}`,this.scrollToElement("form"),this.makeGetRequest()}formatDate(i){return`${i.getDate().toString().padStart(2,"0")}/${(i.getMonth()+1).toString().padStart(2,"0")}/${i.getFullYear()}`}scrollToElement(i){const n=document.getElementById("form");n&&n.scrollIntoView({behavior:"smooth",block:"start"})}makeGetRequest(){this.http.get(this.apiKey+"protected/user/getstudentinfo").subscribe(i=>{if(console.log("GET request successful",i),i.length>0){const n=i[0];this.registerNo=n.Register_No,this.course=n.course,this.department=n.department,this.email=n.email,this.gender=n.gender,this.name=n.name}else console.warn("No data found in the response.")},i=>{console.error("GET request error",i)})}handleSelfCheckboxChange(i){const n=i.target,r=document.getElementById("referred_by"),s=document.getElementById("referrer_email");n.checked?(r.value="self",s.value=this.email,r.disabled=!0,s.disabled=!0,this.referred_by=r.value,this.referrer_email=s.value):(r.value="",s.value="",r.disabled=!1,s.disabled=!1,this.referred_by="",this.referrer_email=""),console.log(this.referred_by),console.log(this.referrer_email)}displayBooked(){const i=document.getElementById("Booked");i&&(i.style.display="block")}closeBooked(){const i=document.getElementById("Booked");i&&(i.style.display="none"),window.location.reload()}sendBookingData(){const i={counsellor_id:this.selectedCounselorId,date:this.formattedDate,slot_start_time:this.selectedStartTime,slot_end_time:this.selectedTime?this.selectedTime.split("-")[1]:null,age:this.age,referred_by:this.referred_by,referrer_email:this.referrer_email};console.log(this.referred_by),console.log(i),""!==this.referred_by&&(this.RefWarn=""),""!==this.referrer_email&&(this.RefWarnEm=""),null!==this.age&&(this.ageWarn=""),""!==this.referred_by?""!==this.referrer_email?null!==this.age?this.age<16||this.age>30?this.ageWarn="Enter A valid Age between 16 - 30":((this.age>16||this.age<30)&&(this.ageWarn=""),this.http.post(this.apiKey+"protected/user/slotbooking",i).subscribe(n=>{"Your slot has been booked!"===n?this.displayBooked():this.toastr.error("Try Again","Slot Aldready Booked")},n=>{console.error("Error sending booking data:",n)})):this.ageWarn="Enter Your Age":this.RefWarnEm="Enter Your Referal Email":this.RefWarn="Enter Your Referal Name"}static#e=this.\u0275fac=function(n){return new(n||e)(E(oo),E(Fo),E(Ui),E(Ma))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-booking"]],decls:89,vars:20,consts:[["id","Background",1,"fixed","z-20","top-0","left-0","w-screen","h-screen"],[1,"container","holder","flex","flex-wrap","justify-center","gap-4","p-5","z-30","relative","flex-row","md:h-screen"],[1,"flex","flex-col","md:flex-row"],[1,"flex-1","mb-4","md:mr-4","md:mb-0"],["name","counseler","id","counsilerselect",1,"w-60","h-10","mb-4",3,"change"],["value","","disabled","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],["id","Calendar"],[3,"dateFilter","selected","selectedChange"],["class","mb-4",4,"matCalendarBodyCell"],["id","Timeslot",1,"flex-1"],[1,"mx-auto","bg-white","rounded-xl","shadow-md","p-4"],[1,"uppercase","tracking-wide","text-lg","text-center","text-black","font-semibold"],[1,"md:flex"],[1,"p-2"],["id","time-slots",1,"mt-4","grid","grid-cols-1","md:grid-cols-3","gap-4"],["id","slotsButton","class","p-2 text-sm text-black rounded-lg",3,"background-color","color","click",4,"ngFor","ngForOf"],["id","form",1,"input","bg-white","text-black","px-5","py-5","flex-1","align-bottom","gap-4","rounded-lg","shadow-2xl"],[1,"check-box","flex","justify-center","-mb-1"],["type","checkbox","value","checked",3,"change"],["for","",1,"text-xs","font-medium","text-black","mr-14","ml-1","mb-2"],[1,"grid","grid-cols-2","gap-4"],[1,"relative","z-0","w-full","mb-2","group"],["type","text","name","referred_by","id","referred_by","placeholder","","required","",1,"block","py-2","px-0","w-full","text-xs","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngModel","ngModelChange"],["for","referred_by",1,"peer-focus:font-medium","absolute","text-xs","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["for","age validate",1,"text-red-500","text-center","text-sm"],["type","email","name","referrer_email","id","referrer_email","placeholder","","required","",1,"block","py-2.5","px-0","w-full","text-xs","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngModel","ngModelChange"],["for","referrer_email",1,"peer-focus:font-medium","absolute","text-xs","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"grid","grid-cols-2","gap-4","mt-2"],[1,"relative","z-0","w-full","mb-1","group"],["type","text","name","register_no","id","register_no","placeholder"," ","readonly","",1,"block","py-2.5","px-0","w-full","text-xs","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngModel","ngModelChange"],["for","register_no",1,"peer-focus:font-medium","absolute","text-xs","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","text","name","name","id","name","placeholder","","readonly","",1,"block","py-2.5","px-0","w-full","text-xs","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngModel","ngModelChange"],["for","name",1,"peer-focus:font-medium","absolute","text-xs","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"grid","grid-cols-2","gap-4","mt-5"],["type","text","name","department","value","Computer Science (PG)","placeholder","","readonly","",1,"block","py-2.5","px-0","w-full","text-xs","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"id","ngModel","ngModelChange"],["for","department",1,"peer-focus:font-medium","absolute","text-xs","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","text","name","course","id","course","placeholder"," ","readonly","",1,"block","py-2.5","px-0","w-full","text-xs","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngModel","ngModelChange"],["for","course",1,"peer-focus:font-medium","absolute","text-xs","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","text","name","gender","id","gender","placeholder","","readonly","",1,"block","py-2.5","px-0","w-full","text-xs","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngModel","ngModelChange"],["for","gender",1,"peer-focus:font-medium","absolute","text-xs","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","number","name","age","id","age","placeholder","","required","",1,"block","py-2.5","px-0","w-full","text-xs","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngModel","ngModelChange"],["for","age",1,"peer-focus:font-medium","absolute","text-xs","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"flex","justify-center"],["type","button",1,"btn","flex","mt-6","mb-1","items-center","justify-center","bg-teal-400","hover:bg-teal-300","text-white","font-medium","py-1","px-4","border","border-gray-300","rounded-lg","shadow-md",3,"click"],["id","Booked",1,"overflow-y-auto","overflow-x-hidden","fixed","inset-0","z-50","flex","justify-center","items-center"],[1,"flex","items-center","justify-center","min-h-screen","px-4"],["aria-hidden","true",1,"fixed","inset-0","transition-opacity"],[1,"absolute","inset-0","bg-gray-500","opacity-75"],[1,"bg-white","rounded-lg","overflow-hidden","shadow-xl","transform","transition-all","w-56","h-auto"],[1,"bg-white","p-6","items-center"],["src","./assets\\confirm logo.svg","alt","confirmBooking",1,"mx-12","mb-1"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-2"],[1,"text-sm","text-gray-500"],[1,"mt-4"],[1,"btn","flex","items-center","justify-center","w-full","bg-blue-600","hover:bg-blue-700","text-white","font-medium","py-2","px-4","border","border-transparent","rounded-lg","shadow-md","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[3,"value"],[1,"mb-4"],["id","slotsButton",1,"p-2","text-sm","text-black","rounded-lg",3,"click"]],template:function(n,r){1&n&&(ie(0,"div",0)(1,"app-sidebar"),y(2,"div",1)(3,"div",2)(4,"div",3)(5,"select",4),ye("change",function(o){return r.onSelectCounselor(o)}),y(6,"option",5),F(7,"Select a counselor"),w(),xe(8,Twe,2,2,"option",6),w(),y(9,"div",7)(10,"mat-card")(11,"mat-calendar",8),ye("selectedChange",function(o){return r.selected=o})("selectedChange",function(o){return r.onDateSelected(o)}),xe(12,Awe,2,1,"div",9),w()()()(),y(13,"div",10)(14,"div",11)(15,"div",12),F(16,"Pick a Time"),w(),y(17,"div",13)(18,"div",14)(19,"div",15),xe(20,Rwe,2,6,"button",16),w()()()()()(),y(21,"div")(22,"form",17)(23,"div",18)(24,"input",19),ye("change",function(o){return r.handleSelfCheckboxChange(o)}),w(),y(25,"label",20),F(26,"Self reference"),w()(),y(27,"div",21)(28,"div",22)(29,"input",23),ye("ngModelChange",function(o){return r.referred_by=o}),w(),y(30,"label",24),F(31,"Referred by"),w(),y(32,"label",25),F(33),w()(),y(34,"div",22)(35,"input",26),ye("ngModelChange",function(o){return r.referrer_email=o}),w(),y(36,"label",27),F(37,"Referrer Email"),w(),y(38,"label",25),F(39),w()()(),y(40,"div",28)(41,"div",29)(42,"input",30),ye("ngModelChange",function(o){return r.registerNo=o}),w(),y(43,"label",31),F(44,"Register No."),w()(),y(45,"div",29)(46,"input",32),ye("ngModelChange",function(o){return r.name=o}),w(),y(47,"label",33),F(48,"Name"),w()()(),y(49,"div",34)(50,"div",29)(51,"input",35),ye("ngModelChange",function(o){return r.department=o}),w(),y(52,"label",36),F(53,"Department"),w()(),y(54,"div",29)(55,"input",37),ye("ngModelChange",function(o){return r.course=o}),w(),y(56,"label",38),F(57,"Course"),w()()(),y(58,"div",34)(59,"div",29)(60,"input",39),ye("ngModelChange",function(o){return r.gender=o}),w(),y(61,"label",40),F(62,"Gender"),w()(),y(63,"div",29)(64,"input",41),ye("ngModelChange",function(o){return r.age=o}),w(),y(65,"label",42),F(66,"Age"),w(),y(67,"label",25),F(68),w()()(),y(69,"div",43)(70,"button",44),ye("click",function(){return r.sendBookingData()}),F(71,"Book Slot"),w()()()()(),y(72,"div",45)(73,"div",46)(74,"div",47),ie(75,"div",48),w(),y(76,"div",49)(77,"div",50),ie(78,"img",51),y(79,"h3",52),F(80,"Your slot has been booked"),w(),y(81,"div",53)(82,"p",54),F(83),w()(),y(84,"div",55)(85,"button",56),ye("click",function(){return r.closeBooked()}),F(86,"Done"),w()()(),F(87," \xa0"),w(),F(88,"\n\xa0\xa0"),w()()),2&n&&(L(6),U("selected",!r.selectedCounselorId),L(2),U("ngForOf",r.counselors),L(3),U("dateFilter",r.myFilter)("selected",r.selected),L(9),U("ngForOf",r.available_date),L(9),U("ngModel",r.referred_by),L(4),mi(r.RefWarn),L(2),U("ngModel",r.referrer_email),L(4),mi(r.RefWarnEm),L(3),U("ngModel",r.registerNo),L(4),U("ngModel",r.name),L(5),ob("id",r.department),U("ngModel",r.department),L(4),U("ngModel",r.course),L(5),U("ngModel",r.gender),L(4),U("ngModel",r.age),L(4),mi(r.ageWarn),L(15),lv("Your appointment with is confirmed with ",r.selectedCounselorName," for ",r.formattedDate," at ",r.selectedTime,"."))},dependencies:[Bo,wc,Hx,zx,Vo,Lx,al,ll,dl,$f,cl,mp,dE,vD],styles:[".container[_ngcontent-%COMP%]{margin-top:9vh;width:calc(100vw - 17rem);height:auto;margin-left:20rem;background-color:#fff;border-radius:25px}#Background[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#E2F6FC,#ffffff)}.input[_ngcontent-%COMP%]{height:45vh}mat-calendar[_ngcontent-%COMP%]{width:25vw}#slotsButton[_ngcontent-%COMP%]{border:#4050B5 solid;transition:ease-in .3s}#Calendar[_ngcontent-%COMP%]{display:none}#Timeslot[_ngcontent-%COMP%]{display:none;width:50vw;border:grey}#form[_ngcontent-%COMP%]{width:40vw;display:none}#no-slots[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]{transition:ease-in .3s}#Booked[_ngcontent-%COMP%]{display:none;background-color:#00000080;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}@media (max-width: 640px){.container[_ngcontent-%COMP%]{margin-left:0;width:95vw;height:250vh}mat-calendar[_ngcontent-%COMP%]{width:40vw}#Timeslot[_ngcontent-%COMP%]{margin-top:0;width:40vw}}@media (max-width: 450px){.container[_ngcontent-%COMP%]{margin-top:4rem;margin-left:12.5vw}mat-calendar[_ngcontent-%COMP%]{width:70vw}#Timeslot[_ngcontent-%COMP%], #form[_ngcontent-%COMP%]{width:80vw}}"]})}return e})();const c_=function(){return{exact:!0}};let ag=(()=>{class e{constructor(i){this.authService=i}onLogout(){this.authService.clearToken()}static#e=this.\u0275fac=function(n){return new(n||e)(E(Ol))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-counsellor-sidebar"]],decls:44,vars:8,consts:[["id","navbar",1,"bg-white","fixed","w-full","z-50","top-0","border-b","border-grey-500","start-0"],[1,"max-w-screen-xl","flex","items-center","justify-between","mx-auto","p-1","px-12"],[1,"flex","items-center"],["data-drawer-target","default-sidebar","data-drawer-toggle","default-sidebar","aria-controls","default-sidebar","type","button",1,"inline-flex","items-center","p-2","text-sm","text-gray-500","sm:hidden","focus:outline-none","focus:ring-2","focus:ring-gray-200"],[1,"sr-only"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["clip-rule","evenodd","fill-rule","evenodd","d","M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"],[1,"flex-1","flex","items-center","ml-[-9vw]","space-x-[33vw]"],["src","/assets/img/logofull.png","id","logo",1,"h-12"],[1,"text-md","text-indigo-900","font-semibold"],[1,"flex","items-center","mr-[-6.5vw]"],[1,"text-sm","text-indigo-900","flex","items-center","logout-link",3,"click"],["src","/assets/Icon/logout.svg",1,"ml-2","h-5"],["id","default-sidebar","aria-label","Sidebar",1,"fixed","top-[6.6%]","left-0","z-40","w-64","h-[93vh]","border-r-2","border-grey-500","shadow-sm","transition-transform","-translate-x-full","sm:translate-x-0"],[1,"h-full","pl-3","py-0","overflow-y-auto","bg-white"],["id","sidelist",1,"space-y-2","font-medium"],["routerLink","/counsellorUpcomingSession","routerLinkActive","active",1,"flex","items-center","p-2","text-gray-900","text-sm","hover:bg-gray-100",3,"routerLinkActiveOptions"],["src","/assets/Icon/Booking.svg","id","dashimg"],[1,"ms-3"],["routerLink","/SessionHistory","routerLinkActive","active",1,"flex","items-center","p-2","text-gray-900","text-sm","hover:bg-gray-100",3,"routerLinkActiveOptions"],["src","/assets/Icon/history.svg","id","dashimg"],["routerLink","/Profile","routerLinkActive","active",1,"flex","items-center","p-2","text-gray-900","text-sm","hover:bg-gray-100",3,"routerLinkActiveOptions"],["src","/assets/Icon/Profile.svg","id","dashimg"],["id","sidebarelements",1,"ms-3"],["routerLink","/My-Availability","routerLinkActive","active",1,"flex","items-center","p-2","text-gray-900","text-sm","hover:bg-gray-100",3,"routerLinkActiveOptions"],["src","/assets/Icon/Availability.svg","id","dashimg"],["id","kjsdc",1,"flex","items-center","justify-center","space-y-2","flex-col","text-gray-500"],[1,"custom-hr"],["src","/assets/img/Kjsdc.svg"]],template:function(n,r){1&n&&(y(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3)(4,"span",4),F(5,"Open sidebar"),w(),vs(),y(6,"svg",5),ie(7,"path",6),w()()(),Js(),y(8,"div",7),ie(9,"img",8),y(10,"h1",9),F(11,"Kristu Jayanti Well Being Centre"),w()(),y(12,"div",10)(13,"a",11),ye("click",function(){return r.onLogout()}),F(14," Logout"),ie(15,"img",12),w()()()(),y(16,"aside",13)(17,"div",14)(18,"ul",15)(19,"li")(20,"a",16),ie(21,"img",17),y(22,"span",18),F(23,"Upcoming Sessions"),w()()(),y(24,"li")(25,"a",19),ie(26,"img",20),y(27,"span",18),F(28,"Sessions History"),w()()(),y(29,"li")(30,"a",21),ie(31,"img",22),y(32,"span",23),F(33,"Profile"),w()()(),y(34,"li")(35,"a",24),ie(36,"img",25),y(37,"span",18),F(38,"My Availability"),w()()()(),y(39,"div",26)(40,"h3"),F(41,"DEVELOPED BY"),w(),ie(42,"hr",27)(43,"img",28),w()()()),2&n&&(L(20),U("routerLinkActiveOptions",qr(4,c_)),L(5),U("routerLinkActiveOptions",qr(5,c_)),L(5),U("routerLinkActiveOptions",qr(6,c_)),L(5),U("routerLinkActiveOptions",qr(7,c_)))},dependencies:[Yc,Qp],styles:["#sidelist[_ngcontent-%COMP%]{margin-top:4.8vh}#logo[_ngcontent-%COMP%]{padding:6px}#dashimg[_ngcontent-%COMP%]{height:20px;width:20px}#sidebarelements[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif}h3[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:400;font-size:12px}#kjsdc[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;transform:translate(-50%);text-align:center}.custom-hr[_ngcontent-%COMP%]{width:389%;border:none;border-top:1px solid #ccc;position:absolute;bottom:42px;left:0;transform:translate(-50%);margin:0}.active[_ngcontent-%COMP%]{color:#4318ff;transition:ease-in .3s;border-right:#4318FF solid 4px}#navbar[_ngcontent-%COMP%]{border-bottom:#000000}.logout-link[_ngcontent-%COMP%]{cursor:pointer}"]})}return e})();function Mwe(e,t){1&e&&(y(0,"div",49),F(1," Phone number is required. "),w())}function kwe(e,t){1&e&&(y(0,"div",49),F(1," Phone number is invalid. "),w())}function Iwe(e,t){if(1&e){const i=Fi();y(0,"div",50)(1,"button",51),ye("click",function(){return Dt(i),Tt(Se().savePhoneNumber())}),F(2,"Save"),w()()}}const Pwe=function(e,t){return{"focus-green":e,"border-red-500":t}};let Owe=(()=>{class e{constructor(i,n,r){this.fb=i,this.http=n,this.toastr=r,this.isPhoneEditable=!1,this.fetchApiUrl="https://kj-wellbeingcentre.onrender.com/protected/counsellor/getprofiledetails",this.updateApiUrl="https://kj-wellbeingcentre.onrender.com/protected/counsellor/updatePhoneNumber",this.profileForm=this.fb.group({name:[""],employeeId:[""],gender:[""],dob:[""],email:[""],phoneNo:[{value:"",disabled:!this.isPhoneEditable},[oi.required,oi.pattern("^((\\+91-?)|0)?[0-9]{10}$")]]}),this.ChangePass=this.fb.group({Email:["",oi.required],OldPassword:["",oi.required],NewPassword:["",oi.required],ConfirmNewPassword:["",oi.required]})}ngOnInit(){this.fetchProfileData()}fetchProfileData(){this.http.get(this.fetchApiUrl).subscribe({next:i=>{console.log(i),this.profileForm.patchValue(i[0])},error:i=>{console.log("Error",i)}})}togglePhoneEdit(){this.isPhoneEditable=!this.isPhoneEditable,this.isPhoneEditable?this.profileForm.get("phoneNo")?.enable():this.profileForm.get("phoneNo")?.disable()}savePhoneNumber(){this.profileForm.valid?(this.isPhoneEditable=!1,this.updatePhoneNumber()):console.error("Form is invalid")}updatePhoneNumber(){const i=this.profileForm.get("phoneNo")?.value,n={employeeId:this.profileForm.get("employeeId")?.value,phoneNo:i};this.http.post(this.updateApiUrl,n).subscribe({next:r=>{this.response_data=r.message,console.log("Phone number updated successfully",r),this.toastr.success("Phone number updated successfully!","Success"),this.fetchProfileData()},error:r=>{console.error("Error updating phone number",r),this.toastr.error("Failed to update phone number!","Error")}})}onChangePass(){let i=this.ChangePass.get("OldPassword")?.value??"",n=this.ChangePass.get("NewPassword")?.value??"";const r=this.ChangePass.get("ConfirmNewPassword")?.value??"";if(i=i&&""!==i.trim()?i:null,n=n&&""!==n.trim()?n:null,console.log(n),console.log(r),n===r){console.log("Passwords do not match");const s={email:this.profileForm.get("email")?.value??"",password:i,newpassword:n};console.log(s),this.http.post("https://kj-wellbeingcentre.onrender.com/forget",s,{observe:"response"}).subscribe({next:o=>{console.log("Password change successful",o),this.toastr.success("Success","Password Changed")},error:o=>{console.log("Password change failed",o),this.toastr.error("Try Again","Password Change Failed")}})}else n!==r&&this.toastr.error("Passwords Dont match!","Error")}ChangepassOpen(){const i=document.getElementById("changePassword");i&&(i.style.display="flex")}ChangepassClose(){const i=document.getElementById("changePassword");i&&(i.style.display="none")}static#e=this.\u0275fac=function(n){return new(n||e)(E(Kf),E(oo),E(Ma))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-profile"]],decls:76,vars:13,consts:[["id","background",1,"fixed","z-20","top-0","left-0","w-screen","overflow-hidden","overflow-x-hidden","h-screen","bg-gradient-to-b","from-[#E2F6FC]","to-white"],[1,"container","p-5","px-0","z-30","relative","mt-[14vh]","w-full","sm:w-[calc(100vw-24rem)]","overflow-hidden","h-auto","sm:ml-[20rem]","bg-white","shadow-lg"],[1,"profile","w-full","h-[80px]","mt-[-20px]","bg-[url('src/assets/img/bg.svg')]","bg-center","bg-cover","p-[25px]","mx-0"],[1,"text-base","font-semibold","mb-6"],[1,"space-y-4","px-5"],[3,"formGroup"],[1,"form-group","d-block","d-flex","flex-col"],[1,"mt-1","block","w-full","text-lg","sm:text-2xl","p-2"],[1,"employeeID","flex"],[1,"text-xs","font-medium","text-gray-700"],[1,"text-xs"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"form-group"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text","formControlName","gender","readonly","",1,"mt-1","block","w-full","shadow-sm","text-sm","border-0","bg-gray-100","rounded-md"],[1,"relative"],["type","text","formControlName","phoneNo",1,"mt-1","block","w-full","shadow-sm","text-sm","border-0","bg-gray-100","rounded-md",3,"readonly","ngClass"],["type","button",1,"absolute","inset-y-0","right-0","px-3","py-1","text-red-600","hover:text-[#c53030]","hover:scale-110","active:scale-90",3,"click"],["src","assets/img/Vector.svg","alt","Edit"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["class","SAVE flex items-end justify-end ml-[50%] mt-2 sm-ml-[100%] sm:justify-start",4,"ngIf"],["type","email","formControlName","email","readonly","",1,"mt-1","block","w-full","shadow-sm","text-sm","border-0","bg-gray-100","rounded-md"],[1,"mt-6"],[1,"font-semibold","mb-4"],[1,"flex","items-center","mb-4"],["src","assets/img/sms.svg","alt","Email Icon",1,"w-7","h-7","p-1","mr-2","ring-1","bg-blue-100","rounded-full"],[1,"flex","flex-col"],[1,"block","w-60","text-sm","text-gray-600","rounded-md","px-2"],[1,"block","w-full","text-sm","rounded-md","px-2"],[1,"bg-red-100","text-red-600","py-2","px-4","rounded","mt-2",3,"click"],["id","changePassword",1,"overflow-y-auto","overflow-x-hidden","fixed","inset-0","z-50","flex","justify-center","items-center"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button",1,"end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5"],[1,"space-y-4",3,"formGroup"],["for","OldPassword",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","formControlName","OldPassword","name","OldPassword","id","OldPassword","placeholder","","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],["for","NewPassword",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","password","formControlName","NewPassword","name","NewPassword","id","NewPassword","placeholder","","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],["for","ConfirmNewPassword",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","password","formControlName","ConfirmNewPassword","name","ConfirmNewPassword","id","ConfirmNewPassword","placeholder","","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],["type","submit",1,"w-full","text-white","bg-blue-500","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["type","button",1,"w-full","text-white","bg-gray-500","focus:ring-4","focus:outline-none","focus:ring-gray-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],[1,"text-red-500","text-sm","mt-1"],[1,"SAVE","flex","items-end","justify-end","ml-[50%]","mt-2","sm-ml-[100%]","sm:justify-start"],["type","button",1,"bg-blue-500","text-white","ml-auto","py-2","px-4","rounded",3,"click"]],template:function(n,r){if(1&n&&(ie(0,"div",0)(1,"app-counsellor-sidebar"),y(2,"div",1)(3,"div",2)(4,"h2",3),F(5,"Counsellor Profile"),w()(),y(6,"div",4)(7,"form",5)(8,"div",6)(9,"p",7),F(10),w(),y(11,"div",8)(12,"p",9),F(13,"Employee ID:"),w(),y(14,"p",10),F(15),w()()(),y(16,"div",11)(17,"div",12)(18,"label",13),F(19,"Gender:"),w(),ie(20,"input",14),w(),y(21,"div",12)(22,"label",13),F(23,"Phone Number:"),w(),y(24,"div",15),ie(25,"input",16),y(26,"button",17),ye("click",function(){return r.togglePhoneEdit()}),ie(27,"img",18),w()(),xe(28,Mwe,2,0,"div",19),xe(29,kwe,2,0,"div",19),xe(30,Iwe,3,0,"div",20),w(),y(31,"div",12)(32,"label",13),F(33,"Email:"),w(),ie(34,"input",21),w()(),y(35,"div",22)(36,"h3",23),F(37,"My Login Credentials"),w(),y(38,"div",24),ie(39,"img",25),y(40,"div",26)(41,"p",27),F(42),w(),y(43,"p",28),F(44,"********"),w()()(),y(45,"button",29),ye("click",function(){return r.ChangepassOpen()}),F(46,"Change Password"),w()()()()(),y(47,"div",30)(48,"div",31)(49,"div",32)(50,"div",33)(51,"h3",34),F(52," Change Password "),w(),y(53,"button",35),ye("click",function(){return r.ChangepassClose()}),vs(),y(54,"svg",36),ie(55,"path",37),w(),Js(),y(56,"span",38),F(57,"Close modal"),w()()(),y(58,"div",39)(59,"form",40)(60,"div")(61,"label",41),F(62,"Enter your current Password"),w(),ie(63,"input",42),w(),y(64,"div")(65,"label",43),F(66,"Enter Your New Password"),w(),ie(67,"input",44),w(),y(68,"div")(69,"label",45),F(70,"Confirm your New Password"),w(),ie(71,"input",46),w(),y(72,"button",47),ye("click",function(){return r.onChangePass()}),F(73,"Change Password"),w(),y(74,"button",48),ye("click",function(){return r.ChangepassClose()}),F(75,"Cancel"),w()()()()()()),2&n){let s,o,a,l,c,d;L(7),U("formGroup",r.profileForm),L(3),mi(null==(s=r.profileForm.get("name"))?null:s.value),L(5),mi(null==(o=r.profileForm.get("employeeId"))?null:o.value),L(10),U("readonly",!r.isPhoneEditable)("ngClass",fv(10,Pwe,r.isPhoneEditable,(null==(a=r.profileForm.get("phoneNo"))?null:a.invalid)&&(null==(a=r.profileForm.get("phoneNo"))?null:a.touched))),L(3),U("ngIf",(null==(l=r.profileForm.get("phoneNo"))||null==l.errors?null:l.errors.required)&&(null==(l=r.profileForm.get("phoneNo"))?null:l.touched)),L(1),U("ngIf",(null==(c=r.profileForm.get("phoneNo"))||null==c.errors?null:c.errors.pattern)&&(null==(c=r.profileForm.get("phoneNo"))?null:c.touched)),L(1),U("ngIf",r.isPhoneEditable),L(12),mi(null==(d=r.profileForm.get("email"))?null:d.value),L(17),U("formGroup",r.ChangePass)}},dependencies:[wu,Dr,wc,Vo,al,ll,dl,Zr,Eu,ag],styles:[".focus-green[_ngcontent-%COMP%]{outline:none;box-shadow:0 0 0 3px #10b98180}#changePassword[_ngcontent-%COMP%]{display:none;background-color:#00000080;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}@media screen and (max-width: 642px){.SAVE[_ngcontent-%COMP%]{margin-left:0%}.container[_ngcontent-%COMP%]{top:-5vh}}"]})}return e})();function Lwe(e,t){if(1&e){const i=Fi();y(0,"div",6)(1,"div",7)(2,"div",8),ie(3,"div",9),w(),y(4,"div")(5,"div")(6,"h5",10),F(7),w(),y(8,"p",11),F(9),w()(),y(10,"div",12)(11,"button",13),ye("click",function(){const s=Dt(i).$implicit;return Tt(Se(2).openConfirmationDialog(s))}),F(12,"Cancel Session"),w()(),y(13,"div",14),ie(14,"div",15),w()()()()}if(2&e){const i=t.$implicit,n=Se(2);U("@sessionAnimation",void 0),L(7),mi(i.counselor_name),L(2),lv("",n.formatDate(i.date),", ",i.start_time," - ",i.end_time,"")}}function Nwe(e,t){if(1&e&&(y(0,"main",2)(1,"form",3)(2,"div",4),xe(3,Lwe,15,5,"div",5),w()()()),2&e){const i=Se();L(1),U("formGroup",i.profileForm),L(2),U("ngForOf",i.sessions)}}function Bwe(e,t){1&e&&(y(0,"div",16),F(1," No sessions available.\n"),w())}let Vwe=(()=>{class e{constructor(i,n,r,s,o){this.fb=i,this.http=n,this.dialog=r,this.snackBar=s,this.cd=o,this.sessions=[],this.fetchApiUrl="https://kj-wellbeingcentre.onrender.com/protected/user/sessions",this.cancelApiUrl="https://kj-wellbeingcentre.onrender.com/protected/user/slotcancel",this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.profileForm=this.fb.group({student_id:[""],counselor_id:[""],date:[""],end_time:[""],start_time:[""],_id:[""]})}ngOnInit(){this.fetchApi()}fetchApi(){this.http.get(this.fetchApiUrl).subscribe({next:i=>{console.log("Fetched sessions:",i),"No slots have been booked!"===i.message&&this.snackBar.open("No sessions are booked","Close",{duration:4e3}),this.sessions=Array.isArray(i)?i:[]},error:i=>{console.log("Error fetching sessions",i),this.sessions=[]}})}formatDate(i){const[n,r,s]=i.split("/").map(Number);return`${n} ${this.monthNames[r-1]} ${s}`}openConfirmationDialog(i){this.dialog.open(Hwe,{width:"300px",data:{message:`Are you sure you want to cancel the session with Dr. ${i.counselor_name}?`,session:i}}).afterClosed().subscribe(r=>{r&&r.reason&&this.cancelSession(i,r.reason)})}cancelSession(i,n){this.http.post(this.cancelApiUrl,{_id:i._id,reason:n}).subscribe({next:s=>{console.log("Session cancelled",s),this.snackBar.open("Session cancelled successfully","Close",{duration:3e3}),this.fetchApi()},error:s=>{console.error("Error cancelling session",s),this.snackBar.open("Failed to cancel session","Close",{duration:3e3})}})}removeSession(i){this.sessions=this.sessions.filter(n=>n._id!==i)}static#e=this.\u0275fac=function(n){return new(n||e)(E(Kf),E(oo),E(gE),E(vE),E(Bn))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-upcoming-section"]],decls:3,vars:2,consts:[["class","bg-cyan-50 ",4,"ngIf"],["class","text-center mt-4 text-gray-600 border-2 ",4,"ngIf"],[1,"bg-cyan-50"],[3,"formGroup"],[1,"flex","flex-auto","flex-wrap"],["class","p-4 ",4,"ngFor","ngForOf"],[1,"p-4"],[1,"p-4","lg:w-96","relative","overflow-hidden","bg-cyan-600","border","rounded-xl","shadow","dark:bg-cyan-600"],[1,"absolute","-top-16","-left-10"],[1,"h-44","w-44","rounded-full","overflow-hidden","opacity-10","bg-cyan-200"],[1,"mb-5","text-2xl","font-bold","tracking-tight","text-white","dark:text-white"],[1,"mb-6","font-normal","text-white","dark:text-white"],[1,"flex","justify-end"],[1,"px-3","py-2","text-sm","font-medium","text-center","text-cyan-600","hover:text-red-400","bg-white","rounded-xl","hover:bg-red-200","focus:ring-5","focus:ring-blue-100","focus:hover:ring-red-600","dark:bg-white","dark:hover:bg-red-100","dark:focus:ring-blue-400",3,"click"],[1,"absolute","top-36","left-24"],[1,"h-28","w-28","rounded-full","overflow-hidden","opacity-10","bg-cyan-100"],[1,"text-center","mt-4","text-gray-600","border-2"]],template:function(n,r){1&n&&(ie(0,"app-sidebar"),xe(1,Nwe,4,2,"main",0),xe(2,Bwe,2,0,"div",1)),2&n&&(L(1),U("ngIf",r.sessions&&r.sessions.length>0),L(1),U("ngIf",r.sessions&&r.sessions.length<0))},dependencies:[Bo,Dr,wc,ll,Zr,vD],styles:["main[_ngcontent-%COMP%]{margin-top:6vh;margin-left:20rem}@media (max-width: 762px){main[_ngcontent-%COMP%]{margin-left:0%}}"],data:{animation:[ao("sessionAnimation",[Tr("void",Bt({opacity:0,transform:"translateY(-100%)"})),Tr("*",Bt({opacity:1,transform:"translateY(0)"})),Xi(":enter",[hn("0.3s ease-in")]),Xi(":leave",[hn("0.8s ease-out",Bt({opacity:0,transform:"scale(0.9)"}))])])]}})}return e})(),Hwe=(()=>{class e{constructor(i,n,r){this.dialogRef=i,this.data=n,this.snackBar=r,this.reason=""}onNoClick(){this.snackBar.open("Session cancellation aborted","Close",{duration:3e3}),this.dialogRef.close(!1)}onYesClick(){this.reason?(this.snackBar.open("Processing cancellation","Close",{duration:3e3}),this.data.session.reason=this.reason,this.dialogRef.close(this.data.session)):this.snackBar.open("Please provide a cancellation reason","Close",{duration:3e3})}static#e=this.\u0275fac=function(n){return new(n||e)(E(pE),E(n3),E(vE))};static#t=this.\u0275cmp=et({type:e,selectors:[["dialog-content-example-dialog"]],decls:14,vars:2,consts:[["mat-dialog-title","",1,"text-xl","font-semibold"],["mat-dialog-content",""],["appearance","fill"],["matInput","","name","reason","required","",3,"ngModel","ngModelChange"],["mat-dialog-actions","",1,"flex","justify-center","space-x-4","mt-4"],["mat-button","",1,"px-4","py-2","bg-gray-200","text-gray-700","rounded","hover:bg-gray-300",3,"click"],["mat-button","","cdkFocusInitial","",1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600",3,"click"]],template:function(n,r){1&n&&(y(0,"h1",0),F(1,"Confirm"),w(),y(2,"div",1)(3,"p"),F(4),w(),y(5,"mat-form-field",2)(6,"mat-label"),F(7,"Cancellation Reason"),w(),y(8,"input",3),ye("ngModelChange",function(o){return r.reason=o}),w()()(),y(9,"div",4)(10,"button",5),ye("click",function(){return r.onNoClick()}),F(11,"No"),w(),y(12,"button",6),ye("click",function(){return r.onYesClick()}),F(13,"Yes"),w()()),2&n&&(L(4),mi(r.data.message),L(4),U("ngModel",r.reason))},dependencies:[Vo,al,dl,$f,GS,fp,rB,a0e,l0e,c0e],encapsulation:2})}return e})();var lg={version:"0.18.5"},ss=1200,ed=1252,Gwe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],CD={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},d_=function(e){-1!=Gwe.indexOf(e)&&(ed=CD[0]=e)},Ls=function(e){ss=e,d_(e)};var Lt,cg=function(t){return String.fromCharCode(t)},_D=function(t){return String.fromCharCode(t)},ki=null,Ll="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ug(e){for(var t="",i=0,n=0,r=0,s=0,o=0,a=0,l=0,c=0;c<e.length;)s=(i=e.charCodeAt(c++))>>2,o=(3&i)<<4|(n=e.charCodeAt(c++))>>4,a=(15&n)<<2|(r=e.charCodeAt(c++))>>6,l=63&r,isNaN(n)?a=l=64:isNaN(r)&&(l=64),t+=Ll.charAt(s)+Ll.charAt(o)+Ll.charAt(a)+Ll.charAt(l);return t}function os(e){var t="",s=0,o=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)s=Ll.indexOf(e.charAt(c++)),o=Ll.indexOf(e.charAt(c++)),t+=String.fromCharCode(s<<2|o>>4),64!==(a=Ll.indexOf(e.charAt(c++)))&&(t+=String.fromCharCode((15&o)<<4|a>>2)),64!==(l=Ll.indexOf(e.charAt(c++)))&&(t+=String.fromCharCode((3&a)<<6|l));return t}var Ct=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Oa=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,i){return i?new Buffer(t,i):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Nl(e){return Ct?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function YH(e){return Ct?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var as=function(t){return Ct?Oa(t,"binary"):t.split("").map(function(i){return 255&i.charCodeAt(0)})};function hg(e){if(typeof ArrayBuffer>"u")return as(e);for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0;n!=e.length;++n)i[n]=255&e.charCodeAt(n);return t}function Bl(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],i=0;i<e.length;++i)t[i]=String.fromCharCode(e[i]);return t.join("")}var Cn=Ct?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Oa(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,i=0;for(t=0;t<e.length;++t)i+=e[t].length;var n=new Uint8Array(i),r=0;for(t=0,i=0;t<e.length;i+=r,++t)if(r=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],i);else{if("string"==typeof e[t])throw"wtf";n.set(new Uint8Array(e[t]),i)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))},Wn=/\u0000/g,fg=/[\u0001-\u0006]/g;function uh(e){for(var t="",i=e.length-1;i>=0;)t+=e.charAt(i--);return t}function go(e,t){var i=""+e;return i.length>=t?i:Pi("0",t-i.length)+i}function wD(e,t){var i=""+e;return i.length>=t?i:Pi(" ",t-i.length)+i}function f_(e,t){var i=""+e;return i.length>=t?i:i+Pi(" ",t-i.length)}var XH=Math.pow(2,32);function hh(e,t){return e>XH||e<-XH?function $we(e,t){var i=""+Math.round(e);return i.length>=t?i:Pi("0",t-i.length)+i}(e,t):function Kwe(e,t){var i=""+e;return i.length>=t?i:Pi("0",t-i.length)+i}(Math.round(e),t)}function p_(e,t){return e.length>=7+(t=t||0)&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var ZH=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],bD=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Ke={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},QH={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Ywe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function g_(e,t,i){for(var n=e<0?-1:1,r=e*n,s=0,o=1,a=0,l=1,c=0,d=0,u=Math.floor(r);c<t&&(a=(u=Math.floor(r))*o+s,d=u*c+l,!(r-u<5e-8));)r=1/(r-u),s=o,o=a,l=c,c=d;if(d>t&&(c>t?(d=l,a=s):(d=c,a=o)),!i)return[0,n*a,d];var h=Math.floor(n*a/d);return[h,n*a-h*d,d]}function Vl(e,t,i){if(e>2958465||e<0)return null;var n=0|e,r=Math.floor(86400*(e-n)),s=0,o=[],a={D:n,T:r,u:86400*(e-n)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(n+=1462),a.u>.9999&&(a.u=0,86400==++r&&(a.T=r=0,++n,++a.D)),60===n)o=i?[1317,10,29]:[1900,2,29],s=3;else if(0===n)o=i?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),i&&(s=function tbe(e,t){t[0]-=581;var i=e.getDay();return e<60&&(i=(i+6)%7),i}(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=r%60,r=Math.floor(r/60),a.M=r%60,r=Math.floor(r/60),a.H=r,a.q=s,a}var JH=new Date(1899,11,31,0,0,0),Xwe=JH.getTime(),Zwe=new Date(1900,2,1,0,0,0);function eG(e,t){var i=e.getTime();return t?i-=1262304e5:e>=Zwe&&(i+=864e5),(i-(Xwe+6e4*(e.getTimezoneOffset()-JH.getTimezoneOffset())))/864e5}function xD(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function td(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):function pg(e){var i,t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return i=t>=-4&&t<=-1?e.toPrecision(10+t):Math.abs(t)<=9?function Jwe(e){var t=e<0?12:11,i=xD(e.toFixed(12));return i.length<=t||(i=e.toPrecision(10)).length<=t?i:e.toExponential(5)}(e):10===t?e.toFixed(10).substr(0,12):function ebe(e){var t=xD(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),xD(function Qwe(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(i.toUpperCase()))}(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return ls(14,eG(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function ibe(e,t,i,n){var l,r="",s=0,o=0,a=i.y,c=0;switch(e){case 98:a=i.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,c=2;break;default:l=a%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:l=i.m,c=t.length;break;case 3:return bD[i.m-1][1];case 5:return bD[i.m-1][0];default:return bD[i.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=i.d,c=t.length;break;case 3:return ZH[i.q][0];default:return ZH[i.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(i.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=i.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=i.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==i.u||"s"!=t&&"ss"!=t?(o=n>=2?3===n?1e3:100:1===n?10:1,(s=Math.round(o*(i.S+i.u)))>=60*o&&(s=0),"s"===t?0===s?"0":""+s/o:(r=go(s,2+n),"ss"===t?r.substr(0,2):"."+r.substr(2,t.length-1))):go(i.S,t.length);case 90:switch(t){case"[h]":case"[hh]":l=24*i.D+i.H;break;case"[m]":case"[mm]":l=60*(24*i.D+i.H)+i.M;break;case"[s]":case"[ss]":l=60*(60*(24*i.D+i.H)+i.M)+Math.round(i.S+i.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:l=a,c=1}return c>0?go(l,c):""}function Hl(e){if(e.length<=3)return e;for(var i=e.length%3,n=e.substr(0,i);i!=e.length;i+=3)n+=(n.length>0?",":"")+e.substr(i,3);return n}var tG=/%/g;function iG(e,t){var i,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+iG(e,-t);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%r;if(s<0&&(s+=r),-1===(i=(t/Math.pow(10,s)).toPrecision(n+1+(r+s)%r)).indexOf("e")){var o=Math.floor(Math.log(t)*Math.LOG10E);for(-1===i.indexOf(".")?i=i.charAt(0)+"."+i.substr(1)+"E+"+(o-i.length+s):i+="E+"+(o-s);"0."===i.substr(0,2);)i=(i=i.charAt(0)+i.substr(2,r)+"."+i.substr(2+r)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");i=i.replace(/\+-/,"-")}i=i.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,d){return l+c+d.substr(0,(r+s)%r)+"."+d.substr(s)+"E"})}else i=t.toExponential(n);return e.match(/E\+00$/)&&i.match(/e[+-]\d$/)&&(i=i.substr(0,i.length-1)+"0"+i.charAt(i.length-1)),e.match(/E\-/)&&i.match(/e\+/)&&(i=i.replace(/e\+/,"e")),i.replace("e","E")}var nG=/# (\?+)( ?)\/( ?)(\d+)/,rG=/^#*0*\.([0#]+)/,sG=/\).*[0#]/,oG=/\(###\) ###\\?-####/;function pr(e){for(var i,t="",n=0;n!=e.length;++n)switch(i=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(i)}return t}function aG(e,t){var i=Math.pow(10,t);return""+Math.round(e*i)/i}function lG(e,t){var i=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(i*n)).length?0:Math.round(i*n)}function Ns(e,t,i){if(40===e.charCodeAt(0)&&!t.match(sG)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return i>=0?Ns("n",n,i):"("+Ns("n",n,-i)+")"}if(44===t.charCodeAt(t.length-1))return function rbe(e,t,i){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return La(e,t.substr(0,n),i/Math.pow(10,3*(t.length-n)))}(e,t,i);if(-1!==t.indexOf("%"))return function nbe(e,t,i){var n=t.replace(tG,""),r=t.length-n.length;return La(e,n,i*Math.pow(10,2*r))+Pi("%",r)}(e,t,i);if(-1!==t.indexOf("E"))return iG(t,i);if(36===t.charCodeAt(0))return"$"+Ns(e,t.substr(" "==t.charAt(1)?2:1),i);var r,s,o,a,l=Math.abs(i),c=i<0?"-":"";if(t.match(/^00+$/))return c+hh(l,t.length);if(t.match(/^[#?]+$/))return"0"===(r=hh(i,0))&&(r=""),r.length>t.length?r:pr(t.substr(0,t.length-r.length))+r;if(s=t.match(nG))return function sbe(e,t,i){var n=parseInt(e[4],10),r=Math.round(t*n),s=Math.floor(r/n),o=r-s*n,a=n;return i+(0===s?"":""+s)+" "+(0===o?Pi(" ",e[1].length+1+e[4].length):wD(o,e[1].length)+e[2]+"/"+e[3]+go(a,e[4].length))}(s,l,c);if(t.match(/^#+0+$/))return c+hh(l,t.length-t.indexOf("0"));if(s=t.match(rG))return r=aG(i,s[1].length).replace(/^([^\.]+)$/,"$1."+pr(s[1])).replace(/\.$/,"."+pr(s[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+Pi("0",pr(s[1]).length-p.length)}),-1!==t.indexOf("0.")?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+aG(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+Hl(hh(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return i<0?"-"+Ns(e,t,-i):Hl(""+(Math.floor(i)+function abe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(i,s[1].length)))+"."+go(lG(i,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Ns(e,t.replace(/^#,#*,/,""),i);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=uh(Ns(e,t.replace(/[\\-]/g,""),i)),o=0,uh(uh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<r.length?r.charAt(o++):"0"===g?"0":""}));if(t.match(oG))return"("+(r=Ns(e,"##########",i)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=g_(l,Math.pow(10,o)-1,!1),r=""+c," "==(d=La("n",s[1],a[1])).charAt(d.length-1)&&(d=d.substr(0,d.length-1)+"0"),r+=d+s[2]+"/"+s[3],(d=f_(a[2],o)).length<s[4].length&&(d=pr(s[4].substr(s[4].length-d.length))+d),r+=d;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c+((a=g_(l,Math.pow(10,o)-1,!0))[0]||(a[1]?"":"0"))+" "+(a[1]?wD(a[1],o)+s[2]+"/"+s[3]+f_(a[2],o):Pi(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return r=hh(i,0),t.length<=r.length?r:pr(t.substr(0,t.length-r.length))+r;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){r=""+i.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var u=t.indexOf(".")-o,h=t.length-r.length-u;return pr(t.substr(0,u)+r+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=lG(i,s[1].length),i<0?"-"+Ns(e,t,-i):Hl(function lbe(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(i)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?go(0,3-g.length):"")+g})+"."+go(o,s[1].length);switch(t){case"###,##0.00":return Ns(e,"#,##0.00",i);case"###,###":case"##,###":case"#,###":var f=Hl(hh(l,0));return"0"!==f?c+f:"";case"###,###.00":return Ns(e,"###,##0.00",i).replace(/^0\./,".");case"#,###.00":return Ns(e,"#,##0.00",i).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function cG(e,t){var i,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+cG(e,-t);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%r;if(s<0&&(s+=r),!(i=(t/Math.pow(10,s)).toPrecision(n+1+(r+s)%r)).match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);-1===i.indexOf(".")?i=i.charAt(0)+"."+i.substr(1)+"E+"+(o-i.length+s):i+="E+"+(o-s),i=i.replace(/\+-/,"-")}i=i.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,d){return l+c+d.substr(0,(r+s)%r)+"."+d.substr(s)+"E"})}else i=t.toExponential(n);return e.match(/E\+00$/)&&i.match(/e[+-]\d$/)&&(i=i.substr(0,i.length-1)+"0"+i.charAt(i.length-1)),e.match(/E\-/)&&i.match(/e\+/)&&(i=i.replace(/e\+/,"e")),i.replace("e","E")}function Zo(e,t,i){if(40===e.charCodeAt(0)&&!t.match(sG)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return i>=0?Zo("n",n,i):"("+Zo("n",n,-i)+")"}if(44===t.charCodeAt(t.length-1))return function cbe(e,t,i){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return La(e,t.substr(0,n),i/Math.pow(10,3*(t.length-n)))}(e,t,i);if(-1!==t.indexOf("%"))return function dbe(e,t,i){var n=t.replace(tG,""),r=t.length-n.length;return La(e,n,i*Math.pow(10,2*r))+Pi("%",r)}(e,t,i);if(-1!==t.indexOf("E"))return cG(t,i);if(36===t.charCodeAt(0))return"$"+Zo(e,t.substr(" "==t.charAt(1)?2:1),i);var r,s,o,a,l=Math.abs(i),c=i<0?"-":"";if(t.match(/^00+$/))return c+go(l,t.length);if(t.match(/^[#?]+$/))return r=""+i,0===i&&(r=""),r.length>t.length?r:pr(t.substr(0,t.length-r.length))+r;if(s=t.match(nG))return function obe(e,t,i){return i+(0===t?"":""+t)+Pi(" ",e[1].length+2+e[4].length)}(s,l,c);if(t.match(/^#+0+$/))return c+go(l,t.length-t.indexOf("0"));if(s=t.match(rG))return r=(r=(""+i).replace(/^([^\.]+)$/,"$1."+pr(s[1])).replace(/\.$/,"."+pr(s[1]))).replace(/\.(\d*)$/,function(g,p){return"."+p+Pi("0",pr(s[1]).length-p.length)}),-1!==t.indexOf("0.")?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+Hl(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return i<0?"-"+Zo(e,t,-i):Hl(""+i)+"."+Pi("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Zo(e,t.replace(/^#,#*,/,""),i);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=uh(Zo(e,t.replace(/[\\-]/g,""),i)),o=0,uh(uh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<r.length?r.charAt(o++):"0"===g?"0":""}));if(t.match(oG))return"("+(r=Zo(e,"##########",i)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=g_(l,Math.pow(10,o)-1,!1),r=""+c," "==(d=La("n",s[1],a[1])).charAt(d.length-1)&&(d=d.substr(0,d.length-1)+"0"),r+=d+s[2]+"/"+s[3],(d=f_(a[2],o)).length<s[4].length&&(d=pr(s[4].substr(s[4].length-d.length))+d),r+=d;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c+((a=g_(l,Math.pow(10,o)-1,!0))[0]||(a[1]?"":"0"))+" "+(a[1]?wD(a[1],o)+s[2]+"/"+s[3]+f_(a[2],o):Pi(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return t.length<=(r=""+i).length?r:pr(t.substr(0,t.length-r.length))+r;if(s=t.match(/^([#0]+)\.([#0]+)$/)){r=""+i.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var u=t.indexOf(".")-o,h=t.length-r.length-u;return pr(t.substr(0,u)+r+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i<0?"-"+Zo(e,t,-i):Hl(""+i).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?go(0,3-g.length):"")+g})+"."+go(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=Hl(""+l);return"0"!==f?c+f:"";default:if(t.match(/\.[0#?]*$/))return Zo(e,t.slice(0,t.lastIndexOf(".")),i)+pr(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function La(e,t,i){return(0|i)===i?Zo(e,t,i):Ns(e,t,i)}var dG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fh(e){for(var t=0,i="",n="";t<e.length;)switch(i=e.charAt(t)){case"G":p_(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase()||"AM/PM"===e.substr(t,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(n=i;"]"!==e.charAt(t++)&&t<e.length;)n+=e.charAt(t);if(n.match(dG))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(i=e.charAt(++t))>-1||"\\"==i&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===i;);break;case"*":++t,(" "==e.charAt(t)||"*"==e.charAt(t))&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var uG=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function hG(e,t){if(null==t)return!1;var i=parseFloat(t[2]);switch(t[1]){case"=":if(e==i)return!0;break;case">":if(e>i)return!0;break;case"<":if(e<i)return!0;break;case"<>":if(e!=i)return!0;break;case">=":if(e>=i)return!0;break;case"<=":if(e<=i)return!0}return!1}function ls(e,t,i){null==i&&(i={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&i.dateNF?i.dateNF:e;break;case"number":null==(n=14==e&&i.dateNF?i.dateNF:(null!=i.table?i.table:Ke)[e])&&(n=i.table&&i.table[QH[e]]||Ke[QH[e]]),null==n&&(n=Ywe[e]||"General")}if(p_(n,0))return td(t,i);t instanceof Date&&(t=eG(t,i.date1904));var r=function fbe(e,t){var i=function ube(e){for(var t=[],i=!1,n=0,r=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:i=!i;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(r,n-r),r=n+1}if(t[t.length]=e.substr(r),!0===i)throw new Error("Format |"+e+"| unterminated string ");return t}(e),n=i.length,r=i[n-1].indexOf("@");if(n<4&&r>-1&&--n,i.length>4)throw new Error("cannot find right format for |"+i.join("|")+"|");if("number"!=typeof t)return[4,4===i.length||r>-1?i[i.length-1]:"@"];switch(i.length){case 1:i=r>-1?["General","General","General",i[0]]:[i[0],i[0],i[0],"@"];break;case 2:i=r>-1?[i[0],i[0],i[0],i[1]]:[i[0],i[1],i[0],"@"];break;case 3:i=r>-1?[i[0],i[1],i[0],i[2]]:[i[0],i[1],i[2],"@"]}var s=t>0?i[0]:t<0?i[1]:i[2];if(-1===i[0].indexOf("[")&&-1===i[1].indexOf("["))return[n,s];if(null!=i[0].match(/\[[=<>]/)||null!=i[1].match(/\[[=<>]/)){var o=i[0].match(uG),a=i[1].match(uG);return hG(t,o)?[n,i[0]]:hG(t,a)?[n,i[1]]:[n,i[null!=o&&null!=a?2:1]]}return[n,s]}(n,t);if(p_(r[1]))return td(t,i);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function hbe(e,t,i,n){for(var c,d,u,r=[],s="",o=0,a="",l="t",h="H";o<e.length;)switch(a=e.charAt(o)){case"G":if(!p_(e,o))throw new Error("unrecognized character "+a+" in "+e);r[r.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";34!==(u=e.charCodeAt(++o))&&o<e.length;)s+=String.fromCharCode(u);r[r.length]={t:"t",v:s},++o;break;case"\\":var f=e.charAt(++o);r[r.length]={t:"("===f||")"===f?f:"t",v:f},++o;break;case"_":r[r.length]={t:"t",v:" "},o+=2;break;case"@":r[r.length]={t:"T",v:t},++o;break;case"B":case"b":if("1"===e.charAt(o+1)||"2"===e.charAt(o+1)){if(null==c&&null==(c=Vl(t,i,"2"===e.charAt(o+1))))return"";r[r.length]={t:"X",v:e.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||null==c&&null==(c=Vl(t,i)))return"";for(s=a;++o<e.length&&e.charAt(o).toLowerCase()===a;)s+=a;"m"===a&&"h"===l.toLowerCase()&&(a="M"),"h"===a&&(a=h),r[r.length]={t:a,v:s},l=a;break;case"A":case"a":case"\u4e0a":var p={t:a,v:a};if(null==c&&(c=Vl(t,i)),"A/P"===e.substr(o,3).toUpperCase()?(null!=c&&(p.v=c.H>=12?"P":"A"),p.t="T",h="h",o+=3):"AM/PM"===e.substr(o,5).toUpperCase()?(null!=c&&(p.v=c.H>=12?"PM":"AM"),p.t="T",o+=5,h="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(o,5).toUpperCase()?(null!=c&&(p.v=c.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),p.t="T",o+=5,h="h"):(p.t="t",++o),null==c&&"T"===p.t)return"";r[r.length]=p,l=a;break;case"[":for(s=a;"]"!==e.charAt(o++)&&o<e.length;)s+=e.charAt(o);if("]"!==s.slice(-1))throw'unterminated "[" block: |'+s+"|";if(s.match(dG)){if(null==c&&null==(c=Vl(t,i)))return"";r[r.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",fh(e)||(r[r.length]={t:"t",v:s}));break;case".":if(null!=c){for(s=a;++o<e.length&&"0"===(a=e.charAt(o));)s+=a;r[r.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(o))>-1;)s+=a;r[r.length]={t:"n",v:s};break;case"?":for(s=a;e.charAt(++o)===a;)s+=a;r[r.length]={t:a,v:s},l=a;break;case"*":++o,(" "==e.charAt(o)||"*"==e.charAt(o))&&++o;break;case"(":case")":r[r.length]={t:1===n?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);r[r.length]={t:"D",v:s};break;case" ":r[r.length]={t:a,v:a},++o;break;case"$":r[r.length]={t:"t",v:"$"},++o;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(a))throw new Error("unrecognized character "+a+" in "+e);r[r.length]={t:"t",v:a},++o}var v,m=0,C=0;for(o=r.length-1,l="t";o>=0;--o)switch(r[o].t){case"h":case"H":r[o].t=h,l="h",m<1&&(m=1);break;case"s":(v=r[o].v.match(/\.0+$/))&&(C=Math.max(C,v[0].length-1)),m<3&&(m=3);case"d":case"y":case"M":case"e":l=r[o].t;break;case"m":"s"===l&&(r[o].t="M",m<2&&(m=2));break;case"X":break;case"Z":m<1&&r[o].v.match(/[Hh]/)&&(m=1),m<2&&r[o].v.match(/[Mm]/)&&(m=2),m<3&&r[o].v.match(/[Ss]/)&&(m=3)}switch(m){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M)}var x,_="";for(o=0;o<r.length;++o)switch(r[o].t){case"t":case"T":case" ":case"D":break;case"X":r[o].v="",r[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[o].v=ibe(r[o].t.charCodeAt(0),r[o].v,c,C),r[o].t="t";break;case"n":case"?":for(x=o+1;null!=r[x]&&("?"===(a=r[x].t)||"D"===a||(" "===a||"t"===a)&&null!=r[x+1]&&("?"===r[x+1].t||"t"===r[x+1].t&&"/"===r[x+1].v)||"("===r[o].t&&(" "===a||"n"===a||")"===a)||"t"===a&&("/"===r[x].v||" "===r[x].v&&null!=r[x+1]&&"?"==r[x+1].t));)r[o].v+=r[x].v,r[x]={v:"",t:";"},++x;_+=r[o].v,o=x-1;break;case"G":r[o].t="t",r[o].v=td(t,i)}var M,S,R="";if(_.length>0){40==_.charCodeAt(0)?(M=t<0&&45===_.charCodeAt(0)?-t:t,S=La("n",_,M)):(S=La("n",_,M=t<0&&n>1?-t:t),M<0&&r[0]&&"t"==r[0].t&&(S=S.substr(1),r[0].v="-"+r[0].v)),x=S.length-1;var N=r.length;for(o=0;o<r.length;++o)if(null!=r[o]&&"t"!=r[o].t&&r[o].v.indexOf(".")>-1){N=o;break}var B=r.length;if(N===r.length&&-1===S.indexOf("E")){for(o=r.length-1;o>=0;--o)null==r[o]||-1==="n?".indexOf(r[o].t)||(x>=r[o].v.length-1?r[o].v=S.substr(1+(x-=r[o].v.length),r[o].v.length):x<0?r[o].v="":(r[o].v=S.substr(0,x+1),x=-1),r[o].t="t",B=o);x>=0&&B<r.length&&(r[B].v=S.substr(0,x+1)+r[B].v)}else if(N!==r.length&&-1===S.indexOf("E")){for(x=S.indexOf(".")-1,o=N;o>=0;--o)if(null!=r[o]&&-1!=="n?".indexOf(r[o].t)){for(d=r[o].v.indexOf(".")>-1&&o===N?r[o].v.indexOf(".")-1:r[o].v.length-1,R=r[o].v.substr(d+1);d>=0;--d)x>=0&&("0"===r[o].v.charAt(d)||"#"===r[o].v.charAt(d))&&(R=S.charAt(x--)+R);r[o].v=R,r[o].t="t",B=o}for(x>=0&&B<r.length&&(r[B].v=S.substr(0,x+1)+r[B].v),x=S.indexOf(".")+1,o=N;o<r.length;++o)if(null!=r[o]&&(-1!=="n?(".indexOf(r[o].t)||o===N)){for(d=r[o].v.indexOf(".")>-1&&o===N?r[o].v.indexOf(".")+1:0,R=r[o].v.substr(0,d);d<r[o].v.length;++d)x<S.length&&(R+=S.charAt(x++));r[o].v=R,r[o].t="t",B=o}}}for(o=0;o<r.length;++o)null!=r[o]&&"n?".indexOf(r[o].t)>-1&&(r[o].v=La(r[o].t,r[o].v,M=n>1&&t<0&&o>0&&"-"===r[o-1].v?-t:t),r[o].t="t");var j="";for(o=0;o!==r.length;++o)null!=r[o]&&(j+=r[o].v);return j}(r[1],t,i,r[0])}function Qo(e,t){if("number"!=typeof t){t=+t||-1;for(var i=0;i<392;++i)if(null!=Ke[i]){if(Ke[i]==e){t=i;break}}else t<0&&(t=i);t<0&&(t=391)}return Ke[t]=e,t}function gg(e){for(var t=0;392!=t;++t)void 0!==e[t]&&Qo(e[t],t)}function ph(){Ke=function qwe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',e}()}var fG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,Cbe=function(){var e={version:"1.2.0"},i=function t(){for(var S=0,N=new Array(256),B=0;256!=B;++B)N[B]=S=1&(S=1&(S=1&(S=1&(S=1&(S=1&(S=1&(S=1&(S=B)?-306674912^S>>>1:S>>>1)?-306674912^S>>>1:S>>>1)?-306674912^S>>>1:S>>>1)?-306674912^S>>>1:S>>>1)?-306674912^S>>>1:S>>>1)?-306674912^S>>>1:S>>>1)?-306674912^S>>>1:S>>>1)?-306674912^S>>>1:S>>>1;return typeof Int32Array<"u"?new Int32Array(N):N}(),r=function n(S){var N=0,B=0,j=0,K=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;256!=j;++j)K[j]=S[j];for(j=0;256!=j;++j)for(B=S[j],N=256+j;N<4096;N+=256)B=K[N]=B>>>8^S[255&B];var z=[];for(j=1;16!=j;++j)z[j-1]=typeof Int32Array<"u"?K.subarray(256*j,256*j+256):K.slice(256*j,256*j+256);return z}(i),s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],d=r[5],u=r[6],h=r[7],f=r[8],g=r[9],p=r[10],m=r[11],C=r[12],v=r[13],_=r[14];return e.table=i,e.bstr=function x(S,N){for(var B=-1^N,j=0,K=S.length;j<K;)B=B>>>8^i[255&(B^S.charCodeAt(j++))];return~B},e.buf=function R(S,N){for(var B=-1^N,j=S.length-15,K=0;K<j;)B=_[S[K++]^255&B]^v[S[K++]^B>>8&255]^C[S[K++]^B>>16&255]^m[S[K++]^B>>>24]^p[S[K++]]^g[S[K++]]^f[S[K++]]^h[S[K++]]^u[S[K++]]^d[S[K++]]^c[S[K++]]^l[S[K++]]^a[S[K++]]^o[S[K++]]^s[S[K++]]^i[S[K++]];for(j+=15;K<j;)B=B>>>8^i[255&(B^S[K++])];return~B},e.str=function M(S,N){for(var B=-1^N,j=0,K=S.length,z=0,Ce=0;j<K;)(z=S.charCodeAt(j++))<128?B=B>>>8^i[255&(B^z)]:z<2048?B=(B=B>>>8^i[255&(B^(192|z>>6&31))])>>>8^i[255&(B^(128|63&z))]:z>=55296&&z<57344?(z=64+(1023&z),Ce=1023&S.charCodeAt(j++),B=(B=(B=(B=B>>>8^i[255&(B^(240|z>>8&7))])>>>8^i[255&(B^(128|z>>2&63))])>>>8^i[255&(B^(128|Ce>>6&15|(3&z)<<4))])>>>8^i[255&(B^(128|63&Ce))]):B=(B=(B=B>>>8^i[255&(B^(224|z>>12&15))])>>>8^i[255&(B^(128|z>>6&63))])>>>8^i[255&(B^(128|63&z))];return~B},e}(),je=function(){var l,t={};function n(b){if("/"==b.charAt(b.length-1))return-1===b.slice(0,-1).indexOf("/")?b:n(b.slice(0,-1));var k=b.lastIndexOf("/");return-1===k?b:b.slice(0,k+1)}function r(b){if("/"==b.charAt(b.length-1))return r(b.slice(0,-1));var k=b.lastIndexOf("/");return-1===k?b:b.slice(k+1)}function s(b,k){"string"==typeof k&&(k=new Date(k));var D=k.getHours();D=(D=D<<6|k.getMinutes())<<5|k.getSeconds()>>>1,b.write_shift(2,D);var T=k.getFullYear()-1980;T=(T=T<<4|k.getMonth()+1)<<5|k.getDate(),b.write_shift(2,T)}function a(b){kn(b,0);for(var k={},D=0;b.l<=b.length-4;){var T=b.read_shift(2),I=b.read_shift(2),P=b.l+I,X={};21589===T&&(1&(D=b.read_shift(1))&&(X.mtime=b.read_shift(4)),I>5&&(2&D&&(X.atime=b.read_shift(4)),4&D&&(X.ctime=b.read_shift(4))),X.mtime&&(X.mt=new Date(1e3*X.mtime))),b.l=P,k[T]=X}return k}function c(){return l||(l={})}function d(b,k){if(80==b[0]&&75==b[1])return S6(b,k);if(109==(32|b[0])&&105==(32|b[1]))return function YIe(b,k){if("mime-version:"!=he(b.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var D=k&&k.root||"",T=(Ct&&Buffer.isBuffer(b)?b.toString("binary"):he(b)).split("\r\n"),I=0,P="";for(I=0;I<T.length;++I)if(/^Content-Location:/i.test(P=T[I])&&(P=P.slice(P.indexOf("file")),D||(D=P.slice(0,P.lastIndexOf("/")+1)),P.slice(0,D.length)!=D))for(;D.length>0&&(D=(D=D.slice(0,D.length-1)).slice(0,D.lastIndexOf("/")+1),P.slice(0,D.length)!=D););var X=(T[1]||"").match(/boundary="(.*?)"/);if(!X)throw new Error("MAD cannot find boundary");var ce="--"+(X[1]||""),te={FileIndex:[],FullPaths:[]};S(te);var Te,Ie=0;for(I=0;I<T.length;++I){var Ge=T[I];Ge!==ce&&Ge!==ce+"--"||(Ie++&&qIe(te,T.slice(Te,I),D),Te=I)}return te}(b,k);if(b.length<512)throw new Error("CFB file size "+b.length+" < 512");var D,I,P,X,ce,J,T=512,Q=[],te=b.slice(0,512);kn(te,0);var Te=function u(b){if(80==b[b.l]&&75==b[b.l+1])return[0,0];b.chk(Oe,"Header Signature: "),b.l+=16;var k=b.read_shift(2,"u");return[b.read_shift(2,"u"),k]}(te);switch(D=Te[0]){case 3:T=512;break;case 4:T=4096;break;case 0:if(0==Te[1])return S6(b,k);default:throw new Error("Major Version: Expected 3 or 4 saw "+D)}512!==T&&kn(te=b.slice(0,T),28);var Ie=b.slice(0,T);!function h(b,k){var D;switch(b.l+=2,D=b.read_shift(2)){case 9:if(3!=k)throw new Error("Sector Shift: Expected 9 saw "+D);break;case 12:if(4!=k)throw new Error("Sector Shift: Expected 12 saw "+D);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+D)}b.chk("0600","Mini Sector Shift: "),b.chk("000000000000","Reserved: ")}(te,D);var Ge=te.read_shift(4,"i");if(3===D&&0!==Ge)throw new Error("# Directory Sectors: Expected 0 saw "+Ge);te.l+=4,X=te.read_shift(4,"i"),te.l+=4,te.chk("00100000","Mini Stream Cutoff Size: "),ce=te.read_shift(4,"i"),I=te.read_shift(4,"i"),J=te.read_shift(4,"i"),P=te.read_shift(4,"i");for(var Pe=-1,Ne=0;Ne<109&&!((Pe=te.read_shift(4,"i"))<0);++Ne)Q[Ne]=Pe;var ot=function f(b,k){for(var D=Math.ceil(b.length/k)-1,T=[],I=1;I<D;++I)T[I-1]=b.slice(I*k,(I+1)*k);return T[D-1]=b.slice(D*k),T}(b,T);m(J,P,ot,T,Q);var yi=function v(b,k,D,T){var I=b.length,P=[],X=[],ce=[],J=[],Q=T-1,te=0,Te=0,Ie=0,Ge=0;for(te=0;te<I;++te)if(ce=[],(Ie=te+k)>=I&&(Ie-=I),!X[Ie]){J=[];var Pe=[];for(Te=Ie;Te>=0;){Pe[Te]=!0,X[Te]=!0,ce[ce.length]=Te,J.push(b[Te]);var Ne=D[Math.floor(4*Te/T)];if(T<4+(Ge=4*Te&Q))throw new Error("FAT boundary crossed: "+Te+" 4 "+T);if(!b[Ne]||Pe[Te=nd(b[Ne],Ge)])break}P[Ie]={nodes:ce,data:OG([J])}}return P}(ot,X,Q,T);yi[X].name="!Directory",I>0&&ce!==Ce&&(yi[ce].name="!MiniFAT"),yi[Q[0]].name="!FAT",yi.fat_addrs=Q,yi.ssz=T;var rn=[],us=[],Wg=[];(function _(b,k,D,T,I,P,X,ce){for(var Ge,J=0,Q=T.length?2:0,te=k[b].data,Te=0,Ie=0;Te<te.length;Te+=128){var Pe=te.slice(Te,Te+128);kn(Pe,64),Ie=Pe.read_shift(2),Ge=y_(Pe,0,Ie-Q),T.push(Ge);var Ne={name:Ge,type:Pe.read_shift(1),color:Pe.read_shift(1),L:Pe.read_shift(4,"i"),R:Pe.read_shift(4,"i"),C:Pe.read_shift(4,"i"),clsid:Pe.read_shift(16),state:Pe.read_shift(4,"i"),start:0,size:0};0!==Pe.read_shift(2)+Pe.read_shift(2)+Pe.read_shift(2)+Pe.read_shift(2)&&(Ne.ct=x(Pe,Pe.l-8)),0!==Pe.read_shift(2)+Pe.read_shift(2)+Pe.read_shift(2)+Pe.read_shift(2)&&(Ne.mt=x(Pe,Pe.l-8)),Ne.start=Pe.read_shift(4,"i"),Ne.size=Pe.read_shift(4,"i"),Ne.size<0&&Ne.start<0&&(Ne.size=Ne.type=0,Ne.start=Ce,Ne.name=""),5===Ne.type?(J=Ne.start,I>0&&J!==Ce&&(k[J].name="!StreamData")):Ne.size>=4096?(Ne.storage="fat",void 0===k[Ne.start]&&(k[Ne.start]=C(D,Ne.start,k.fat_addrs,k.ssz)),k[Ne.start].name=Ne.name,Ne.content=k[Ne.start].data.slice(0,Ne.size)):(Ne.storage="minifat",Ne.size<0?Ne.size=0:J!==Ce&&Ne.start!==Ce&&k[J]&&(Ne.content=p(Ne,k[J].data,(k[ce]||{}).data))),Ne.content&&kn(Ne.content,0),P[Ge]=Ne,X.push(Ne)}})(X,yi,ot,rn,I,{},us,ce),function g(b,k,D){for(var T=0,I=0,P=0,X=0,ce=0,J=D.length,Q=[],te=[];T<J;++T)Q[T]=te[T]=T,k[T]=D[T];for(;ce<te.length;++ce)I=b[T=te[ce]].L,P=b[T].R,X=b[T].C,Q[T]===T&&(-1!==I&&Q[I]!==I&&(Q[T]=Q[I]),-1!==P&&Q[P]!==P&&(Q[T]=Q[P])),-1!==X&&(Q[X]=T),-1!==I&&T!=Q[T]&&(Q[I]=Q[T],te.lastIndexOf(I)<ce&&te.push(I)),-1!==P&&T!=Q[T]&&(Q[P]=Q[T],te.lastIndexOf(P)<ce&&te.push(P));for(T=1;T<J;++T)Q[T]===T&&(-1!==P&&Q[P]!==P?Q[T]=Q[P]:-1!==I&&Q[I]!==I&&(Q[T]=Q[I]));for(T=1;T<J;++T)if(0!==b[T].type){if((ce=T)!=Q[ce])do{k[T]=k[ce=Q[ce]]+"/"+k[T]}while(0!==ce&&-1!==Q[ce]&&ce!=Q[ce]);Q[T]=-1}for(k[0]+="/",T=1;T<J;++T)2!==b[T].type&&(k[T]+="/")}(us,Wg,rn),rn.shift();var Ug={FileIndex:us,FullPaths:Wg};return k&&k.raw&&(Ug.raw={header:Ie,sectors:ot}),Ug}function p(b,k,D){for(var I=b.size,P=[],X=b.start;D&&I>0&&X>=0;)P.push(k.slice(X*z,X*z+z)),I-=z,X=nd(D,4*X);return 0===P.length?se(0):Cn(P).slice(0,b.size)}function m(b,k,D,T,I){var P=Ce;if(b===Ce){if(0!==k)throw new Error("DIFAT chain shorter than expected")}else if(-1!==b){var X=D[b],ce=(T>>>2)-1;if(!X)return;for(var J=0;J<ce&&(P=nd(X,4*J))!==Ce;++J)I.push(P);m(nd(X,T-4),k-1,D,T,I)}}function C(b,k,D,T,I){var P=[],X=[];I||(I=[]);var ce=T-1,J=0,Q=0;for(J=k;J>=0;){I[J]=!0,P[P.length]=J,X.push(b[J]);var te=D[Math.floor(4*J/T)];if(T<4+(Q=4*J&ce))throw new Error("FAT boundary crossed: "+J+" 4 "+T);if(!b[te])break;J=nd(b[te],Q)}return{nodes:P,data:OG([X])}}function x(b,k){return new Date(1e3*(yn(b,k+4)/1e7*Math.pow(2,32)+yn(b,k)/1e7-11644473600))}function S(b,k){var D=k||{},T=D.root||"Root Entry";if(b.FullPaths||(b.FullPaths=[]),b.FileIndex||(b.FileIndex=[]),b.FullPaths.length!==b.FileIndex.length)throw new Error("inconsistent CFB structure");0===b.FullPaths.length&&(b.FullPaths[0]=T+"/",b.FileIndex[0]={name:T,type:5}),D.CLSID&&(b.FileIndex[0].clsid=D.CLSID),function N(b){var k="\x01Sh33tJ5";if(!je.find(b,"/"+k)){var D=se(4);D[0]=55,D[1]=D[3]=50,D[2]=54,b.FileIndex.push({name:k,type:2,content:D,size:4,L:69,R:69,C:69}),b.FullPaths.push(b.FullPaths[0]+k),B(b)}}(b)}function B(b,k){S(b);for(var D=!1,T=!1,I=b.FullPaths.length-1;I>=0;--I){var P=b.FileIndex[I];switch(P.type){case 0:T?D=!0:(b.FileIndex.pop(),b.FullPaths.pop());break;case 1:case 2:case 5:T=!0,isNaN(P.R*P.L*P.C)&&(D=!0),P.R>-1&&P.L>-1&&P.R==P.L&&(D=!0);break;default:D=!0}}if(D||k){var X=new Date(1987,1,19),ce=0,J=Object.create?Object.create(null):{},Q=[];for(I=0;I<b.FullPaths.length;++I)J[b.FullPaths[I]]=!0,0!==b.FileIndex[I].type&&Q.push([b.FullPaths[I],b.FileIndex[I]]);for(I=0;I<Q.length;++I){var te=n(Q[I][0]);(T=J[te])||(Q.push([te,{name:r(te).replace("/",""),type:1,clsid:ae,ct:X,mt:X,content:null}]),J[te]=!0)}for(Q.sort(function(Ge,Pe){return function i(b,k){for(var D=b.split("/"),T=k.split("/"),I=0,P=0,X=Math.min(D.length,T.length);I<X;++I){if(P=D[I].length-T[I].length)return P;if(D[I]!=T[I])return D[I]<T[I]?-1:1}return D.length-T.length}(Ge[0],Pe[0])}),b.FullPaths=[],b.FileIndex=[],I=0;I<Q.length;++I)b.FullPaths[I]=Q[I][0],b.FileIndex[I]=Q[I][1];for(I=0;I<Q.length;++I){var Te=b.FileIndex[I],Ie=b.FullPaths[I];if(Te.name=r(Ie).replace("/",""),Te.L=Te.R=Te.C=-(Te.color=1),Te.size=Te.content?Te.content.length:0,Te.start=0,Te.clsid=Te.clsid||ae,0===I)Te.C=Q.length>1?1:-1,Te.size=0,Te.type=5;else if("/"==Ie.slice(-1)){for(ce=I+1;ce<Q.length&&n(b.FullPaths[ce])!=Ie;++ce);for(Te.C=ce>=Q.length?-1:ce,ce=I+1;ce<Q.length&&n(b.FullPaths[ce])!=n(Ie);++ce);Te.R=ce>=Q.length?-1:ce,Te.type=1}else n(b.FullPaths[I+1]||"")==n(Ie)&&(Te.R=I+1),Te.type=2}}}function j(b,k){var D=k||{};if("mad"==D.fileType)return function XIe(b,k){for(var D=k||{},T=D.boundary||"SheetJS",I=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(T="------="+T).slice(2)+'"',"","",""],P=b.FullPaths[0],X=P,ce=b.FileIndex[0],J=1;J<b.FullPaths.length;++J)if(X=b.FullPaths[J].slice(P.length),(ce=b.FileIndex[J]).size&&ce.content&&"\x01Sh33tJ5"!=X){X=X.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ot){return"_x"+ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ot){return"_u"+ot.charCodeAt(0).toString(16)+"_"});for(var Q=ce.content,te=Ct&&Buffer.isBuffer(Q)?Q.toString("binary"):he(Q),Te=0,Ie=Math.min(1024,te.length),Ge=0,Pe=0;Pe<=Ie;++Pe)(Ge=te.charCodeAt(Pe))>=32&&Ge<128&&++Te;var Ne=Te>=4*Ie/5;I.push(T),I.push("Content-Location: "+(D.root||"file:///C:/SheetJS/")+X),I.push("Content-Transfer-Encoding: "+(Ne?"quoted-printable":"base64")),I.push("Content-Type: "+UIe(ce,X)),I.push(""),I.push(Ne?$Ie(te):jIe(te))}return I.push(T+"--\r\n"),I.join("\r\n")}(b,D);if("zip"===(B(b),D.fileType))return function WIe(b,k){var D=k||{},T=[],I=[],P=se(1),X=D.compression?8:0,ce=0,Q=0,te=0,Te=0,Ie=0,Ge=b.FullPaths[0],Pe=Ge,Ne=b.FileIndex[0],ot=[],yi=0;for(Q=1;Q<b.FullPaths.length;++Q)if(Pe=b.FullPaths[Q].slice(Ge.length),(Ne=b.FileIndex[Q]).size&&Ne.content&&"\x01Sh33tJ5"!=Pe){var Nr=Te,rn=se(Pe.length);for(te=0;te<Pe.length;++te)rn.write_shift(1,127&Pe.charCodeAt(te));rn=rn.slice(0,rn.l),ot[Ie]=Cbe.buf(Ne.content,0);var us=Ne.content;8==X&&(us=V(us)),(P=se(30)).write_shift(4,67324752),P.write_shift(2,20),P.write_shift(2,ce),P.write_shift(2,X),Ne.mt?s(P,Ne.mt):P.write_shift(4,0),P.write_shift(-4,8&ce?0:ot[Ie]),P.write_shift(4,8&ce?0:us.length),P.write_shift(4,8&ce?0:Ne.content.length),P.write_shift(2,rn.length),P.write_shift(2,0),Te+=P.length,T.push(P),Te+=rn.length,T.push(rn),Te+=us.length,T.push(us),8&ce&&((P=se(12)).write_shift(-4,ot[Ie]),P.write_shift(4,us.length),P.write_shift(4,Ne.content.length),Te+=P.l,T.push(P)),(P=se(46)).write_shift(4,33639248),P.write_shift(2,0),P.write_shift(2,20),P.write_shift(2,ce),P.write_shift(2,X),P.write_shift(4,0),P.write_shift(-4,ot[Ie]),P.write_shift(4,us.length),P.write_shift(4,Ne.content.length),P.write_shift(2,rn.length),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(4,0),P.write_shift(4,Nr),yi+=P.l,I.push(P),yi+=rn.length,I.push(rn),++Ie}return(P=se(22)).write_shift(4,101010256),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(2,Ie),P.write_shift(2,Ie),P.write_shift(4,yi),P.write_shift(4,Te),P.write_shift(2,0),Cn([Cn(T),Cn(I),P])}(b,D);var T=function(Ge){for(var Pe=0,Ne=0,ot=0;ot<Ge.FileIndex.length;++ot){var yi=Ge.FileIndex[ot];if(yi.content){var Nr=yi.content.length;Nr>0&&(Nr<4096?Pe+=Nr+63>>6:Ne+=Nr+511>>9)}}for(var rn=Ge.FullPaths.length+3>>2,Wg=Pe+127>>7,Ug=(Pe+7>>3)+Ne+rn+Wg,_d=Ug+127>>7,BT=_d<=109?0:Math.ceil((_d-109)/127);Ug+_d+BT+127>>7>_d;)BT=++_d<=109?0:Math.ceil((_d-109)/127);var za=[1,BT,_d,Wg,rn,Ne,Pe,0];return Ge.FileIndex[0].size=Pe<<6,za[7]=(Ge.FileIndex[0].start=za[0]+za[1]+za[2]+za[3]+za[4]+za[5])+(za[6]+7>>3),za}(b),I=se(T[7]<<9),P=0,X=0;for(P=0;P<8;++P)I.write_shift(1,Re[P]);for(P=0;P<8;++P)I.write_shift(2,0);for(I.write_shift(2,62),I.write_shift(2,3),I.write_shift(2,65534),I.write_shift(2,9),I.write_shift(2,6),P=0;P<3;++P)I.write_shift(2,0);for(I.write_shift(4,0),I.write_shift(4,T[2]),I.write_shift(4,T[0]+T[1]+T[2]+T[3]-1),I.write_shift(4,0),I.write_shift(4,4096),I.write_shift(4,T[3]?T[0]+T[1]+T[2]-1:Ce),I.write_shift(4,T[3]),I.write_shift(-4,T[1]?T[0]-1:Ce),I.write_shift(4,T[1]),P=0;P<109;++P)I.write_shift(-4,P<T[2]?T[1]+P:-1);if(T[1])for(X=0;X<T[1];++X){for(;P<236+127*X;++P)I.write_shift(-4,P<T[2]?T[1]+P:-1);I.write_shift(-4,X===T[1]-1?Ce:X+1)}var ce=function(Ge){for(X+=Ge;P<X-1;++P)I.write_shift(-4,P+1);Ge&&(++P,I.write_shift(-4,Ce))};for(X=P=0,X+=T[1];P<X;++P)I.write_shift(-4,le.DIFSECT);for(X+=T[2];P<X;++P)I.write_shift(-4,le.FATSECT);ce(T[3]),ce(T[4]);for(var J=0,Q=0,te=b.FileIndex[0];J<b.FileIndex.length;++J)(te=b.FileIndex[J]).content&&!((Q=te.content.length)<4096)&&(te.start=X,ce(Q+511>>9));for(ce(T[6]+7>>3);511&I.l;)I.write_shift(-4,le.ENDOFCHAIN);for(X=P=0,J=0;J<b.FileIndex.length;++J)(te=b.FileIndex[J]).content&&(Q=te.content.length)&&!(Q>=4096)&&(te.start=X,ce(Q+63>>6));for(;511&I.l;)I.write_shift(-4,le.ENDOFCHAIN);for(P=0;P<T[4]<<2;++P){var Te=b.FullPaths[P];if(Te&&0!==Te.length){te=b.FileIndex[P],0===P&&(te.start=te.size?te.start-1:Ce);var Ie=0===P&&D.root||te.name;if(Q=2*(Ie.length+1),I.write_shift(64,Ie,"utf16le"),I.write_shift(2,Q),I.write_shift(1,te.type),I.write_shift(1,te.color),I.write_shift(-4,te.L),I.write_shift(-4,te.R),I.write_shift(-4,te.C),te.clsid)I.write_shift(16,te.clsid,"hex");else for(J=0;J<4;++J)I.write_shift(4,0);I.write_shift(4,te.state||0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,te.start),I.write_shift(4,te.size),I.write_shift(4,0)}else{for(J=0;J<17;++J)I.write_shift(4,0);for(J=0;J<3;++J)I.write_shift(4,-1);for(J=0;J<12;++J)I.write_shift(4,0)}}for(P=1;P<b.FileIndex.length;++P)if((te=b.FileIndex[P]).size>=4096)if(I.l=te.start+1<<9,Ct&&Buffer.isBuffer(te.content))te.content.copy(I,I.l,0,te.size),I.l+=te.size+511&-512;else{for(J=0;J<te.size;++J)I.write_shift(1,te.content[J]);for(;511&J;++J)I.write_shift(1,0)}for(P=1;P<b.FileIndex.length;++P)if((te=b.FileIndex[P]).size>0&&te.size<4096)if(Ct&&Buffer.isBuffer(te.content))te.content.copy(I,I.l,0,te.size),I.l+=te.size+63&-64;else{for(J=0;J<te.size;++J)I.write_shift(1,te.content[J]);for(;63&J;++J)I.write_shift(1,0)}if(Ct)I.l=I.length;else for(;I.l<I.length;)I.write_shift(1,0);return I}t.version="1.2.1";var ue,z=64,Ce=-2,Oe="d0cf11e0a1b11ae1",Re=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Ce,FREESECT:-1,HEADER_SIGNATURE:Oe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function he(b){for(var k=new Array(b.length),D=0;D<b.length;++D)k[D]=String.fromCharCode(b[D]);return k.join("")}function V(b){return ue?ue.deflateRawSync(b):yt(b)}for(var b,k,G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],we=typeof Uint8Array<"u",fe=we?new Uint8Array(256):[],Qe=0;Qe<256;++Qe)fe[Qe]=(void 0,255&((k=139536&((b=Qe)<<1|b<<11)|558144&(b<<5|b<<15))>>16|k>>8|k));function H(b,k){var D=fe[255&b];return k<=8?D>>>8-k:(D=D<<8|fe[b>>8&255],k<=16?D>>>16-k:(D=D<<8|fe[b>>16&255])>>>24-k)}function Gt(b,k){var D=7&k,T=k>>>3;return(b[T]|(D<=6?0:b[T+1]<<8))>>>D&3}function _t(b,k){var D=7&k,T=k>>>3;return(b[T]|(D<=5?0:b[T+1]<<8))>>>D&7}function mt(b,k){var D=7&k,T=k>>>3;return(b[T]|(D<=3?0:b[T+1]<<8))>>>D&31}function Be(b,k){var D=7&k,T=k>>>3;return(b[T]|(D<=1?0:b[T+1]<<8))>>>D&127}function Ti(b,k,D){var T=7&k,I=k>>>3,X=b[I]>>>T;return D<8-T||(X|=b[I+1]<<8-T,D<16-T)||(X|=b[I+2]<<16-T,D<24-T)||(X|=b[I+3]<<24-T),X&(1<<D)-1}function Or(b,k,D){var T=7&k,I=k>>>3;return T<=5?b[I]|=(7&D)<<T:(b[I]|=D<<T&255,b[I+1]=(7&D)>>8-T),k+3}function Sn(b,k,D){return b[k>>>3]|=D=(1&D)<<(7&k),k+1}function Lr(b,k,D){var I=k>>>3;return b[I]|=255&(D<<=7&k),b[I+1]=D>>>=8,k+8}function Yl(b,k,D){var I=k>>>3;return b[I]|=255&(D<<=7&k),b[I+1]=255&(D>>>=8),b[I+2]=D>>>8,k+16}function _o(b,k){var D=b.length,T=2*D>k?2*D:k+5,I=0;if(D>=k)return b;if(Ct){var P=YH(T);if(b.copy)b.copy(P);else for(;I<b.length;++I)P[I]=b[I];return P}if(we){var X=new Uint8Array(T);if(X.set)X.set(b);else for(;I<D;++I)X[I]=b[I];return X}return b.length=T,b}function In(b){for(var k=new Array(b),D=0;D<b;++D)k[D]=0;return k}function js(b,k,D){var T=1,I=0,P=0,X=0,ce=0,J=b.length,Q=we?new Uint16Array(32):In(32);for(P=0;P<32;++P)Q[P]=0;for(P=J;P<D;++P)b[P]=0;J=b.length;var te=we?new Uint16Array(J):In(J);for(P=0;P<J;++P)Q[I=b[P]]++,T<I&&(T=I),te[P]=0;for(Q[0]=0,P=1;P<=T;++P)Q[P+16]=ce=ce+Q[P-1]<<1;for(P=0;P<J;++P)0!=(ce=b[P])&&(te[P]=Q[ce+16]++);var Te=0;for(P=0;P<J;++P)if(0!=(Te=b[P]))for(ce=H(te[P],T)>>T-Te,X=(1<<T+4-Te)-1;X>=0;--X)k[ce|X<<Te]=15&Te|P<<4;return T}var yo=we?new Uint16Array(512):In(512),Xl=we?new Uint16Array(32):In(32);if(!we){for(var En=0;En<512;++En)yo[En]=0;for(En=0;En<32;++En)Xl[En]=0}!function(){for(var b=[],k=0;k<32;k++)b.push(5);js(b,Xl,32);var D=[];for(k=0;k<=143;k++)D.push(8);for(;k<=255;k++)D.push(9);for(;k<=279;k++)D.push(7);for(;k<=287;k++)D.push(8);js(D,yo,288)}();var sa=function(){for(var k=we?new Uint8Array(32768):[],D=0,T=0;D<Ee.length-1;++D)for(;T<Ee[D+1];++T)k[T]=D;for(;T<32768;++T)k[T]=29;var I=we?new Uint8Array(259):[];for(D=0,T=0;D<oe.length-1;++D)for(;T<oe[D+1];++T)I[T]=D;return function(J,Q){return J.length<8?function P(ce,J){for(var Q=0;Q<ce.length;){var te=Math.min(65535,ce.length-Q);for(J.write_shift(1,+(Q+te==ce.length)),J.write_shift(2,te),J.write_shift(2,65535&~te);te-- >0;)J[J.l++]=ce[Q++]}return J.l}(J,Q):function X(ce,J){for(var Q=0,te=0,Te=we?new Uint16Array(32768):[];te<ce.length;){var Ie=Math.min(65535,ce.length-te);if(Ie<10){for(7&(Q=Or(J,Q,+(te+Ie==ce.length)))&&(Q+=8-(7&Q)),J.l=Q/8|0,J.write_shift(2,Ie),J.write_shift(2,65535&~Ie);Ie-- >0;)J[J.l++]=ce[te++];Q=8*J.l}else{Q=Or(J,Q,+(te+Ie==ce.length)+2);for(var Ge=0;Ie-- >0;){var Pe=ce[te],Ne=-1,ot=0;if((Ne=Te[Ge=32767&(Ge<<5^Pe)])&&((Ne|=-32768&te)>te&&(Ne-=32768),Ne<te))for(;ce[Ne+ot]==ce[te+ot]&&ot<250;)++ot;if(ot>2){(Pe=I[ot])<=22?Q=Lr(J,Q,fe[Pe+1]>>1)-1:(Lr(J,Q,3),Lr(J,Q+=5,fe[Pe-23]>>5),Q+=3);var yi=Pe<8?0:Pe-4>>2;yi>0&&(Yl(J,Q,ot-oe[Pe]),Q+=yi),Q=Lr(J,Q,fe[Pe=k[te-Ne]]>>3),Q-=3;var Nr=Pe<4?0:Pe-2>>1;Nr>0&&(Yl(J,Q,te-Ne-Ee[Pe]),Q+=Nr);for(var rn=0;rn<ot;++rn)Te[Ge]=32767&te,Ge=32767&(Ge<<5^ce[te]),++te;Ie-=ot-1}else Pe<=143?Pe+=48:Q=Sn(J,Q,1),Q=Lr(J,Q,fe[Pe]),Te[Ge]=32767&te,++te}Q=Lr(J,Q,0)-1}}return J.l=(Q+7)/8|0,J.l}(J,Q)}}();function yt(b){var k=se(50+Math.floor(1.1*b.length)),D=sa(b,k);return k.slice(0,D)}var Ki=we?new Uint16Array(32768):In(32768),$s=we?new Uint16Array(32768):In(32768),pn=we?new Uint16Array(128):In(128),Cd=1,w6=1;function HIe(b,k){var D=mt(b,k)+257,T=mt(b,k+=5)+1,I=function Yt(b,k){var D=7&k,T=k>>>3;return(b[T]|(D<=4?0:b[T+1]<<8))>>>D&15}(b,k+=5)+4;k+=4;for(var P=0,X=we?new Uint8Array(19):In(19),ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],J=1,Q=we?new Uint8Array(8):In(8),te=we?new Uint8Array(8):In(8),Te=X.length,Ie=0;Ie<I;++Ie)X[G[Ie]]=P=_t(b,k),J<P&&(J=P),Q[P]++,k+=3;var Ge=0;for(Q[0]=0,Ie=1;Ie<=J;++Ie)te[Ie]=Ge=Ge+Q[Ie-1]<<1;for(Ie=0;Ie<Te;++Ie)0!=(Ge=X[Ie])&&(ce[Ie]=te[Ge]++);var Pe=0;for(Ie=0;Ie<Te;++Ie)if(0!=(Pe=X[Ie])){Ge=fe[ce[Ie]]>>8-Pe;for(var Ne=(1<<7-Pe)-1;Ne>=0;--Ne)pn[Ge|Ne<<Pe]=7&Pe|Ie<<3}var ot=[];for(J=1;ot.length<D+T;)switch(Ge=pn[Be(b,k)],k+=7&Ge,Ge>>>=3){case 16:for(P=3+Gt(b,k),k+=2,Ge=ot[ot.length-1];P-- >0;)ot.push(Ge);break;case 17:for(P=3+_t(b,k),k+=3;P-- >0;)ot.push(0);break;case 18:for(P=11+Be(b,k),k+=7;P-- >0;)ot.push(0);break;default:ot.push(Ge),J<Ge&&(J=Ge)}var yi=ot.slice(0,D),Nr=ot.slice(D);for(Ie=D;Ie<286;++Ie)yi[Ie]=0;for(Ie=T;Ie<30;++Ie)Nr[Ie]=0;return Cd=js(yi,Ki,286),w6=js(Nr,$s,30),k}function b6(b,k){var T=function GIe(b,k){if(3==b[0]&&!(3&b[1]))return[Nl(k),2];for(var D=0,T=0,I=YH(k||1<<18),P=0,X=I.length>>>0,ce=0,J=0;!(1&T);)if(T=_t(b,D),D+=3,T>>>1)for(T>>1==1?(ce=9,J=5):(D=HIe(b,D),ce=Cd,J=w6);;){!k&&X<P+32767&&(X=(I=_o(I,P+32767)).length);var te=Ti(b,D,ce),Te=T>>>1==1?yo[te]:Ki[te];if(D+=15&Te,(Te>>>=4)>>>8&255){if(256==Te)break;var Ie=(Te-=257)<8?0:Te-4>>2;Ie>5&&(Ie=0);var Ge=P+oe[Te];Ie>0&&(Ge+=Ti(b,D,Ie),D+=Ie),te=Ti(b,D,J),D+=15&(Te=T>>>1==1?Xl[te]:$s[te]);var Pe=(Te>>>=4)<4?0:Te-2>>1,Ne=Ee[Te];for(Pe>0&&(Ne+=Ti(b,D,Pe),D+=Pe),!k&&X<Ge&&(X=(I=_o(I,Ge+100)).length);P<Ge;)I[P]=I[P-Ne],++P}else I[P++]=Te}else{7&D&&(D+=8-(7&D));var Q=b[D>>>3]|b[1+(D>>>3)]<<8;if(D+=32,Q>0)for(!k&&X<P+Q&&(X=(I=_o(I,P+Q)).length);Q-- >0;)I[P++]=b[D>>>3],D+=8}return k?[I,D+7>>>3]:[I.slice(0,P),D+7>>>3]}(b.slice(b.l||0),k);return b.l+=T[1],T[0]}function x6(b,k){if(!b)throw new Error(k);typeof console<"u"&&console.error(k)}function S6(b,k){var D=b;kn(D,0);var P={FileIndex:[],FullPaths:[]};S(P,{root:k.root});for(var X=D.length-4;(80!=D[X]||75!=D[X+1]||5!=D[X+2]||6!=D[X+3])&&X>=0;)--X;D.l=X+4,D.l+=4;var ce=D.read_shift(2);D.l+=6;var J=D.read_shift(4);for(D.l=J,X=0;X<ce;++X){D.l+=20;var Q=D.read_shift(4),te=D.read_shift(4),Te=D.read_shift(2),Ie=D.read_shift(2),Ge=D.read_shift(2);D.l+=8;var Pe=D.read_shift(4),Ne=a(D.slice(D.l+Te,D.l+Te+Ie));D.l+=Te+Ie+Ge;var ot=D.l;D.l=Pe+4,zIe(D,Q,te,P,Ne),D.l=ot}return P}function zIe(b,k,D,T,I){b.l+=2;var P=b.read_shift(2),X=b.read_shift(2),ce=function o(b){var k=65535&b.read_shift(2),D=65535&b.read_shift(2),T=new Date,I=31&D,P=15&(D>>>=5);D>>>=4,T.setMilliseconds(0),T.setFullYear(D+1980),T.setMonth(P-1),T.setDate(I);var X=31&k,ce=63&(k>>>=5);return T.setHours(k>>>=6),T.setMinutes(ce),T.setSeconds(X<<1),T}(b);if(8257&P)throw new Error("Unsupported ZIP encryption");b.read_shift(4);for(var Q=b.read_shift(4),te=b.read_shift(4),Te=b.read_shift(2),Ie=b.read_shift(2),Ge="",Pe=0;Pe<Te;++Pe)Ge+=String.fromCharCode(b[b.l++]);if(Ie){var Ne=a(b.slice(b.l,b.l+Ie));(Ne[21589]||{}).mt&&(ce=Ne[21589].mt),((I||{})[21589]||{}).mt&&(ce=I[21589].mt)}b.l+=Ie;var ot=b.slice(b.l,b.l+Q);switch(X){case 8:ot=function q(b,k){if(!ue)return b6(b,k);var T=new(0,ue.InflateRaw),I=T._processChunk(b.slice(b.l),T._finishFlushFlag);return b.l+=T.bytesRead,I}(b,te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+X)}var yi=!1;8&P&&(134695760==b.read_shift(4)&&(b.read_shift(4),yi=!0),Q=b.read_shift(4),te=b.read_shift(4)),Q!=k&&x6(yi,"Bad compressed size: "+k+" != "+Q),te!=D&&x6(yi,"Bad uncompressed size: "+D+" != "+te),NT(T,Ge,ot,{unsafe:!0,mt:ce})}var K_={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function UIe(b,k){if(b.ctype)return b.ctype;var D=b.name||"",T=D.match(/\.([^\.]+)$/);return T&&K_[T[1]]||k&&(T=(D=k).match(/[\.\\]([^\.\\])+$/))&&K_[T[1]]?K_[T[1]]:"application/octet-stream"}function jIe(b){for(var k=ug(b),D=[],T=0;T<k.length;T+=76)D.push(k.slice(T,T+76));return D.join("\r\n")+"\r\n"}function $Ie(b){var k=b.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Q){var te=Q.charCodeAt(0).toString(16).toUpperCase();return"="+(1==te.length?"0"+te:te)});"\n"==(k=k.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(k="=0D"+k.slice(1));for(var D=[],T=(k=k.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),I=0;I<T.length;++I){var P=T[I];if(0!=P.length)for(var X=0;X<P.length;){var ce=76,J=P.slice(X,X+ce);"="==J.charAt(ce-1)?ce--:"="==J.charAt(ce-2)?ce-=2:"="==J.charAt(ce-3)&&(ce-=3),J=P.slice(X,X+ce),(X+=ce)<P.length&&(J+="="),D.push(J)}else D.push("")}return D.join("\r\n")}function qIe(b,k,D){for(var X,T="",I="",P="",ce=0;ce<10;++ce){var J=k[ce];if(!J||J.match(/^\s*$/))break;var Q=J.match(/^(.*?):\s*([^\s].*)$/);if(Q)switch(Q[1].toLowerCase()){case"content-location":T=Q[2].trim();break;case"content-type":P=Q[2].trim();break;case"content-transfer-encoding":I=Q[2].trim()}}switch(++ce,I.toLowerCase()){case"base64":X=as(os(k.slice(ce).join("")));break;case"quoted-printable":X=function KIe(b){for(var k=[],D=0;D<b.length;++D){for(var T=b[D];D<=b.length&&"="==T.charAt(T.length-1);)T=T.slice(0,T.length-1)+b[++D];k.push(T)}for(var I=0;I<k.length;++I)k[I]=k[I].replace(/[=][0-9A-Fa-f]{2}/g,function(P){return String.fromCharCode(parseInt(P.slice(1),16))});return as(k.join("\r\n"))}(k.slice(ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+I)}var te=NT(b,T.slice(D.length),X,{unsafe:!0});P&&(te.ctype=P)}function NT(b,k,D,T){var I=T&&T.unsafe;I||S(b);var P=!I&&je.find(b,k);if(!P){var X=b.FullPaths[0];k.slice(0,X.length)==X?X=k:("/"!=X.slice(-1)&&(X+="/"),X=(X+k).replace("//","/")),P={name:r(k),type:2},b.FileIndex.push(P),b.FullPaths.push(X),I||je.utils.cfb_gc(b)}return P.content=D,P.size=D?D.length:0,T&&(T.CLSID&&(P.clsid=T.CLSID),T.mt&&(P.mt=T.mt),T.ct&&(P.ct=T.ct)),P}return t.find=function K(b,k){var D=b.FullPaths.map(function(J){return J.toUpperCase()}),T=D.map(function(J){var Q=J.split("/");return Q[Q.length-("/"==J.slice(-1)?2:1)]}),I=!1;47===k.charCodeAt(0)?(I=!0,k=D[0].slice(0,-1)+k):I=-1!==k.indexOf("/");var P=k.toUpperCase(),X=!0===I?D.indexOf(P):T.indexOf(P);if(-1!==X)return b.FileIndex[X];var ce=!P.match(fg);for(P=P.replace(Wn,""),ce&&(P=P.replace(fg,"!")),X=0;X<D.length;++X)if((ce?D[X].replace(fg,"!"):D[X]).replace(Wn,"")==P||(ce?T[X].replace(fg,"!"):T[X]).replace(Wn,"")==P)return b.FileIndex[X];return null},t.read=function M(b,k){var D=k&&k.type;switch(D||Ct&&Buffer.isBuffer(b)&&(D="buffer"),D||"base64"){case"file":return function R(b,k){return c(),d(l.readFileSync(b),k)}(b,k);case"base64":return d(as(os(b)),k);case"binary":return d(as(b),k)}return d(b,k)},t.parse=d,t.write=function He(b,k){var D=j(b,k);switch(k&&k.type||"buffer"){case"file":return c(),l.writeFileSync(k.filename,D),D;case"binary":return"string"==typeof D?D:he(D);case"base64":return ug("string"==typeof D?D:he(D));case"buffer":if(Ct)return Buffer.isBuffer(D)?D:Oa(D);case"array":return"string"==typeof D?as(D):D}return D},t.writeFile=function Ae(b,k,D){c();var T=j(b,D);l.writeFileSync(k,T)},t.utils={cfb_new:function ZIe(b){var k={};return S(k,b),k},cfb_add:NT,cfb_del:function QIe(b,k){S(b);var D=je.find(b,k);if(D)for(var T=0;T<b.FileIndex.length;++T)if(b.FileIndex[T]==D)return b.FileIndex.splice(T,1),b.FullPaths.splice(T,1),!0;return!1},cfb_mov:function JIe(b,k,D){S(b);var T=je.find(b,k);if(T)for(var I=0;I<b.FileIndex.length;++I)if(b.FileIndex[I]==T)return b.FileIndex[I].name=r(D),b.FullPaths[I]=D,!0;return!1},cfb_gc:function ePe(b){B(b,!0)},ReadShift:yg,CheckField:KG,prep_blob:kn,bconcat:Cn,use_zlib:function O(b){try{var D=new(0,b.InflateRaw);if(D._processChunk(new Uint8Array([3,0]),D._finishFlushFlag),!D.bytesRead)throw new Error("zlib does not expose bytesRead");ue=b}catch(T){console.error("cannot use native zlib: "+(T.message||T))}},_deflateRaw:yt,_inflateRaw:b6,consts:le},t}();let Gl;function _be(e){return"string"==typeof e?hg(e):Array.isArray(e)?function Uwe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function mg(e,t,i){if(typeof Gl<"u"&&Gl.writeFileSync)return i?Gl.writeFileSync(e,t,i):Gl.writeFileSync(e,t);if(typeof Deno<"u"){if(i&&"string"==typeof t)switch(i){case"utf8":t=new TextEncoder(i).encode(t);break;case"binary":t=hg(t);break;default:throw new Error("Unsupported encoding "+i)}return Deno.writeFileSync(e,t)}var n="utf8"==i?ea(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var r=new Blob([_be(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(typeof saveAs<"u")return saveAs(r,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(r);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=Bl(t)),a.write(t),a.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Ii(e){for(var t=Object.keys(e),i=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&i.push(t[n]);return i}function pG(e,t){for(var i=[],n=Ii(e),r=0;r!==n.length;++r)null==i[e[n[r]][t]]&&(i[e[n[r]][t]]=n[r]);return i}function m_(e){for(var t=[],i=Ii(e),n=0;n!==i.length;++n)t[e[i[n]]]=i[n];return t}function v_(e){for(var t=[],i=Ii(e),n=0;n!==i.length;++n)t[e[i[n]]]=parseInt(i[n],10);return t}var C_=new Date(1899,11,30,0,0,0);function _n(e,t){var i=e.getTime();return t&&(i-=1263168e5),(i-(C_.getTime()+6e4*(e.getTimezoneOffset()-C_.getTimezoneOffset())))/864e5}var gG=new Date,bbe=C_.getTime()+6e4*(gG.getTimezoneOffset()-C_.getTimezoneOffset()),mG=gG.getTimezoneOffset();function SD(e){var t=new Date;return t.setTime(24*e*60*60*1e3+bbe),t.getTimezoneOffset()!==mG&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-mG)),t}var vG=new Date("2017-02-19T19:06:09.000Z"),CG=isNaN(vG.getFullYear())?new Date("2/19/17"):vG,Sbe=2017==CG.getFullYear();function Di(e,t){var i=new Date(e);if(Sbe)return t>0?i.setTime(i.getTime()+60*i.getTimezoneOffset()*1e3):t<0&&i.setTime(i.getTime()-60*i.getTimezoneOffset()*1e3),i;if(e instanceof Date)return e;if(1917==CG.getFullYear()&&!isNaN(i.getFullYear())){var n=i.getFullYear();return e.indexOf(""+n)>-1||i.setFullYear(i.getFullYear()+100),i}var r=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function id(e,t){if(Ct&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return ea(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return ea(function qH(e){for(var t=[],i=0;i<e.length>>1;++i)t[i]=String.fromCharCode(e.charCodeAt(2*i+1)+(e.charCodeAt(2*i)<<8));return t.join("")}(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(255==e[0]&&254==e[1])return ea(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return ea(new TextDecoder("utf-16be").decode(e.slice(2)))}var i={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(s){return i[s]||s})}catch{}for(var n=[],r=0;r!=e.length;++r)n.push(String.fromCharCode(e[r]));return n.join("")}function di(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=di(e[i]));return t}function Pi(e,t){for(var i="";i.length<t;)i+=e;return i}function mo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var i=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return i*=100,""});return isNaN(t=Number(n))&&(n=n.replace(/[(](.*)[)]/,function(r,s){return i=-i,s}),isNaN(t=Number(n)))?t:t/i}var Ebe=["january","february","march","april","may","june","july","august","september","october","november","december"];function gh(e){var t=new Date(e),i=new Date(NaN),n=t.getYear(),r=t.getMonth(),s=t.getDate();if(isNaN(s))return i;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Ebe.indexOf(o))return i}else if(o.match(/[a-z]/))return i;return n<0||n>8099?i:(r>0||s>1)&&101!=n?t:e.match(/[^-0-9:,\/\\]/)?i:t}function pt(e,t,i){if(e.FullPaths){var n;if("string"==typeof i)return n=Ct?Oa(i):function jwe(e){for(var t=[],i=0,n=e.length+250,r=Nl(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)r[i++]=o;else if(o<2048)r[i++]=192|o>>6&31,r[i++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var a=1023&e.charCodeAt(++s);r[i++]=240|o>>8&7,r[i++]=128|o>>2&63,r[i++]=128|a>>6&15|(3&o)<<4,r[i++]=128|63&a}else r[i++]=224|o>>12&15,r[i++]=128|o>>6&63,r[i++]=128|63&o;i>n&&(t.push(r.slice(0,i)),i=0,r=Nl(65535),n=65530)}return t.push(r.slice(0,i)),Cn(t)}(i),je.utils.cfb_add(e,t,n);je.utils.cfb_add(e,t,i)}else e.file(t,i)}function DD(){return je.utils.cfb_new()}var Oi='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',TD=m_({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),AD=/[&<>'"]/g,Ibe=/[\u0000-\u0008\u000b-\u001f]/g;function ri(e){return(e+"").replace(AD,function(i){return TD[i]}).replace(Ibe,function(i){return"_x"+("000"+i.charCodeAt(0).toString(16)).slice(-4)+"_"})}function EG(e){return ri(e).replace(/ /g,"_x0020_")}var DG=/[\u0000-\u001f]/g;function TG(e){return(e+"").replace(AD,function(i){return TD[i]}).replace(/\n/g,"<br/>").replace(DG,function(i){return"&#x"+("000"+i.charCodeAt(0).toString(16)).slice(-4)+";"})}function RD(e){for(var t="",i=0,n=0,r=0,s=0,o=0,a=0;i<e.length;)(n=e.charCodeAt(i++))<128?t+=String.fromCharCode(n):(r=e.charCodeAt(i++),n>191&&n<224?(o=(31&n)<<6,o|=63&r,t+=String.fromCharCode(o)):(s=e.charCodeAt(i++),n<240?t+=String.fromCharCode((15&n)<<12|(63&r)<<6|63&s):(a=((7&n)<<18|(63&r)<<12|(63&s)<<6|63&(o=e.charCodeAt(i++)))-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(1023&a)))));return t}function RG(e){var i,n,a,t=Nl(2*e.length),r=1,s=0,o=0;for(n=0;n<e.length;n+=r)r=1,(a=e.charCodeAt(n))<128?i=a:a<224?(i=64*(31&a)+(63&e.charCodeAt(n+1)),r=2):a<240?(i=4096*(15&a)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),r=3):(r=4,i=262144*(7&a)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),o=55296+((i-=65536)>>>10&1023),i=56320+(1023&i)),0!==o&&(t[s++]=255&o,t[s++]=o>>>8,o=0),t[s++]=i%256,t[s++]=i>>>8;return t.slice(0,s).toString("ucs2")}function FG(e){return Oa(e,"binary").toString("utf8")}var __="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",Ci=Ct&&(FG(__)==RD(__)&&FG||RG(__)==RD(__)&&RG)||RD,ea=Ct?function(e){return Oa(e,"utf8").toString("binary")}:function(e){for(var t=[],i=0,n=0,r=0;i<e.length;)switch(n=e.charCodeAt(i++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,r=e.charCodeAt(i++)-56320+(n<<10),t.push(String.fromCharCode(240+(r>>18&7))),t.push(String.fromCharCode(144+(r>>12&63))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(63&n)))}return t.join("")},MG=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(i){for(var n=i.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}(),IG=/(^\s|\s$|\n)/;function Mn(e,t){return"<"+e+(t.match(IG)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Cg(e){return Ii(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Fe(e,t,i){return"<"+e+(null!=i?Cg(i):"")+(null!=t?(t.match(IG)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function FD(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(i){if(t)throw i}return""}var en={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},zl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ds={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"},PG=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,s=e[0][n].length;r<s;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},OG=Ct?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Oa(t)})):PG(e)}:PG,LG=function(e,t,i){for(var n=[],r=t;r<i;r+=2)n.push(String.fromCharCode(Na(e,r)));return n.join("").replace(Wn,"")},y_=Ct?function(e,t,i){return Buffer.isBuffer(e)?e.toString("utf16le",t,i).replace(Wn,""):LG(e,t,i)}:LG,NG=function(e,t,i){for(var n=[],r=t;r<t+i;++r)n.push(("0"+e[r].toString(16)).slice(-2));return n.join("")},BG=Ct?function(e,t,i){return Buffer.isBuffer(e)?e.toString("hex",t,t+i):NG(e,t,i)}:NG,VG=function(e,t,i){for(var n=[],r=t;r<i;r++)n.push(String.fromCharCode(vh(e,r)));return n.join("")},mh=Ct?function(t,i,n){return Buffer.isBuffer(t)?t.toString("utf8",i,n):VG(t,i,n)}:VG,HG=function(e,t){var i=yn(e,t);return i>0?mh(e,t+4,t+4+i-1):""},kD=HG,GG=function(e,t){var i=yn(e,t);return i>0?mh(e,t+4,t+4+i-1):""},ID=GG,zG=function(e,t){var i=2*yn(e,t);return i>0?mh(e,t+4,t+4+i-1):""},PD=zG,WG=function(t,i){var n=yn(t,i);return n>0?y_(t,i+4,i+4+n):""},OD=WG,UG=function(e,t){var i=yn(e,t);return i>0?mh(e,t+4,t+4+i):""},LD=UG,jG=function(e,t){return function Gbe(e,t){for(var i=1-2*(e[t+7]>>>7),n=((127&e[t+7])<<4)+(e[t+6]>>>4&15),r=15&e[t+6],s=5;s>=0;--s)r=256*r+e[t+s];return 2047==n?0==r?i*(1/0):NaN:(0==n?n=-1022:(n-=1023,r+=Math.pow(2,52)),i*Math.pow(2,n-52)*r)}(e,t)},w_=jG,ND=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ct&&(kD=function(t,i){if(!Buffer.isBuffer(t))return HG(t,i);var n=t.readUInt32LE(i);return n>0?t.toString("utf8",i+4,i+4+n-1):""},ID=function(t,i){if(!Buffer.isBuffer(t))return GG(t,i);var n=t.readUInt32LE(i);return n>0?t.toString("utf8",i+4,i+4+n-1):""},PD=function(t,i){if(!Buffer.isBuffer(t))return zG(t,i);var n=2*t.readUInt32LE(i);return t.toString("utf16le",i+4,i+4+n-1)},OD=function(t,i){if(!Buffer.isBuffer(t))return WG(t,i);var n=t.readUInt32LE(i);return t.toString("utf16le",i+4,i+4+n)},LD=function(t,i){if(!Buffer.isBuffer(t))return UG(t,i);var n=t.readUInt32LE(i);return t.toString("utf8",i+4,i+4+n)},w_=function(t,i){return Buffer.isBuffer(t)?t.readDoubleLE(i):jG(t,i)},ND=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array}),typeof Lt<"u"&&function $G(){y_=function(e,t,i){return Lt.utils.decode(1200,e.slice(t,i)).replace(Wn,"")},mh=function(e,t,i){return Lt.utils.decode(65001,e.slice(t,i))},kD=function(e,t){var i=yn(e,t);return i>0?Lt.utils.decode(ed,e.slice(t+4,t+4+i-1)):""},ID=function(e,t){var i=yn(e,t);return i>0?Lt.utils.decode(ss,e.slice(t+4,t+4+i-1)):""},PD=function(e,t){var i=2*yn(e,t);return i>0?Lt.utils.decode(1200,e.slice(t+4,t+4+i-1)):""},OD=function(e,t){var i=yn(e,t);return i>0?Lt.utils.decode(1200,e.slice(t+4,t+4+i)):""},LD=function(e,t){var i=yn(e,t);return i>0?Lt.utils.decode(65001,e.slice(t+4,t+4+i)):""}}();var vh=function(e,t){return e[t]},Na=function(e,t){return 256*e[t+1]+e[t]},Wbe=function(e,t){var i=256*e[t+1]+e[t];return i<32768?i:-1*(65535-i+1)},yn=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},nd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Ube=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function yg(e,t){var n,r,o,a,l,c,i="",s=[];switch(t){case"dbcs":if(c=this.l,Ct&&Buffer.isBuffer(this))i=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)i+=String.fromCharCode(Na(this,c)),c+=2;e*=2;break;case"utf8":i=mh(this,this.l,this.l+e);break;case"utf16le":i=y_(this,this.l,this.l+(e*=2));break;case"wstr":if(!(typeof Lt<"u"))return yg.call(this,e,"dbcs");i=Lt.utils.decode(ss,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":i=kD(this,this.l),e=4+yn(this,this.l);break;case"lpstr-cp":i=ID(this,this.l),e=4+yn(this,this.l);break;case"lpwstr":i=PD(this,this.l),e=4+2*yn(this,this.l);break;case"lpp4":e=4+yn(this,this.l),i=OD(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+yn(this,this.l),i=LD(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,i="";0!==(o=vh(this,this.l+e++));)s.push(cg(o));i=s.join("");break;case"_wstr":for(e=0,i="";0!==(o=Na(this,this.l+e));)s.push(cg(o)),e+=2;e+=2,i=s.join("");break;case"dbcs-cont":for(i="",c=this.l,l=0;l<e;++l){if(this.lens&&-1!==this.lens.indexOf(c))return o=vh(this,c),this.l=c+1,a=yg.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(cg(Na(this,c))),c+=2}i=s.join(""),e*=2;break;case"cpstr":if(typeof Lt<"u"){i=Lt.utils.decode(ss,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(i="",c=this.l,l=0;l!=e;++l){if(this.lens&&-1!==this.lens.indexOf(c))return o=vh(this,c),this.l=c+1,a=yg.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(cg(vh(this,c))),c+=1}i=s.join("");break;default:switch(e){case 1:return n=vh(this,this.l),this.l++,n;case 2:return n=("i"===t?Wbe:Na)(this,this.l),this.l+=2,n;case 4:case-4:return"i"!==t&&128&this[this.l+3]?(r=yn(this,this.l),this.l+=4,r):(n=(e>0?nd:Ube)(this,this.l),this.l+=4,n);case 8:case-8:if("f"===t)return r=8==e?w_(this,this.l):w_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:i=BG(this,this.l,e)}}return this.l+=e,i}var jbe=function(e,t,i){e[i]=255&t,e[i+1]=t>>>8&255,e[i+2]=t>>>16&255,e[i+3]=t>>>24&255},$be=function(e,t,i){e[i]=255&t,e[i+1]=t>>8&255,e[i+2]=t>>16&255,e[i+3]=t>>24&255},Kbe=function(e,t,i){e[i]=255&t,e[i+1]=t>>>8&255};function qbe(e,t,i){var n=0,r=0;if("dbcs"===i){for(r=0;r!=t.length;++r)Kbe(this,t.charCodeAt(r),this.l+2*r);n=2*t.length}else if("sbcs"===i){if(typeof Lt<"u"&&874==ed)for(r=0;r!=t.length;++r){var s=Lt.utils.encode(ed,t.charAt(r));this[this.l+r]=s[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=t.length;++r)this[this.l+r]=255&t.charCodeAt(r);n=t.length}else{if("hex"===i){for(;r<e;++r)this[this.l++]=parseInt(t.slice(2*r,2*r+2),16)||0;return this}if("utf16le"===i){var o=Math.min(this.l+e,this.length);for(r=0;r<Math.min(t.length,e);++r){var a=t.charCodeAt(r);this[this.l++]=255&a,this[this.l++]=a>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&t;break;case 2:n=2,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8);break;case 3:n=3,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8),this[this.l+2]=255&(t>>>=8);break;case 4:n=4,jbe(this,t,this.l);break;case 8:if(n=8,"f"===i){!function zbe(e,t,i){var n=(t<0||1/t==-1/0?1:0)<<7,r=0,s=0,o=n?-t:t;isFinite(o)?0==o?r=s=0:(r=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(t)?26985:0);for(var a=0;a<=5;++a,s/=256)e[i+a]=255&s;e[i+6]=(15&r)<<4|15&s,e[i+7]=r>>4|n}(this,t,this.l);break}case 16:break;case-4:n=4,$be(this,t,this.l)}}return this.l+=n,this}function KG(e,t){var i=BG(this,this.l,e.length>>1);if(i!==e)throw new Error(t+"Expected "+e+" saw "+i);this.l+=e.length>>1}function kn(e,t){e.l=t,e.read_shift=yg,e.chk=KG,e.write_shift=qbe}function jn(e,t){e.l+=t}function se(e){var t=Nl(e);return kn(t,0),t}function gr(){var e=[],t=Ct?256:2048,i=function(c){var d=se(c);return kn(d,0),d},n=i(t),r=function(){n&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(r(),n=i(Math.max(c+1,t)))};return{next:s,push:function(c){r(),null==(n=c).l&&(n.l=n.length),s(t)},end:function(){return r(),Cn(e)},_bufs:e}}function ve(e,t,i,n){var s,r=+t;if(!isNaN(r)){n||(n=Bg[r].p||(i||[]).length||0),s=1+(r>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=e.next(s);r<=127?o.write_shift(1,r):(o.write_shift(1,128+(127&r)),o.write_shift(1,r>>7));for(var a=0;4!=a;++a){if(!(n>=128)){o.write_shift(1,n);break}o.write_shift(1,128+(127&n)),n>>=7}n>0&&ND(i)&&e.push(i)}}function wg(e,t,i){var n=di(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!i||i.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function qG(e,t,i){var n=di(e);return n.s=wg(n.s,t.s,i),n.e=wg(n.e,t.s,i),n}function bg(e,t){if(e.cRel&&e.c<0)for(e=di(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=di(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var i=Ze(e);return!e.cRel&&null!=e.cRel&&(i=function Zbe(e){return e.replace(/^([A-Z])/,"$$$1")}(i)),!e.rRel&&null!=e.rRel&&(i=function Ybe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(i)),i}function BD(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?bg(e.s,t.biff)+":"+bg(e.e,t.biff):(e.s.rRel?"":"$")+Li(e.s.r)+":"+(e.e.rRel?"":"$")+Li(e.e.r):(e.s.cRel?"":"$")+_i(e.s.c)+":"+(e.e.cRel?"":"$")+_i(e.e.c)}function VD(e){return parseInt(function Xbe(e){return e.replace(/\$(\d+)$/,"$1")}(e),10)-1}function Li(e){return""+(e+1)}function HD(e){for(var t=function Qbe(e){return e.replace(/^\$([A-Z])/,"$1")}(e),i=0,n=0;n!==t.length;++n)i=26*i+t.charCodeAt(n)-64;return i-1}function _i(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ji(e){for(var t=0,i=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=48&&r<=57?t=10*t+(r-48):r>=65&&r<=90&&(i=26*i+(r-64))}return{c:i-1,r:t-1}}function Ze(e){for(var t=e.c+1,i="";t;t=(t-1)/26|0)i=String.fromCharCode((t-1)%26+65)+i;return i+(e.r+1)}function mr(e){var t=e.indexOf(":");return-1==t?{s:ji(e),e:ji(e)}:{s:ji(e.slice(0,t)),e:ji(e.slice(t+1))}}function ut(e,t){return typeof t>"u"||"number"==typeof t?ut(e.s,e.e):("string"!=typeof e&&(e=Ze(e)),"string"!=typeof t&&(t=Ze(t)),e==t?e:e+":"+t)}function It(e){var t={s:{c:0,r:0},e:{c:0,r:0}},i=0,n=0,r=0,s=e.length;for(i=0;n<s&&!((r=e.charCodeAt(n)-64)<1||r>26);++n)i=26*i+r;for(t.s.c=--i,i=0;n<s&&!((r=e.charCodeAt(n)-48)<0||r>9);++n)i=10*i+r;if(t.s.r=--i,n===s||10!=r)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,i=0;n!=s&&!((r=e.charCodeAt(n)-64)<1||r>26);++n)i=26*i+r;for(t.e.c=--i,i=0;n!=s&&!((r=e.charCodeAt(n)-48)<0||r>9);++n)i=10*i+r;return t.e.r=--i,t}function ta(e,t,i){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&i&&i.dateNF&&(e.z=i.dateNF),"e"==e.t?Va[e.v]||e.v:function YG(e,t){var i="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=ls(e.z,i?_n(t):t)}catch{}try{return e.w=ls((e.XF||{}).numFmtId||(i?14:0),i?_n(t):t)}catch{return""+t}}(e,null==t?e.v:t))}function Wl(e,t){var i=t&&t.sheet?t.sheet:"Sheet1",n={};return n[i]=e,{SheetNames:[i],Sheets:n}}function XG(e,t,i){var n=i||{},r=e?Array.isArray(e):n.dense;null!=ki&&null==r&&(r=ki);var s=e||(r?[]:{}),o=0,a=0;if(s&&null!=n.origin){if("number"==typeof n.origin)o=n.origin;else{var l="string"==typeof n.origin?ji(n.origin):n.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=It(s["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),-1==o&&(c.e.r=o=d.e.r+1)}for(var u=0;u!=t.length;++u)if(t[u]){if(!Array.isArray(t[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[u].length;++h)if(!(typeof t[u][h]>"u")){var f={v:t[u][h]},g=o+u,p=a+h;if(c.s.r>g&&(c.s.r=g),c.s.c>p&&(c.s.c=p),c.e.r<g&&(c.e.r=g),c.e.c<p&&(c.e.c=p),!t[u][h]||"object"!=typeof t[u][h]||Array.isArray(t[u][h])||t[u][h]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[u][h][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else{if(!n.sheetStubs)continue;f.t="z"}else"number"==typeof f.v?f.t="n":"boolean"==typeof f.v?f.t="b":f.v instanceof Date?(f.z=n.dateNF||Ke[14],n.cellDates?(f.t="d",f.w=ls(f.z,_n(f.v))):(f.t="n",f.v=_n(f.v),f.w=ls(f.z,f.v))):f.t="s";else f=t[u][h];if(r)s[g]||(s[g]=[]),s[g][p]&&s[g][p].z&&(f.z=s[g][p].z),s[g][p]=f;else{var m=Ze({c:p,r:g});s[m]&&s[m].z&&(f.z=s[m].z),s[m]=f}}}return c.s.c<1e7&&(s["!ref"]=ut(c)),s}function Ch(e,t){return XG(null,e,t)}function vo(e,t){return t||(t=se(4)),t.write_shift(4,e),t}function $n(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function wn(e,t){var i=!1;return null==t&&(i=!0,t=se(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),i?t.slice(0,t.l):t}function txe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function GD(e,t){var i=e.l,n=e.read_shift(1),r=$n(e),s=[],o={t:r,h:r};if(1&n){for(var a=e.read_shift(4),l=0;l!=a;++l)s.push(txe(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=i+t,o}var rxe=GD;function Vs(e){var t=e.read_shift(4),i=e.read_shift(2);return i+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:i}}function rd(e,t){return null==t&&(t=se(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function sd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function od(e,t){return null==t&&(t=se(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var oxe=$n,ZG=wn;function zD(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function b_(e,t){var i=!1;return null==t&&(i=!0,t=se(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),i?t.slice(0,t.l):t}var axe=$n,WD=zD,UD=b_;function jD(e){var t=e.slice(e.l,e.l+4),i=1&t[0],n=2&t[0];e.l+=4;var r=0===n?w_([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):nd(t,0)>>2;return i?r/100:r}function QG(e,t){null==t&&(t=se(4));var i=0,n=0,r=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?n=1:r==(0|r)&&r>=-(1<<29)&&r<1<<29&&(n=1,i=1),!n)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((i?r:e)<<2)+(i+2))}function JG(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var ad=JG,_h=function lxe(e,t){return t||(t=se(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function Kn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function ld(e,t){return(t||se(8)).write_shift(8,e,"f")}function x_(e,t){if(t||(t=se(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var i=e.tint||0;if(i>0?i*=32767:i<0&&(i*=32768),t.write_shift(2,i),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var KD={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},qD={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function yxe(e){return e.map(function(t){return[t>>16&255,t>>8&255,255&t]})}var cd=di(yxe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Va={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},YD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},T_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function s5(e,t){var r,i=function wbe(e){for(var t=[],i=Ii(e),n=0;n!==i.length;++n)null==t[e[i[n]]]&&(t[e[i[n]]]=[]),t[e[i[n]]].push(i[n]);return t}(YD),n=[];n[n.length]=Oi,n[n.length]=Fe("Types",null,{xmlns:en.CT,"xmlns:xsd":en.xsd,"xmlns:xsi":en.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Fe("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){e[l]&&e[l].length>0&&(n[n.length]=Fe("Override",null,{PartName:("/"==(r=e[l][0])[0]?"":"/")+r,ContentType:T_[l][t.bookType]||T_[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(c){n[n.length]=Fe("Override",null,{PartName:("/"==c[0]?"":"/")+c,ContentType:T_[l][t.bookType]||T_[l].xlsx})})},a=function(l){(e[l]||[]).forEach(function(c){n[n.length]=Fe("Override",null,{PartName:("/"==c[0]?"":"/")+c,ContentType:i[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ht={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function xg(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function yh(e){var t=[Oi,Fe("Relationships",null,{xmlns:en.RELS})];return Ii(e["!id"]).forEach(function(i){t[t.length]=Fe("Relationship",null,e["!id"][i])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Zt(e,t,i,n,r,s){if(r||(r={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,r.Id="rId"+t,r.Type=n,r.Target=i,s?r.TargetMode=s:[ht.HLINK,ht.XPATH,ht.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),e["!id"][r.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][r.Id]=r,e[("/"+r.Target).replace("//","/")]=r,t}function o5(e,t,i){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(i||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function Txe(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function a5(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+lg.version+"</meta:generator></office:meta></office:document-meta>"}var Ha=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function ZD(e,t,i,n,r){null!=r[e]||null==t||""===t||(r[e]=t,t=ri(t),n[n.length]=i?Fe(e,t,i):Mn(e,t))}function c5(e,t){var i=t||{},n=[Oi,Fe("cp:coreProperties",null,{"xmlns:cp":en.CORE_PROPS,"xmlns:dc":en.dc,"xmlns:dcterms":en.dcterms,"xmlns:dcmitype":en.dcmitype,"xmlns:xsi":en.xsi})],r={};if(!e&&!i.Props)return n.join("");e&&(null!=e.CreatedDate&&ZD("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:FD(e.CreatedDate,i.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r),null!=e.ModifiedDate&&ZD("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:FD(e.ModifiedDate,i.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r));for(var s=0;s!=Ha.length;++s){var o=Ha[s],a=i.Props&&null!=i.Props[o[1]]?i.Props[o[1]]:e?e[o[1]]:null;!0===a?a="1":!1===a?a="0":"number"==typeof a&&(a=String(a)),null!=a&&ZD(o[0],a,null,n,r)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var dd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],d5=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function h5(e){var t=[],i=Fe;return e||(e={}),e.Application="SheetJS",t[t.length]=Oi,t[t.length]=Fe("Properties",null,{xmlns:en.EXT_PROPS,"xmlns:vt":en.vt}),dd.forEach(function(n){if(void 0!==e[n[1]]){var r;switch(n[2]){case"string":r=ri(String(e[n[1]]));break;case"bool":r=e[n[1]]?"true":"false"}void 0!==r&&(t[t.length]=i(n[0],r))}}),t[t.length]=i("HeadingPairs",i("vt:vector",i("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+i("vt:variant",i("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=i("TitlesOfParts",i("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+ri(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function f5(e){var t=[Oi,Fe("Properties",null,{xmlns:en.CUST_PROPS,"xmlns:vt":en.vt})];if(!e)return t.join("");var i=1;return Ii(e).forEach(function(r){++i,t[t.length]=Fe("property",function Hbe(e,t){switch(typeof e){case"string":var i=Fe("vt:lpwstr",ri(e));return t&&(i=i.replace(/&quot;/g,"_x0022_")),i;case"number":return Fe((0|e)==e?"vt:i4":"vt:r8",ri(String(e)));case"boolean":return Fe("vt:bool",e?"true":"false")}if(e instanceof Date)return Fe("vt:filetime",FD(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:i,name:ri(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var QD={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function _5(e,t){var i=se(4),n=se(4);switch(i.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,t);break;case 5:(n=se(8)).write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=function Lxe(e){var i=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=i%Math.pow(2,32),r=(i-n)/Math.pow(2,32);r*=1e7;var s=(n*=1e7)/Math.pow(2,32)|0;s>0&&(n%=Math.pow(2,32),r+=s);var o=se(8);return o.write_shift(4,n),o.write_shift(4,r),o}(t);break;case 31:case 80:for((n=se(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Cn([i,n])}var w5=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Wxe(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function b5(e,t,i){var n=se(8),r=[],s=[],o=8,a=0,l=se(8),c=se(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),r.push(c),o+=8+l.length,!t){(c=se(8)).write_shift(4,0),r.unshift(c);var d=[se(4)];for(d[0].write_shift(4,e.length),a=0;a<e.length;++a){var u=e[a][0];for((l=se(8+2*(u.length+1)+(u.length%2?0:2))).write_shift(4,a+2),l.write_shift(4,u.length+1),l.write_shift(0,u,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Cn(d),s.unshift(l),o+=8+l.length}for(a=0;a<e.length;++a)if((!t||t[e[a][0]])&&!(w5.indexOf(e[a][0])>-1||d5.indexOf(e[a][0])>-1)&&null!=e[a][1]){var h=e[a][1],f=0;if(t){var g=i[f=+t[e[a][0]]];if("version"==g.p&&"string"==typeof h){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}l=_5(g.t,h)}else{var m=Wxe(h);-1==m&&(m=31,h=String(h)),l=_5(m,h)}s.push(l),(c=se(8)).write_shift(4,t?f:2+a),r.push(c),o+=8+l.length}var C=8*(s.length+1);for(a=0;a<s.length;++a)r[a].write_shift(4,C),C+=s[a].length;return n.write_shift(4,o),n.write_shift(4,s.length),Cn([n].concat(r).concat(s))}function S5(e,t,i,n,r,s){var o=se(r?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,je.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,r?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,r?68:48);var l=b5(e,i,n);if(a.push(l),r){var c=b5(r,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(c)}return Cn(a)}function vr(e,t){return t||(t=se(2)),t.write_shift(2,+!!e),t}function tn(e){return e.read_shift(2,"u")}function Hs(e,t){return t||(t=se(2)),t.write_shift(2,e),t}function D5(e,t,i){return i||(i=se(2)),i.write_shift(1,"e"==t?+e:+!!e),i.write_shift(1,"e"==t?1:0),i}function Eg(e,t,i){var n=e.read_shift(i&&i.biff>=12?2:1),r="sbcs-cont",s=ss;i&&i.biff>=8&&(ss=1200),i&&8!=i.biff?12==i.biff&&(r="wstr"):e.read_shift(1)&&(r="dbcs-cont"),i.biff>=2&&i.biff<=5&&(r="cpstr");var a=n?e.read_shift(n,r):"";return ss=s,a}function qxe(e){var t=e.t||"",n=se(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=se(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),Cn([n,r])}function T5(e,t,i){return i||(i=se(3+2*e.length)),i.write_shift(2,e.length),i.write_shift(1,1),i.write_shift(31,e,"utf16le"),i}function A5(e,t){t||(t=se(6+2*e.length)),t.write_shift(4,1+e.length);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function eSe(e){var t=se(512),i=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var r=n.indexOf("#"),s=r>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(i=0;i<o.length;++i)t.write_shift(4,o[i]);if(28==s)A5(n=n.slice(1),t);else if(2&s){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<o.length;++i)t.write_shift(1,parseInt(o[i],16));var a=r>-1?n.slice(0,r):n;for(t.write_shift(4,2*(a.length+1)),i=0;i<a.length;++i)t.write_shift(2,a.charCodeAt(i));t.write_shift(2,0),8&s&&A5(r>-1?n.slice(r+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),i=0;i<o.length;++i)t.write_shift(1,parseInt(o[i],16));for(var l=0;"../"==n.slice(3*l,3*l+3)||"..\\"==n.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),i=0;i<n.length-3*l;++i)t.write_shift(1,255&n.charCodeAt(i+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),i=0;i<6;++i)t.write_shift(4,0)}return t.slice(0,t.l)}function fd(e,t,i,n){return n||(n=se(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,i||0),n}function nSe(e,t,i){var n=i.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function F_(e){var t=e.read_shift(2),i=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:i}}}function k5(e,t){return t||(t=se(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function iT(e,t,i){var n=1536,r=16;switch(i.bookType){case"biff8":case"xla":break;case"biff5":n=1280,r=8;break;case"biff4":n=4,r=6;break;case"biff3":n=3,r=6;break;case"biff2":n=2,r=4;break;default:throw new Error("unsupported BIFF version")}var s=se(r);return s.write_shift(2,n),s.write_shift(2,t),r>4&&s.write_shift(2,29282),r>6&&s.write_shift(2,1997),r>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function gSe(e,t){var i=!t||t.biff>=8?2:1,n=se(8+i*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(i*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var r=n.slice(0,n.l);return r.l=n.l,r}function PSe(e,t,i,n){var r=i&&5==i.biff;n||(n=se(r?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(r?1:2,t.length),r||n.write_shift(1,1),n.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return null==s.l&&(s.l=s.length),s}function N5(e,t,i,n){var r=i&&5==i.biff;n||(n=se(r?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&r&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),r||n.write_shift(4,0),n.write_shift(2,0),n}function l1e(e){var t=se(24),i=ji(e[0]);t.write_shift(2,i.r),t.write_shift(2,i.r),t.write_shift(2,i.c),t.write_shift(2,i.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)t.write_shift(1,parseInt(n[r],16));return Cn([t,eSe(e[1])])}function d1e(e){var t=e[1].Tooltip,i=se(10+2*(t.length+1));i.write_shift(2,2048);var n=ji(e[0]);i.write_shift(2,n.r),i.write_shift(2,n.r),i.write_shift(2,n.c),i.write_shift(2,n.c);for(var r=0;r<t.length;++r)i.write_shift(2,t.charCodeAt(r));return i.write_shift(2,0),i}var nT=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=m_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(a,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var d=Ch(function i(a,l){var c=[],d=Nl(1);switch(l.type){case"base64":d=as(os(a));break;case"binary":d=as(a);break;case"buffer":case"array":d=a}kn(d,0);var u=d.read_shift(1),h=!!(136&u),f=!1,g=!1;switch(u){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:f=!0,h=!0;break;case 140:g=!0;break;default:throw new Error("DBF Unsupported Version: "+u.toString(16))}var p=0,m=521;2==u&&(p=d.read_shift(2)),d.l+=3,2!=u&&(p=d.read_shift(4)),p>1048576&&(p=1e6),2!=u&&(m=d.read_shift(2));var C=d.read_shift(2),v=l.codepage||1252;2!=u&&(d.l+=16,d.read_shift(1),0!==d[d.l]&&(v=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var _=[],x={},R=Math.min(d.length,2==u?521:m-10-(f?264:0)),M=g?32:11;d.l<R&&13!=d[d.l];)switch(x={},x.name=Lt.utils.decode(v,d.slice(d.l,d.l+M)).replace(/[\u0000\r\n].*$/g,""),d.l+=M,x.type=String.fromCharCode(d.read_shift(1)),2!=u&&!g&&(x.offset=d.read_shift(4)),x.len=d.read_shift(1),2==u&&(x.offset=d.read_shift(2)),x.dec=d.read_shift(1),x.name.length&&_.push(x),2!=u&&(d.l+=g?13:14),x.type){case"B":(!f||8!=x.len)&&l.WTF&&console.log("Skipping "+x.name+":"+x.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+x.name+":"+x.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+x.type)}if(13!==d[d.l]&&(d.l=m-1),13!==d.read_shift(1))throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=m;var S=0,N=0;for(c[0]=[],N=0;N!=_.length;++N)c[0][N]=_[N].name;for(;p-- >0;)if(42!==d[d.l])for(++d.l,c[++S]=[],N=0,N=0;N!=_.length;++N){var B=d.slice(d.l,d.l+_[N].len);d.l+=_[N].len,kn(B,0);var j=Lt.utils.decode(v,B);switch(_[N].type){case"C":j.trim().length&&(c[S][N]=j.replace(/\s+$/,""));break;case"D":c[S][N]=8===j.length?new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):j;break;case"F":c[S][N]=parseFloat(j.trim());break;case"+":case"I":c[S][N]=g?2147483648^B.read_shift(-4,"i"):B.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":c[S][N]=!0;break;case"N":case"F":c[S][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+u.toString(16));c[S][N]="##MEMO##"+(g?parseInt(j.trim(),10):B.read_shift(4));break;case"N":(j=j.replace(/\u0000/g,"").trim())&&"."!=j&&(c[S][N]=+j||0);break;case"@":c[S][N]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":c[S][N]=new Date(864e5*(B.read_shift(4)-2440588)+B.read_shift(4));break;case"Y":c[S][N]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[S][N]=-B.read_shift(-8,"f");break;case"B":if(f&&8==_[N].len){c[S][N]=B.read_shift(8,"f");break}case"G":case"P":B.l+=_[N].len;break;case"0":if("_NullFlags"===_[N].name)break;default:throw new Error("DBF Unsupported data type "+_[N].type)}}else d.l+=C;if(2!=u&&d.l<d.length&&26!=d[d.l++])throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=_,c}(a,c),c);return d["!cols"]=c.DBF.map(function(u){return{wch:u.len,DBF:u}}),delete c.DBF,d}var s={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function r(a,l){try{return Wl(n(a,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function o(a,l){var c=l||{};if(+c.codepage>=0&&Ls(+c.codepage),"string"==c.type)throw new Error("Cannot write DBF to JS string");var d=gr(),u=U_(a,{header:1,raw:!0,cellDates:!0}),h=u[0],f=u.slice(1),g=a["!cols"]||[],p=0,m=0,C=0,v=1;for(p=0;p<h.length;++p)if(((g[p]||{}).DBF||{}).name)h[p]=g[p].DBF.name,++C;else if(null!=h[p]){if(++C,"number"==typeof h[p]&&(h[p]=h[p].toString(10)),"string"!=typeof h[p])throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p)for(m=0;m<1024;++m)if(-1==h.indexOf(h[p]+"_"+m)){h[p]+="_"+m;break}}var _=It(a["!ref"]),x=[],R=[],M=[];for(p=0;p<=_.e.c-_.s.c;++p){var S="",N="",B=0,j=[];for(m=0;m<f.length;++m)null!=f[m][p]&&j.push(f[m][p]);if(0!=j.length&&null!=h[p]){for(m=0;m<j.length;++m){switch(typeof j[m]){case"number":N="B";break;case"string":default:N="C";break;case"boolean":N="L";break;case"object":N=j[m]instanceof Date?"D":"C"}B=Math.max(B,String(j[m]).length),S=S&&S!=N?"C":N}B>250&&(B=250),"C"==(N=((g[p]||{}).DBF||{}).type)&&g[p].DBF.len>B&&(B=g[p].DBF.len),"B"==S&&"N"==N&&(S="N",M[p]=g[p].DBF.dec,B=g[p].DBF.len),R[p]="C"==S||"N"==N?B:s[S]||0,v+=R[p],x[p]=S}else x[p]="?"}var K=d.next(32);for(K.write_shift(4,318902576),K.write_shift(4,f.length),K.write_shift(2,296+32*C),K.write_shift(2,v),p=0;p<4;++p)K.write_shift(4,0);for(K.write_shift(4,0|(+t[ed]||3)<<8),p=0,m=0;p<h.length;++p)if(null!=h[p]){var z=d.next(32),Ce=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,Ce,"sbcs"),z.write_shift(1,"?"==x[p]?"C":x[p],"sbcs"),z.write_shift(4,m),z.write_shift(1,R[p]||s[x[p]]||0),z.write_shift(1,M[p]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),m+=R[p]||s[x[p]]||0}var Oe=d.next(264);for(Oe.write_shift(4,13),p=0;p<65;++p)Oe.write_shift(4,0);for(p=0;p<f.length;++p){var Re=d.next(v);for(Re.write_shift(1,0),m=0;m<h.length;++m)if(null!=h[m])switch(x[m]){case"L":Re.write_shift(1,null==f[p][m]?63:f[p][m]?84:70);break;case"B":Re.write_shift(8,f[p][m]||0,"f");break;case"N":var ae="0";for("number"==typeof f[p][m]&&(ae=f[p][m].toFixed(M[m]||0)),C=0;C<R[m]-ae.length;++C)Re.write_shift(1,32);Re.write_shift(1,ae,"sbcs");break;case"D":f[p][m]?(Re.write_shift(4,("0000"+f[p][m].getFullYear()).slice(-4),"sbcs"),Re.write_shift(2,("00"+(f[p][m].getMonth()+1)).slice(-2),"sbcs"),Re.write_shift(2,("00"+f[p][m].getDate()).slice(-2),"sbcs")):Re.write_shift(8,"00000000","sbcs");break;case"C":var le=String(null!=f[p][m]?f[p][m]:"").slice(0,R[m]);for(Re.write_shift(1,le,"sbcs"),C=0;C<R[m]-le.length;++C)Re.write_shift(1,32)}}return d.next(1).write_shift(1,26),d.end()}}}(),j5=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+Ii(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),i=function(h,f){var g=e[f];return"number"==typeof g?_D(g):g},n=function(h,f,g){var p=f.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return 59==p?h:_D(p)};function s(h,f){var K,g=h.split(/[\n\r]+/),p=-1,m=-1,C=0,v=0,_=[],x=[],R=null,M={},S=[],N=[],B=[],j=0;for(+f.codepage>=0&&Ls(+f.codepage);C!==g.length;++C){j=0;var Re,z=g[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,i),Ce=z.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")});if(z.length>0)switch(Ce[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==Ce[1].charAt(0)&&x.push(z.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,le=!1,Ae=!1,he=!1,He=-1,ue=-1;for(v=1;v<Ce.length;++v)switch(Ce[v].charAt(0)){case"A":case"G":break;case"X":m=parseInt(Ce[v].slice(1))-1,le=!0;break;case"Y":for(p=parseInt(Ce[v].slice(1))-1,le||(m=0),K=_.length;K<=p;++K)_[K]=[];break;case"K":'"'===(Re=Ce[v].slice(1)).charAt(0)?Re=Re.slice(1,Re.length-1):"TRUE"===Re?Re=!0:"FALSE"===Re?Re=!1:isNaN(mo(Re))?isNaN(gh(Re).getDate())||(Re=Di(Re)):(Re=mo(Re),null!==R&&fh(R)&&(Re=SD(Re))),typeof Lt<"u"&&"string"==typeof Re&&"string"!=(f||{}).type&&(f||{}).codepage&&(Re=Lt.utils.decode(f.codepage,Re)),ae=!0;break;case"E":he=!0;var O=xh(Ce[v].slice(1),{r:p,c:m});_[p][m]=[_[p][m],O];break;case"S":Ae=!0,_[p][m]=[_[p][m],"S5S"];break;case"R":He=parseInt(Ce[v].slice(1))-1;break;case"C":ue=parseInt(Ce[v].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+z)}if(ae&&(_[p][m]&&2==_[p][m].length?_[p][m][0]=Re:_[p][m]=Re,R=null),Ae){if(he)throw new Error("SYLK shared formula cannot have own formula");var q=He>-1&&_[He][ue];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");_[p][m][1]=f8(q[1],{r:p-He,c:m-ue})}break;case"F":var V=0;for(v=1;v<Ce.length;++v)switch(Ce[v].charAt(0)){case"X":m=parseInt(Ce[v].slice(1))-1,++V;break;case"Y":for(p=parseInt(Ce[v].slice(1))-1,K=_.length;K<=p;++K)_[K]=[];break;case"M":j=parseInt(Ce[v].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":R=x[parseInt(Ce[v].slice(1))];break;case"W":for(B=Ce[v].slice(1).split(" "),K=parseInt(B[0],10);K<=parseInt(B[1],10);++K)j=parseInt(B[2],10),N[K-1]=0===j?{hidden:!0}:{wch:j},jl(N[K-1]);break;case"C":N[m=parseInt(Ce[v].slice(1))-1]||(N[m]={});break;case"R":S[p=parseInt(Ce[v].slice(1))-1]||(S[p]={}),j>0?(S[p].hpt=j,S[p].hpx=P_(j)):0===j&&(S[p].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+z)}V<1&&(R=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+z)}}return S.length>0&&(M["!rows"]=S),N.length>0&&(M["!cols"]=N),f&&f.sheetRows&&(_=_.slice(0,f.sheetRows)),[_,M]}function o(h,f){var g=function r(h,f){switch(f.type){case"base64":return s(os(h),f);case"binary":return s(h,f);case"buffer":return s(Ct&&Buffer.isBuffer(h)?h.toString("binary"):Bl(h),f);case"array":return s(id(h),f)}throw new Error("Unrecognized type "+f.type)}(h,f),m=g[1],C=Ch(g[0],f);return Ii(m).forEach(function(v){C[v]=m[v]}),C}function l(h,f,g,p){var m="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":m+=h.v||0,h.f&&!h.F&&(m+=";E"+dT(h.f,{r:g,c:p}));break;case"b":m+=h.v?"TRUE":"FALSE";break;case"e":m+=h.w||h.v;break;case"d":m+='"'+(h.w||h.v)+'"';break;case"s":m+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return m}return e["|"]=254,{to_workbook:function a(h,f){return Wl(o(h,f),f)},to_sheet:o,from_sheet:function u(h,f){var C,g=["ID;PWXL;N;E"],p=[],m=It(h["!ref"]),v=Array.isArray(h),_="\r\n";g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&function c(h,f){f.forEach(function(g,p){var m="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?m+="0":("number"==typeof g.width&&!g.wpx&&(g.wpx=Ag(g.width)),"number"==typeof g.wpx&&!g.wch&&(g.wch=Rg(g.wpx)),"number"==typeof g.wch&&(m+=Math.round(g.wch)))," "!=m.charAt(m.length-1)&&h.push(m)})}(g,h["!cols"]),h["!rows"]&&function d(h,f){f.forEach(function(g,p){var m="F;";g.hidden?m+="M0;":g.hpt?m+="M"+20*g.hpt+";":g.hpx&&(m+="M"+20*Fg(g.hpx)+";"),m.length>2&&h.push(m+"R"+(p+1))})}(g,h["!rows"]),g.push("B;Y"+(m.e.r-m.s.r+1)+";X"+(m.e.c-m.s.c+1)+";D"+[m.s.c,m.s.r,m.e.c,m.e.r].join(" "));for(var x=m.s.r;x<=m.e.r;++x)for(var R=m.s.c;R<=m.e.c;++R){var M=Ze({r:x,c:R});(C=v?(h[x]||[])[R]:h[M])&&(null!=C.v||C.f&&!C.F)&&p.push(l(C,0,x,R))}return g.join(_)+_+p.join(_)+_+"E"+_}}}(),$5=function(){function t(s,o){for(var a=s.split("\n"),l=-1,c=-1,d=0,u=[];d!==a.length;++d)if("BOT"!==a[d].trim()){if(!(l<0)){for(var h=a[d].trim().split(","),f=h[0],g=h[1],p=a[++d]||"";1&(p.match(/["]/g)||[]).length&&d<a.length-1;)p+="\n"+a[++d];switch(p=p.trim(),+f){case-1:if("BOT"===p){u[++l]=[],c=0;continue}if("EOD"!==p)throw new Error("Unrecognized DIF special command "+p);break;case 0:u[l][c]="TRUE"===p||"FALSE"!==p&&(isNaN(mo(g))?isNaN(gh(g).getDate())?g:Di(g):mo(g)),++c;break;case 1:(p=(p=p.slice(1,p.length-1)).replace(/""/g,'"'))&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),u[l][c++]=""!==p?p:null}if("EOD"===p)break}}else u[++l]=[],c=0;return o&&o.sheetRows&&(u=u.slice(0,o.sheetRows)),u}function i(s,o){return Ch(function e(s,o){switch(o.type){case"base64":return t(os(s),o);case"binary":return t(s,o);case"buffer":return t(Ct&&Buffer.isBuffer(s)?s.toString("binary"):Bl(s),o);case"array":return t(id(s),o)}throw new Error("Unrecognized type "+o.type)}(s,o),o)}return{to_workbook:function n(s,o){return Wl(i(s,o),o)},to_sheet:i,from_sheet:function(){var s=function(l,c,d,u,h){l.push(c),l.push(d+","+u),l.push('"'+h.replace(/"/g,'""')+'"')},o=function(l,c,d,u){l.push(c+","+d),l.push(1==c?'"'+u.replace(/"/g,'""')+'"':u)};return function(l){var u,c=[],d=It(l["!ref"]),h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,d.e.r-d.s.r+1,""),s(c,"TUPLES",0,d.e.c-d.s.c+1,""),s(c,"DATA",0,0,"");for(var f=d.s.r;f<=d.e.r;++f){o(c,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var p=Ze({r:f,c:g});if(u=h?(l[f]||[])[g]:l[p])switch(u.t){case"n":var m=u.w;!m&&null!=u.v&&(m=u.v),null==m?o(c,1,0,u.f&&!u.F?"="+u.f:""):o(c,0,m,"V");break;case"b":o(c,0,u.v?1:0,u.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(u.v)?u.v:'="'+u.v+'"');break;case"d":u.w||(u.w=ls(u.z||Ke[14],_n(Di(u.v)))),o(c,0,u.w,"V");break;default:o(c,1,0,"")}else o(c,1,0,"")}}return o(c,-1,0,"EOD"),c.join("\r\n")}}()}}(),K5=function(){function e(u){return u.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(u){return u.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(u,h){return Ch(function i(u,h){for(var f=u.split("\n"),g=-1,p=-1,m=0,C=[];m!==f.length;++m){var v=f[m].trim().split(":");if("cell"===v[0]){var _=ji(v[1]);if(C.length<=_.r)for(g=C.length;g<=_.r;++g)C[g]||(C[g]=[]);switch(g=_.r,p=_.c,v[2]){case"t":C[g][p]=e(v[3]);break;case"v":C[g][p]=+v[3];break;case"vtf":var x=v[v.length-1];case"vtc":C[g][p]="nl"===v[3]?!!+v[4]:+v[4],"vtf"==v[2]&&(C[g][p]=[C[g][p],x])}}}return h&&h.sheetRows&&(C=C.slice(0,h.sheetRows)),C}(u,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),l="--SocialCalcSpreadsheetControlSave--";function c(u){if(!u||!u["!ref"])return"";for(var g,h=[],f=[],p="",m=mr(u["!ref"]),C=Array.isArray(u),v=m.s.r;v<=m.e.r;++v)for(var _=m.s.c;_<=m.e.c;++_)if(p=Ze({r:v,c:_}),(g=C?(u[v]||[])[_]:u[p])&&null!=g.v&&"z"!==g.t){switch(f=["cell",p,"t"],g.t){case"s":case"str":f.push(t(g.v));break;case"n":g.f?(f[2]="vtf",f[3]="n",f[4]=g.v,f[5]=t(g.f)):(f[2]="v",f[3]=g.v);break;case"b":f[2]="vt"+(g.f?"f":"c"),f[3]="nl",f[4]=g.v?"1":"0",f[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var x=_n(Di(g.v));f[2]="vtc",f[3]="nd",f[4]=""+x,f[5]=g.w||ls(g.z||Ke[14],x);break;case"e":continue}h.push(f.join(":"))}return h.push("sheet:c:"+(m.e.c-m.s.c+1)+":r:"+(m.e.r-m.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join("\n")}return{to_workbook:function r(u,h){return Wl(n(u,h),h)},to_sheet:n,from_sheet:function d(u){return[s,o,a,o,c(u),l].join("\n")}}}(),wh=function(){function e(d,u,h,f,g){g.raw?u[h][f]=d:""===d||(u[h][f]="TRUE"===d||"FALSE"!==d&&(isNaN(mo(d))?isNaN(gh(d).getDate())?d:Di(d):mo(d)))}var i={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(d){for(var u={},h=!1,f=0,g=0;f<d.length;++f)34==(g=d.charCodeAt(f))?h=!h:!h&&g in i&&(u[g]=(u[g]||0)+1);for(f in g=[],u)Object.prototype.hasOwnProperty.call(u,f)&&g.push([u[f],f]);if(!g.length)for(f in u=n)Object.prototype.hasOwnProperty.call(u,f)&&g.push([u[f],f]);return g.sort(function(p,m){return p[0]-m[0]||n[p[1]]-n[m[1]]}),i[g.pop()[1]]||44}function o(d,u){return!u||!u.PRN||u.FS||"sep="==d.slice(0,4)||d.indexOf("\t")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?function s(d,u){var h=u||{},f="";null!=ki&&null==h.dense&&(h.dense=ki);var g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};"sep="==d.slice(0,4)?13==d.charCodeAt(5)&&10==d.charCodeAt(6)?(f=d.charAt(4),d=d.slice(7)):13==d.charCodeAt(5)||10==d.charCodeAt(5)?(f=d.charAt(4),d=d.slice(6)):f=r(d.slice(0,1024)):f=h&&h.FS?h.FS:r(d.slice(0,1024));var m=0,C=0,v=0,_=0,x=0,R=f.charCodeAt(0),M=!1,S=0,N=d.charCodeAt(0);d=d.replace(/\r\n/gm,"\n");var B=null!=h.dateNF?function mbe(e){var t="number"==typeof e?Ke[e]:e;return t=t.replace(fG,"(\\d+)"),new RegExp("^"+t+"$")}(h.dateNF):null;function j(){var K=d.slice(_,x),z={};if('"'==K.charAt(0)&&'"'==K.charAt(K.length-1)&&(K=K.slice(1,-1).replace(/""/g,'"')),0===K.length)z.t="z";else if(h.raw)z.t="s",z.v=K;else if(0===K.trim().length)z.t="s",z.v=K;else if(61==K.charCodeAt(0))34==K.charCodeAt(1)&&34==K.charCodeAt(K.length-1)?(z.t="s",z.v=K.slice(2,-1).replace(/""/g,'"')):function HDe(e){return 1!=e.length}(K)?(z.t="n",z.f=K.slice(1)):(z.t="s",z.v=K);else if("TRUE"==K)z.t="b",z.v=!0;else if("FALSE"==K)z.t="b",z.v=!1;else if(isNaN(v=mo(K)))if(!isNaN(gh(K).getDate())||B&&K.match(B)){z.z=h.dateNF||Ke[14];var Ce=0;B&&K.match(B)&&(K=function vbe(e,t,i){var n=-1,r=-1,s=-1,o=-1,a=-1,l=-1;(t.match(fG)||[]).forEach(function(u,h){var f=parseInt(i[h+1],10);switch(u.toLowerCase().charAt(0)){case"y":n=f;break;case"d":s=f;break;case"h":o=f;break;case"s":l=f;break;case"m":o>=0?a=f:r=f}}),l>=0&&-1==a&&r>=0&&(a=r,r=-1);var c=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==o&&-1==a&&-1==l?c:-1==n&&-1==r&&-1==s?d:c+"T"+d}(0,h.dateNF,K.match(B)||[]),Ce=1),h.cellDates?(z.t="d",z.v=Di(K,Ce)):(z.t="n",z.v=_n(Di(K,Ce))),!1!==h.cellText&&(z.w=ls(z.z,z.v instanceof Date?_n(z.v):z.v)),h.cellNF||delete z.z}else z.t="s",z.v=K;else z.t="n",!1!==h.cellText&&(z.w=K),z.v=v;if("z"==z.t||(h.dense?(g[m]||(g[m]=[]),g[m][C]=z):g[Ze({c:C,r:m})]=z),N=d.charCodeAt(_=x+1),p.e.c<C&&(p.e.c=C),p.e.r<m&&(p.e.r=m),S==R)++C;else if(C=0,++m,h.sheetRows&&h.sheetRows<=m)return!0}e:for(;x<d.length;++x)switch(S=d.charCodeAt(x)){case 34:34===N&&(M=!M);break;case R:case 10:case 13:if(!M&&j())break e}return x-_>0&&j(),g["!ref"]=ut(p),g}(d,u):Ch(function t(d,u){var h=u||{},f=[];if(!d||0===d.length)return f;for(var g=d.split(/[\r\n]/),p=g.length-1;p>=0&&0===g[p].length;)--p;for(var m=10,C=0,v=0;v<=p;++v)-1==(C=g[v].indexOf(" "))?C=g[v].length:C++,m=Math.max(m,C);for(v=0;v<=p;++v){f[v]=[];var _=0;for(e(g[v].slice(0,m).trim(),f,v,_,h),_=1;_<=(g[v].length-m)/10+1;++_)e(g[v].slice(m+10*(_-1),m+10*_).trim(),f,v,_,h)}return h.sheetRows&&(f=f.slice(0,h.sheetRows)),f}(d,u),u)}function a(d,u){var h="",f="string"==u.type?[0,0,0,0]:function TT(e,t){var i="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":i=os(e.slice(0,12));break;case"binary":i=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3),i.charCodeAt(4),i.charCodeAt(5),i.charCodeAt(6),i.charCodeAt(7)]}(d,u);switch(u.type){case"base64":h=os(d);break;case"binary":case"string":h=d;break;case"buffer":h=65001==u.codepage?d.toString("utf8"):u.codepage&&typeof Lt<"u"?Lt.utils.decode(u.codepage,d):Ct&&Buffer.isBuffer(d)?d.toString("binary"):Bl(d);break;case"array":h=id(d);break;default:throw new Error("Unrecognized type "+u.type)}return 239==f[0]&&187==f[1]&&191==f[2]?h=Ci(h.slice(3)):"string"!=u.type&&"buffer"!=u.type&&65001==u.codepage?h=Ci(h):"binary"==u.type&&typeof Lt<"u"&&u.codepage&&(h=Lt.utils.decode(u.codepage,Lt.utils.encode(28591,h))),"socialcalc:version:"==h.slice(0,19)?K5.to_sheet("string"==u.type?h:Ci(h),u):o(h,u)}return{to_workbook:function l(d,u){return Wl(a(d,u),u)},to_sheet:a,from_sheet:function c(d){for(var f,u=[],h=It(d["!ref"]),g=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var m=[],C=h.s.c;C<=h.e.c;++C){var v=Ze({r:p,c:C});if((f=g?(d[p]||[])[C]:d[v])&&null!=f.v){for(var _=(f.w||(ta(f),f.w)||"").slice(0,10);_.length<10;)_+=" ";m.push(_+(0===C?" ":""))}else m.push("          ")}u.push(m.join(""))}return u.join("\n")}}}(),pd=function(){function e(O,q,V){if(O){kn(O,O.l||0);for(var G=V.Enum||He;O.l<O.length;){var oe=O.read_shift(2),Ee=G[oe]||G[65535],be=O.read_shift(2),we=O.l+be,fe=Ee.f&&Ee.f(O,be,V);if(O.l=we,q(fe,Ee,oe))return}}}function i(O,q){if(!O)return O;var V=q||{};null!=ki&&null==V.dense&&(V.dense=ki);var G=V.dense?[]:{},oe="Sheet1",Ee="",be=0,we={},fe=[],Qe=[],H={s:{r:0,c:0},e:{r:0,c:0}},Gt=V.sheetRows||0;if(0==O[2]&&(8==O[3]||9==O[3])&&O.length>=16&&5==O[14]&&108===O[15])throw new Error("Unsupported Works 3 for Mac file");if(2==O[2])V.Enum=He,e(O,function(Be,Ti,Or){switch(Or){case 0:V.vers=Be,Be>=4096&&(V.qpro=!0);break;case 6:H=Be;break;case 204:Be&&(Ee=Be);break;case 222:Ee=Be;break;case 15:case 51:V.qpro||(Be[1].v=Be[1].v.slice(1));case 13:case 14:case 16:14==Or&&112==(112&Be[2])&&(15&Be[2])>1&&(15&Be[2])<15&&(Be[1].z=V.dateNF||Ke[14],V.cellDates&&(Be[1].t="d",Be[1].v=SD(Be[1].v))),V.qpro&&Be[3]>be&&(G["!ref"]=ut(H),we[oe]=G,fe.push(oe),G=V.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},be=Be[3],oe=Ee||"Sheet"+(be+1),Ee="");var Sn=V.dense?(G[Be[0].r]||[])[Be[0].c]:G[Ze(Be[0])];if(Sn){Sn.t=Be[1].t,Sn.v=Be[1].v,null!=Be[1].z&&(Sn.z=Be[1].z),null!=Be[1].f&&(Sn.f=Be[1].f);break}V.dense?(G[Be[0].r]||(G[Be[0].r]=[]),G[Be[0].r][Be[0].c]=Be[1]):G[Ze(Be[0])]=Be[1]}},V);else{if(26!=O[2]&&14!=O[2])throw new Error("Unrecognized LOTUS BOF "+O[2]);V.Enum=ue,14==O[2]&&(V.qpro=!0,O.l=0),e(O,function(Be,Ti,Or){switch(Or){case 204:oe=Be;break;case 22:Be[1].v=Be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Be[3]>be&&(G["!ref"]=ut(H),we[oe]=G,fe.push(oe),G=V.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},oe="Sheet"+((be=Be[3])+1)),Gt>0&&Be[0].r>=Gt)break;V.dense?(G[Be[0].r]||(G[Be[0].r]=[]),G[Be[0].r][Be[0].c]=Be[1]):G[Ze(Be[0])]=Be[1],H.e.c<Be[0].c&&(H.e.c=Be[0].c),H.e.r<Be[0].r&&(H.e.r=Be[0].r);break;case 27:Be[14e3]&&(Qe[Be[14e3][0]]=Be[14e3][1]);break;case 1537:Qe[Be[0]]=Be[1],Be[0]==be&&(oe=Be[1])}},V)}if(G["!ref"]=ut(H),we[Ee||oe]=G,fe.push(Ee||oe),!Qe.length)return{SheetNames:fe,Sheets:we};for(var _t={},Yt=[],mt=0;mt<Qe.length;++mt)we[fe[mt]]?(Yt.push(Qe[mt]||fe[mt]),_t[Qe[mt]]=we[Qe[mt]]||we[fe[mt]]):(Yt.push(Qe[mt]),_t[Qe[mt]]={"!ref":"A1"});return{SheetNames:Yt,Sheets:_t}}function c(O,q,V){var G=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&20768!=V.vers?(G[0].c=O.read_shift(1),G[3]=O.read_shift(1),G[0].r=O.read_shift(2),O.l+=2):(G[2]=O.read_shift(1),G[0].c=O.read_shift(2),G[0].r=O.read_shift(2)),G}function d(O,q,V){var G=O.l+q,oe=c(O,0,V);if(oe[1].t="s",20768==V.vers){O.l++;var Ee=O.read_shift(1);return oe[1].v=O.read_shift(Ee,"utf8"),oe}return V.qpro&&O.l++,oe[1].v=O.read_shift(G-O.l,"cstr"),oe}function u(O,q,V){var G=se(7+V.length);G.write_shift(1,255),G.write_shift(2,q),G.write_shift(2,O),G.write_shift(1,39);for(var oe=0;oe<G.length;++oe){var Ee=V.charCodeAt(oe);G.write_shift(1,Ee>=128?95:Ee)}return G.write_shift(1,0),G}function f(O,q,V){var G=se(7);return G.write_shift(1,255),G.write_shift(2,q),G.write_shift(2,O),G.write_shift(2,V,"i"),G}function p(O,q,V){var G=se(13);return G.write_shift(1,255),G.write_shift(2,q),G.write_shift(2,O),G.write_shift(8,V,"f"),G}function C(O,q,V){var G=32768&q;return q=(G?O:0)+((q&=-32769)>=8192?q-16384:q),(G?"":"$")+(V?_i(q):Li(q))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(O){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=O.read_shift(2),q[3]=O[O.l++],q[0].c=O[O.l++],q}function S(O,q,V,G){var oe=se(6+G.length);oe.write_shift(2,O),oe.write_shift(1,V),oe.write_shift(1,q),oe.write_shift(1,39);for(var Ee=0;Ee<G.length;++Ee){var be=G.charCodeAt(Ee);oe.write_shift(1,be>=128?95:be)}return oe.write_shift(1,0),oe}function B(O,q){var V=R(O),G=O.read_shift(4),oe=O.read_shift(4),Ee=O.read_shift(2);if(65535==Ee)return 0===G&&3221225472===oe?(V[1].t="e",V[1].v=15):0===G&&3489660928===oe?(V[1].t="e",V[1].v=42):V[1].v=0,V;var be=32768&Ee;return Ee=(32767&Ee)-16446,V[1].v=(1-2*be)*(oe*Math.pow(2,Ee+32)+G*Math.pow(2,Ee)),V}function j(O,q,V,G){var oe=se(14);if(oe.write_shift(2,O),oe.write_shift(1,V),oe.write_shift(1,q),0==G)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var Ee=0,be=0,fe=0;return G<0&&(Ee=1,G=-G),be=0|Math.log2(G),2147483648&(fe=(G/=Math.pow(2,be-31))>>>0)||(++be,fe=(G/=2)>>>0),G-=fe,fe|=2147483648,fe>>>=0,G*=Math.pow(2,32),oe.write_shift(4,G>>>0),oe.write_shift(4,fe),oe.write_shift(2,be+=16383+(Ee?32768:0)),oe}function Ce(O,q){var V=R(O),G=O.read_shift(8,"f");return V[1].v=G,V}function Re(O,q){return 0==O[O.l+q-1]?O.read_shift(q,"cstr"):""}function he(O,q){var V=se(5+O.length);V.write_shift(2,14e3),V.write_shift(2,q);for(var G=0;G<O.length;++G){var oe=O.charCodeAt(G);V[V.l++]=oe>127?95:oe}return V[V.l++]=0,V}var He={0:{n:"BOF",f:tn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function a(O,q,V){var G={s:{c:0,r:0},e:{c:0,r:0}};return 8==q&&V.qpro?(G.s.c=O.read_shift(1),O.l++,G.s.r=O.read_shift(2),G.e.c=O.read_shift(1),O.l++,G.e.r=O.read_shift(2),G):(G.s.c=O.read_shift(2),G.s.r=O.read_shift(2),12==q&&V.qpro&&(O.l+=2),G.e.c=O.read_shift(2),G.e.r=O.read_shift(2),12==q&&V.qpro&&(O.l+=2),65535==G.s.c&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function h(O,q,V){var G=c(O,0,V);return G[1].v=O.read_shift(2,"i"),G}},14:{n:"NUMBER",f:function g(O,q,V){var G=c(O,0,V);return G[1].v=O.read_shift(8,"f"),G}},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:function m(O,q,V){var G=O.l+q,oe=c(O,0,V);if(oe[1].v=O.read_shift(8,"f"),V.qpro)O.l=G;else{var Ee=O.read_shift(2);(function x(O,q){kn(O,0);for(var V=[],G=0,oe="",Ee="",be="",we="";O.l<O.length;){var fe=O[O.l++];switch(fe){case 0:V.push(O.read_shift(8,"f"));break;case 1:Ee=C(q[0].c,O.read_shift(2),!0),oe=C(q[0].r,O.read_shift(2),!1),V.push(Ee+oe);break;case 2:var Qe=C(q[0].c,O.read_shift(2),!0),H=C(q[0].r,O.read_shift(2),!1);Ee=C(q[0].c,O.read_shift(2),!0),oe=C(q[0].r,O.read_shift(2),!1),V.push(Qe+H+":"+Ee+oe);break;case 3:if(O.l<O.length)return void console.error("WK1 premature formula end");break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(O.read_shift(2));break;case 6:for(var Gt="";fe=O[O.l++];)Gt+=String.fromCharCode(fe);V.push('"'+Gt.replace(/"/g,'""')+'"');break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:we=V.pop(),be=V.pop(),V.push(["AND","OR"][fe-20]+"("+be+","+we+")");break;default:if(fe<32&&_[fe])we=V.pop(),be=V.pop(),V.push(be+_[fe]+we);else{if(!v[fe])return fe<=7?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=24?console.error("WK1 unsupported op "+fe.toString(16)):fe<=30?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=115?console.error("WK1 unsupported function opcode "+fe.toString(16)):console.error("WK1 unrecognized opcode "+fe.toString(16));if(69==(G=v[fe][1])&&(G=O[O.l++]),G>V.length)return void console.error("WK1 bad formula parse 0x"+fe.toString(16)+":|"+V.join("|")+"|");var _t=V.slice(-G);V.length-=G,V.push(v[fe][0]+"("+_t.join(",")+")")}}}1==V.length?q[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")})(O.slice(O.l,O.l+Ee),oe),O.l+=Ee}return oe}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Re},222:{n:"SHEETNAMELP",f:function ae(O,q){var V=O[O.l++];V>q-1&&(V=q-1);for(var G="";G.length<V;)G+=String.fromCharCode(O[O.l++]);return G}},65535:{n:""}},ue={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function M(O,q){var V=R(O);return V[1].t="s",V[1].v=O.read_shift(q-4,"cstr"),V}},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:function N(O,q){var V=R(O);V[1].v=O.read_shift(2);var G=V[1].v>>1;if(1&V[1].v)switch(7&G){case 0:G=5e3*(G>>3);break;case 1:G=500*(G>>3);break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64}return V[1].v=G,V}},25:{n:"FORMULA19",f:function K(O,q){var V=B(O);return O.l+=q-14,V}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function Ae(O,q){for(var V={},G=O.l+q;O.l<G;){var oe=O.read_shift(2);if(14e3==oe){for(V[oe]=[0,""],V[oe][0]=O.read_shift(2);O[O.l];)V[oe][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return V}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function z(O,q){var V=R(O),G=O.read_shift(4);return V[1].v=G>>6,V}},38:{n:"??"},39:{n:"NUMBER27",f:Ce},40:{n:"FORMULA28",f:function Oe(O,q){var V=Ce(O);return O.l+=q-10,V}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Re},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function le(O,q,V){if(V.qpro&&!(q<21)){var G=O.read_shift(1);return O.l+=17,O.l+=1,O.l+=2,[G,O.read_shift(q-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function n(O,q){var V=q||{};if(+V.codepage>=0&&Ls(+V.codepage),"string"==V.type)throw new Error("Cannot write WK1 to JS string");var G=gr(),oe=It(O["!ref"]),Ee=Array.isArray(O),be=[];ke(G,0,function s(O){var q=se(2);return q.write_shift(2,O),q}(1030)),ke(G,6,function l(O){var q=se(8);return q.write_shift(2,O.s.c),q.write_shift(2,O.s.r),q.write_shift(2,O.e.c),q.write_shift(2,O.e.r),q}(oe));for(var we=Math.min(oe.e.r,8191),fe=oe.s.r;fe<=we;++fe)for(var Qe=Li(fe),H=oe.s.c;H<=oe.e.c;++H){fe===oe.s.r&&(be[H]=_i(H));var _t=Ee?(O[fe]||[])[H]:O[be[H]+Qe];_t&&"z"!=_t.t&&("n"==_t.t?(0|_t.v)==_t.v&&_t.v>=-32768&&_t.v<=32767?ke(G,13,f(fe,H,_t.v)):ke(G,14,p(fe,H,_t.v)):ke(G,15,u(fe,H,ta(_t).slice(0,239))))}return ke(G,1),G.end()},book_to_wk3:function r(O,q){var V=q||{};if(+V.codepage>=0&&Ls(+V.codepage),"string"==V.type)throw new Error("Cannot write WK3 to JS string");var G=gr();ke(G,0,function o(O){var q=se(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var V=0,G=0,oe=0,Ee=0;Ee<O.SheetNames.length;++Ee){var we=O.Sheets[O.SheetNames[Ee]];if(we&&we["!ref"]){++oe;var fe=mr(we["!ref"]);V<fe.e.r&&(V=fe.e.r),G<fe.e.c&&(G=fe.e.c)}}return V>8191&&(V=8191),q.write_shift(2,V),q.write_shift(1,oe),q.write_shift(1,G),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}(O));for(var oe=0,Ee=0;oe<O.SheetNames.length;++oe)(O.Sheets[O.SheetNames[oe]]||{})["!ref"]&&ke(G,27,he(O.SheetNames[oe],Ee++));var be=0;for(oe=0;oe<O.SheetNames.length;++oe){var we=O.Sheets[O.SheetNames[oe]];if(we&&we["!ref"]){for(var fe=It(we["!ref"]),Qe=Array.isArray(we),H=[],Gt=Math.min(fe.e.r,8191),_t=fe.s.r;_t<=Gt;++_t)for(var Yt=Li(_t),mt=fe.s.c;mt<=fe.e.c;++mt){_t===fe.s.r&&(H[mt]=_i(mt));var Ti=Qe?(we[_t]||[])[mt]:we[H[mt]+Yt];Ti&&"z"!=Ti.t&&("n"==Ti.t?ke(G,23,j(_t,mt,be,Ti.v)):ke(G,22,S(_t,mt,be,ta(Ti).slice(0,239))))}++be}}return ke(G,1),G.end()},to_workbook:function t(O,q){switch(q.type){case"base64":return i(as(os(O)),q);case"binary":return i(as(O),q);case"buffer":case"array":return i(O,q)}throw"Unsupported type "+q.type}}}(),W1e=/^\s|\s$|[\t\n\r]/;function Y5(e,t){if(!t.bookSST)return"";var i=[Oi];i[i.length]=Fe("sst",null,{xmlns:zl[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var r=e[n],s="<si>";r.r?s+=r.r:(s+="<t",r.t||(r.t=""),r.t.match(W1e)&&(s+=' xml:space="preserve"'),s+=">"+ri(r.t)+"</t>"),i[i.length]=s+="</si>"}return i.length>2&&(i[i.length]="</sst>",i[1]=i[1].replace("/>",">")),i.join("")}var K1e=function nxe(e,t){var i=!1;return null==t&&(i=!0,t=se(15+4*e.t.length)),t.write_shift(1,0),wn(e.t,t),i?t.slice(0,t.l):t};function q1e(e){var t=gr();ve(t,159,function $1e(e,t){return t||(t=se(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var i=0;i<e.length;++i)ve(t,19,K1e(e[i]));return ve(t,160),t.end()}function rT(e){var i,s,t=0,n=function X5(e){if(typeof Lt<"u")return Lt.utils.encode(ed,e);for(var t=[],i=e.split(""),n=0;n<i.length;++n)t[n]=i[n].charCodeAt(0);return t}(e),r=n.length+1;for((i=Nl(r))[0]=n.length,s=1;s!=r;++s)i[s]=n[s-1];for(s=r-1;s>=0;--s)t=((16384&t?1:0)|t<<1&32767)^i[s];return 52811^t}var e8=function(){function e(r,s){switch(s.type){case"base64":return t(os(r),s);case"binary":return t(r,s);case"buffer":return t(Ct&&Buffer.isBuffer(r)?r.toString("binary"):Bl(r),s);case"array":return t(id(r),s)}throw new Error("Unrecognized type "+s.type)}function t(r,s){var a=(s||{}).dense?[]:{},l=r.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,u){Array.isArray(a)&&(a[u]=[]);for(var g,h=/\\\w+\b/g,f=0,p=-1;g=h.exec(d);){if("\\cell"===g[0]){var m=d.slice(f,h.lastIndex-g[0].length);if(" "==m[0]&&(m=m.slice(1)),++p,m.length){var C={v:m,t:"s"};Array.isArray(a)?a[u][p]=C:a[Ze({r:u,c:p})]=C}}f=h.lastIndex}p>c.e.c&&(c.e.c=p)}),a["!ref"]=ut(c),a}return{to_workbook:function i(r,s){return Wl(e(r,s),s)},to_sheet:e,from_sheet:function n(r){for(var a,s=["{\\rtf1\\ansi"],o=It(r["!ref"]),l=Array.isArray(r),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var u=Ze({r:c,c:d});(a=l?(r[c]||[])[d]:r[u])&&(null!=a.v||a.f&&!a.F)&&(s.push(" "+(a.w||(ta(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}}}();function Tg(e){for(var t=0,i=1;3!=t;++t)i=256*i+(e[t]>255?255:e[t]<0?0:e[t]);return i.toString(16).toUpperCase().slice(1)}var Yn=6;function Ag(e){return Math.floor((e+Math.round(128/Yn)/256)*Yn)}function Rg(e){return Math.floor((e-5)/Yn*100+.5)/100}function I_(e){return Math.round((e*Yn+5)/Yn*256)/256}function jl(e){e.width?(e.wpx=Ag(e.width),e.wch=Rg(e.wpx),e.MDW=Yn):e.wpx?(e.wch=Rg(e.wpx),e.width=I_(e.wch),e.MDW=Yn):"number"==typeof e.wch&&(e.width=I_(e.wch),e.wpx=Ag(e.width),e.MDW=Yn),e.customWidth&&delete e.customWidth}var n8=96;function Fg(e){return 96*e/n8}function P_(e){return e*n8/96}function r8(e,t){var n,i=[Oi,Fe("styleSheet",null,{xmlns:zl[0],"xmlns:vt":en.vt})];return e.SSF&&null!=(n=function _Ee(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var n=i[0];n<=i[1];++n)null!=e[n]&&(t[t.length]=Fe("numFmt",null,{numFmtId:n,formatCode:ri(e[n])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Fe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(i[i.length]=n),i[i.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',i[i.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',i[i.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',i[i.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function yEe(e){var t=[];return t[t.length]=Fe("cellXfs",null),e.forEach(function(i){t[t.length]=Fe("xf",null,i)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Fe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(i[i.length]=n),i[i.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',i[i.length]='<dxfs count="0"/>',i[i.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',i.length>2&&(i[i.length]="</styleSheet>",i[1]=i[1].replace("/>",">")),i.join("")}function xEe(e,t,i){i||(i=se(6+4*t.length)),i.write_shift(2,e),wn(t,i);var n=i.length>i.l?i.slice(0,i.l):i;return null==i.l&&(i.l=i.length),n}var aT,DEe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],TEe=jn;function s8(e,t){t||(t=se(84)),aT||(aT=m_(DEe));var i=aT[e.patternType];null==i&&(i=40),t.write_shift(4,i);var n=0;if(40!=i)for(x_({auto:1},t),x_({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function o8(e,t,i){return i||(i=se(16)),i.write_shift(2,t||0),i.write_shift(2,e.numFmtId||0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(1,0),i}function Mg(e,t){return t||(t=se(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var REe=jn;function WEe(e,t){var i=gr();return ve(i,278),function PEe(e,t){if(t){var i=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&++i}),0!=i&&(ve(e,615,vo(i)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&ve(e,44,xEe(r,t[r]))}),ve(e,616))}}(i,e.SSF),function OEe(e){ve(e,611,vo(1)),ve(e,43,function EEe(e,t){t||(t=se(153)),t.write_shift(2,20*e.sz),function uxe(e,t){t||(t=se(2)),t.write_shift(1,(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0)),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var i=0;"superscript"==e.vertAlign?i=1:"subscript"==e.vertAlign&&(i=2),t.write_shift(2,i),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),x_(e.color,t);var n=0;return"major"==e.scheme&&(n=1),"minor"==e.scheme&&(n=2),t.write_shift(1,n),wn(e.name,t),t.length>t.l?t.slice(0,t.l):t}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),ve(e,612)}(i),function LEe(e){ve(e,603,vo(2)),ve(e,45,s8({patternType:"none"})),ve(e,45,s8({patternType:"gray125"})),ve(e,604)}(i),function NEe(e){ve(e,613,vo(1)),ve(e,46,function FEe(e,t){return t||(t=se(51)),t.write_shift(1,0),Mg(0,t),Mg(0,t),Mg(0,t),Mg(0,t),Mg(0,t),t.length>t.l?t.slice(0,t.l):t}()),ve(e,614)}(i),function BEe(e){ve(e,626,vo(1)),ve(e,47,o8({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),ve(e,627)}(i),function VEe(e,t){ve(e,617,vo(t.length)),t.forEach(function(i){ve(e,47,o8(i,0))}),ve(e,618)}(i,t.cellXfs),function HEe(e){ve(e,619,vo(1)),ve(e,48,function MEe(e,t){return t||(t=se(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),b_(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}({xfId:0,builtinId:0,name:"Normal"})),ve(e,620)}(i),function GEe(e){ve(e,505,vo(0)),ve(e,506)}(i),function zEe(e){ve(e,508,function kEe(e,t,i){var n=se(2052);return n.write_shift(4,e),b_(t,n),b_(i,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),ve(e,509)}(i),ve(i,279),i.end()}function lT(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var i=[Oi];return i[i.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',i[i.length]="<a:themeElements>",i[i.length]='<a:clrScheme name="Office">',i[i.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',i[i.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',i[i.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',i[i.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',i[i.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',i[i.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',i[i.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',i[i.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',i[i.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',i[i.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',i[i.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',i[i.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',i[i.length]="</a:clrScheme>",i[i.length]='<a:fontScheme name="Office">',i[i.length]="<a:majorFont>",i[i.length]='<a:latin typeface="Cambria"/>',i[i.length]='<a:ea typeface=""/>',i[i.length]='<a:cs typeface=""/>',i[i.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',i[i.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',i[i.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',i[i.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',i[i.length]='<a:font script="Arab" typeface="Times New Roman"/>',i[i.length]='<a:font script="Hebr" typeface="Times New Roman"/>',i[i.length]='<a:font script="Thai" typeface="Tahoma"/>',i[i.length]='<a:font script="Ethi" typeface="Nyala"/>',i[i.length]='<a:font script="Beng" typeface="Vrinda"/>',i[i.length]='<a:font script="Gujr" typeface="Shruti"/>',i[i.length]='<a:font script="Khmr" typeface="MoolBoran"/>',i[i.length]='<a:font script="Knda" typeface="Tunga"/>',i[i.length]='<a:font script="Guru" typeface="Raavi"/>',i[i.length]='<a:font script="Cans" typeface="Euphemia"/>',i[i.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',i[i.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',i[i.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',i[i.length]='<a:font script="Thaa" typeface="MV Boli"/>',i[i.length]='<a:font script="Deva" typeface="Mangal"/>',i[i.length]='<a:font script="Telu" typeface="Gautami"/>',i[i.length]='<a:font script="Taml" typeface="Latha"/>',i[i.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',i[i.length]='<a:font script="Orya" typeface="Kalinga"/>',i[i.length]='<a:font script="Mlym" typeface="Kartika"/>',i[i.length]='<a:font script="Laoo" typeface="DokChampa"/>',i[i.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',i[i.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',i[i.length]='<a:font script="Viet" typeface="Times New Roman"/>',i[i.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',i[i.length]='<a:font script="Geor" typeface="Sylfaen"/>',i[i.length]="</a:majorFont>",i[i.length]="<a:minorFont>",i[i.length]='<a:latin typeface="Calibri"/>',i[i.length]='<a:ea typeface=""/>',i[i.length]='<a:cs typeface=""/>',i[i.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',i[i.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',i[i.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',i[i.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',i[i.length]='<a:font script="Arab" typeface="Arial"/>',i[i.length]='<a:font script="Hebr" typeface="Arial"/>',i[i.length]='<a:font script="Thai" typeface="Tahoma"/>',i[i.length]='<a:font script="Ethi" typeface="Nyala"/>',i[i.length]='<a:font script="Beng" typeface="Vrinda"/>',i[i.length]='<a:font script="Gujr" typeface="Shruti"/>',i[i.length]='<a:font script="Khmr" typeface="DaunPenh"/>',i[i.length]='<a:font script="Knda" typeface="Tunga"/>',i[i.length]='<a:font script="Guru" typeface="Raavi"/>',i[i.length]='<a:font script="Cans" typeface="Euphemia"/>',i[i.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',i[i.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',i[i.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',i[i.length]='<a:font script="Thaa" typeface="MV Boli"/>',i[i.length]='<a:font script="Deva" typeface="Mangal"/>',i[i.length]='<a:font script="Telu" typeface="Gautami"/>',i[i.length]='<a:font script="Taml" typeface="Latha"/>',i[i.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',i[i.length]='<a:font script="Orya" typeface="Kalinga"/>',i[i.length]='<a:font script="Mlym" typeface="Kartika"/>',i[i.length]='<a:font script="Laoo" typeface="DokChampa"/>',i[i.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',i[i.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',i[i.length]='<a:font script="Viet" typeface="Arial"/>',i[i.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',i[i.length]='<a:font script="Geor" typeface="Sylfaen"/>',i[i.length]="</a:minorFont>",i[i.length]="</a:fontScheme>",i[i.length]='<a:fmtScheme name="Office">',i[i.length]="<a:fillStyleLst>",i[i.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:lin ang="16200000" scaled="1"/>',i[i.length]="</a:gradFill>",i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:lin ang="16200000" scaled="0"/>',i[i.length]="</a:gradFill>",i[i.length]="</a:fillStyleLst>",i[i.length]="<a:lnStyleLst>",i[i.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]="</a:lnStyleLst>",i[i.length]="<a:effectStyleLst>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]="</a:effectStyle>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]="</a:effectStyle>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',i[i.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',i[i.length]="</a:effectStyle>",i[i.length]="</a:effectStyleLst>",i[i.length]="<a:bgFillStyleLst>",i[i.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',i[i.length]="</a:gradFill>",i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',i[i.length]="</a:gradFill>",i[i.length]="</a:bgFillStyleLst>",i[i.length]="</a:fmtScheme>",i[i.length]="</a:themeElements>",i[i.length]="<a:objectDefaults>",i[i.length]="<a:spDef>",i[i.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',i[i.length]="</a:spDef>",i[i.length]="<a:lnDef>",i[i.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',i[i.length]="</a:lnDef>",i[i.length]="</a:objectDefaults>",i[i.length]="<a:extraClrSchemeLst/>",i[i.length]="</a:theme>",i.join("")}function gDe(){var e=gr();return ve(e,332),ve(e,334,vo(1)),ve(e,335,function lDe(e){var t=se(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),wn(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),ve(e,336),ve(e,339,function uDe(e,t){var i=se(8+2*t.length);return i.write_shift(4,e),wn(t,i),i.slice(0,i.l)}(1,"XLDAPR")),ve(e,52),ve(e,35,vo(514)),ve(e,4096,vo(0)),ve(e,4097,Hs(1)),ve(e,36),ve(e,53),ve(e,340),ve(e,337,function fDe(e,t){var i=se(8);return i.write_shift(4,e),i.write_shift(4,t?1:0),i}(1,!0)),ve(e,51,function dDe(e){var t=se(4+8*e.length);t.write_shift(4,e.length);for(var i=0;i<e.length;++i)t.write_shift(4,e[i][0]),t.write_shift(4,e[i][1]);return t}([[1,0]])),ve(e,338),ve(e,333),e.end()}function l8(){var e=[Oi];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var bh=1024;function c8(e,t){for(var i=[21600,21600],n=["m0,0l0",i[1],i[0],i[1],i[0],"0xe"].join(","),r=[Fe("xml",null,{"xmlns:v":ds.v,"xmlns:o":ds.o,"xmlns:x":ds.x,"xmlns:mv":ds.mv}).replace(/\/>/,">"),Fe("o:shapelayout",Fe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Fe("v:shapetype",[Fe("v:stroke",null,{joinstyle:"miter"}),Fe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:i.join(","),path:n})];bh<1e3*e;)bh+=1e3;return t.forEach(function(s){var o=ji(s[0]),a={color2:"#BEFF82",type:"gradient"};"gradient"==a.type&&(a.angle="-180");var l="gradient"==a.type?Fe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=Fe("v:fill",l,a);++bh,r=r.concat(["<v:shape"+Cg({id:"_x0000_s"+bh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,Fe("v:shadow",null,{on:"t",obscured:"t"}),Fe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Mn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Mn("x:AutoFill","False"),Mn("x:Row",String(o.r)),Mn("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function u8(e){var t=[Oi,Fe("comments",null,{xmlns:zl[0]})],i=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(r){var s=ri(r.a);-1==i.indexOf(s)&&(i.push(s),t.push("<author>"+s+"</author>")),r.T&&r.ID&&-1==i.indexOf("tc="+r.ID)&&(i.push("tc="+r.ID),t.push("<author>tc="+r.ID+"</author>"))})}),0==i.length&&(i.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var r=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?r=i.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(r=i.indexOf(ri(l.a))),s.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+r+'"><text>'),s.length<=1)t.push(Mn("t",ri(s[0]||"")));else{for(var o="Comment:\n    "+s[0]+"\n",a=1;a<s.length;++a)o+="Reply:\n    "+s[a]+"\n";t.push(Mn("t",ri(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function SDe(e,t,i){var n=[Oi,Fe("ThreadedComments",null,{xmlns:en.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(r){var s="";(r[1]||[]).forEach(function(o,a){if(o.T){o.a&&-1==t.indexOf(o.a)&&t.push(o.a);var l={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+i.tcid++).slice(-12)+"}"};0==a?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Fe("threadedComment",Mn("text",o.t||""),l))}else delete o.ID})}),n.push("</ThreadedComments>"),n.join("")}var RDe=$n;function kDe(e){var t=gr(),i=[];return ve(t,628),ve(t,630),e.forEach(function(n){n[1].forEach(function(r){i.indexOf(r.a)>-1||(i.push(r.a.slice(0,54)),ve(t,632,function FDe(e){return wn(e.slice(0,54))}(r.a)))})}),ve(t,631),ve(t,633),e.forEach(function(n){n[1].forEach(function(r){r.iauthor=i.indexOf(r.a);var s={s:ji(n[0]),e:ji(n[0])};ve(t,635,function ADe(e,t){return null==t&&(t=se(36)),t.write_shift(4,e[1].iauthor),_h(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([s,r])),r.t&&r.t.length>0&&ve(t,637,function sxe(e,t){var i=!1;return null==t&&(i=!0,t=se(23+4*e.t.length)),t.write_shift(1,1),wn(e.t,t),t.write_shift(4,1),function ixe(e,t){t||(t=se(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),i?t.slice(0,t.l):t}(r)),ve(t,636),delete r.iauthor})}),ve(t,634),ve(t,629),t.end()}var h8=["xlsb","xlsm","xlam","biff8","xla"],xh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function i(n,r,s,o){var a=!1,l=!1;0==s.length?l=!0:"["==s.charAt(0)&&(l=!0,s=s.slice(1,-1)),0==o.length?a=!0:"["==o.charAt(0)&&(a=!0,o=o.slice(1,-1));var c=s.length>0?0|parseInt(s,10):0,d=o.length>0?0|parseInt(o,10):0;return a?d+=t.c:--d,l?c+=t.r:--c,r+(a?"":"$")+_i(d)+(l?"":"$")+Li(c)}return function(r,s){return t=s,r.replace(e,i)}}(),cT=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,dT=function(){return function(t,i){return t.replace(cT,function(n,r,s,o,a,l){var c=HD(o)-(s?0:i.c),d=VD(l)-(a?0:i.r);return r+"R"+(0==d?"":a?d+1:"["+d+"]")+"C"+(0==c?"":s?c+1:"["+c+"]")})}}();function f8(e,t){return e.replace(cT,function(i,n,r,s,o,a){return n+("$"==r?r+s:_i(HD(s)+t.c))+("$"==o?o+a:Li(VD(a)+t.r))})}function nn(e){e.l+=1}function $l(e,t){var i=e.read_shift(1==t?1:2);return[16383&i,i>>14&1,i>>15&1]}function p8(e,t,i){var n=2;if(i){if(i.biff>=2&&i.biff<=5)return g8(e);12==i.biff&&(n=4)}var r=e.read_shift(n),s=e.read_shift(n),o=$l(e,2),a=$l(e,2);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function g8(e){var t=$l(e,2),i=$l(e,2),n=e.read_shift(1),r=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:i[0],c:r,cRel:i[1],rRel:i[2]}}}function m8(e,t,i){if(i&&i.biff>=2&&i.biff<=5)return function zDe(e){var t=$l(e,2),i=e.read_shift(1);return{r:t[0],c:i,cRel:t[1],rRel:t[2]}}(e);var n=e.read_shift(i&&12==i.biff?4:2),r=$l(e,2);return{r:n,c:r[0],cRel:r[1],rRel:r[2]}}function WDe(e){var t=e.read_shift(2),i=e.read_shift(2);return{r:t,c:255&i,fQuoted:!!(16384&i),cRel:i>>15,rRel:i>>15}}function v8(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function C8(e){return[e.read_shift(1),e.read_shift(1)]}function CTe(e,t){var i=[e.read_shift(1)];if(12==t)switch(i[0]){case 2:i[0]=4;break;case 4:i[0]=16;break;case 0:i[0]=1;break;case 1:i[0]=2}switch(i[0]){case 4:i[1]=function $i(e,t){return 1===e.read_shift(t)}(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:i[1]=Va[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:i[1]=Kn(e);break;case 2:i[1]=function hd(e,t,i){if(i.biff>5)return function Dg(e,t,i){var n=e.read_shift(i&&2==i.biff?1:2);return 0===n?(e.l++,""):function ud(e,t,i){if(i){if(i.biff>=2&&i.biff<=5)return e.read_shift(t,"cpstr");if(i.biff>=12)return e.read_shift(t,"dbcs-cont")}var r=e.read_shift(1);return e.read_shift(t,0===r?"sbcs-cont":"dbcs-cont")}(e,n,i)}(e,0,i);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,i.biff<=4||!e.lens?"cpstr":"sbcs-cont")}(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+i[0])}return i}function _Te(e,t,i){for(var n=e.read_shift(12==i.biff?4:2),r=[],s=0;s!=n;++s)r.push((12==i.biff?ad:F_)(e,8));return r}function yTe(e,t,i){var n=0,r=0;12==i.biff?(n=e.read_shift(4),r=e.read_shift(4)):(r=1+e.read_shift(1),n=1+e.read_shift(2)),i.biff>=2&&i.biff<8&&(--n,0==--r&&(r=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var a=0;a!=r;++a)o[s][a]=CTe(e,i.biff);return o}function kg(e,t,i){return e.l+=2,[WDe(e)]}function uT(e){return e.l+=6,[]}function _8(e){return e.l+=2,[tn(e),1&e.read_shift(2)]}var HTe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],y8={1:{n:"PtgExp",f:function hTe(e,t,i){return e.l++,i&&12==i.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(i&&2==i.biff?1:2)]}},2:{n:"PtgTbl",f:jn},3:{n:"PtgAdd",f:nn},4:{n:"PtgSub",f:nn},5:{n:"PtgMul",f:nn},6:{n:"PtgDiv",f:nn},7:{n:"PtgPower",f:nn},8:{n:"PtgConcat",f:nn},9:{n:"PtgLt",f:nn},10:{n:"PtgLe",f:nn},11:{n:"PtgEq",f:nn},12:{n:"PtgGe",f:nn},13:{n:"PtgGt",f:nn},14:{n:"PtgNe",f:nn},15:{n:"PtgIsect",f:nn},16:{n:"PtgUnion",f:nn},17:{n:"PtgRange",f:nn},18:{n:"PtgUplus",f:nn},19:{n:"PtgUminus",f:nn},20:{n:"PtgPercent",f:nn},21:{n:"PtgParen",f:nn},22:{n:"PtgMissArg",f:nn},23:{n:"PtgStr",f:function vTe(e,t,i){return e.l++,Eg(e,0,i)}},26:{n:"PtgSheet",f:function WTe(e,t,i){return e.l+=5,e.l+=2,e.l+=2==i.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function UTe(e,t,i){return e.l+=2==i.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function fTe(e){return e.l++,Va[e.read_shift(1)]}},29:{n:"PtgBool",f:function gTe(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function pTe(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function mTe(e){return e.l++,Kn(e)}},32:{n:"PtgArray",f:function ZDe(e,t,i){var n=(96&e[e.l++])>>5;return e.l+=2==i.biff?6:12==i.biff?14:7,[n]}},33:{n:"PtgFunc",f:function lTe(e,t,i){var n=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(i&&i.biff<=3?1:2);return[uAe[r],x8[r],n]}},34:{n:"PtgFuncVar",f:function cTe(e,t,i){var n=e[e.l++],r=e.read_shift(1),s=i&&i.biff<=3?[88==n?-1:0,e.read_shift(1)]:function dTe(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[r,(0===s[0]?x8:dAe)[s[1]]]}},35:{n:"PtgName",f:function wTe(e,t,i){var n=e.read_shift(1)>>>5&3,s=e.read_shift(!i||i.biff>=8?4:2);switch(i.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,s]}},36:{n:"PtgRef",f:function sTe(e,t,i){var n=(96&e[e.l])>>5;return e.l+=1,[n,m8(e,0,i)]}},37:{n:"PtgArea",f:function $De(e,t,i){return[(96&e[e.l++])>>5,p8(e,0,i)]}},38:{n:"PtgMemArea",f:function STe(e,t,i){var n=e.read_shift(1)>>>5&3;return e.l+=i&&2==i.biff?3:4,[n,e.read_shift(i&&2==i.biff?1:2)]}},39:{n:"PtgMemErr",f:jn},40:{n:"PtgMemNoMem",f:jn},41:{n:"PtgMemFunc",f:function ETe(e,t,i){return[e.read_shift(1)>>>5&3,e.read_shift(i&&2==i.biff?1:2)]}},42:{n:"PtgRefErr",f:function DTe(e,t,i){var n=e.read_shift(1)>>>5&3;return e.l+=4,i.biff<8&&e.l--,12==i.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function qDe(e,t,i){var n=(96&e[e.l++])>>5;return e.l+=i&&i.biff>8?12:i.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function oTe(e,t,i){var n=(96&e[e.l])>>5;e.l+=1;var r=function UDe(e,t,i){var n=i&&i.biff?i.biff:8;if(n>=2&&n<=5)return function jDe(e){var t=e.read_shift(2),i=e.read_shift(1),n=(32768&t)>>15,r=(16384&t)>>14;return t&=16383,1==n&&t>=8192&&(t-=16384),1==r&&i>=128&&(i-=256),{r:t,c:i,cRel:r,rRel:n}}(e);var r=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(16384&s)>>14,a=(32768&s)>>15;if(s&=16383,1==a)for(;r>524287;)r-=1048576;if(1==o)for(;s>8191;)s-=16384;return{r,c:s,cRel:o,rRel:a}}(e,0,i);return[n,r]}},45:{n:"PtgAreaN",f:function XDe(e,t,i){var n=(96&e[e.l++])>>5,r=function GDe(e,t,i){if(i.biff<8)return g8(e);var n=e.read_shift(12==i.biff?4:2),r=e.read_shift(12==i.biff?4:2),s=$l(e,2),o=$l(e,2);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:o[0],cRel:o[1],rRel:o[2]}}}(e,0,i);return[n,r]}},46:{n:"PtgMemAreaN",f:function jTe(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function $Te(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function bTe(e,t,i){return 5==i.biff?function xTe(e){var t=e.read_shift(1)>>>5&3,i=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,i,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function aTe(e,t,i){var n=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(2);return i&&5==i.biff&&(e.l+=12),[n,r,m8(e,0,i)]}},59:{n:"PtgArea3d",f:function KDe(e,t,i){var n=(96&e[e.l++])>>5,r=e.read_shift(2,"i");if(i&&5===i.biff)e.l+=12;return[n,r,p8(e,0,i)]}},60:{n:"PtgRefErr3d",f:function TTe(e,t,i){var n=(96&e[e.l++])>>5,r=e.read_shift(2),s=4;if(i)switch(i.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[n,r]}},61:{n:"PtgAreaErr3d",f:function YDe(e,t,i){var n=(96&e[e.l++])>>5,r=e.read_shift(2),s=8;if(i)switch(i.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[n,r]}},255:{}},qTe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},YTe={1:{n:"PtgElfLel",f:_8},2:{n:"PtgElfRw",f:kg},3:{n:"PtgElfCol",f:kg},6:{n:"PtgElfRwV",f:kg},7:{n:"PtgElfColV",f:kg},10:{n:"PtgElfRadical",f:kg},11:{n:"PtgElfRadicalS",f:uT},13:{n:"PtgElfColS",f:uT},15:{n:"PtgElfColSV",f:uT},16:{n:"PtgElfRadicalLel",f:_8},25:{n:"PtgList",f:function GTe(e){e.l+=2;var t=e.read_shift(2),i=e.read_shift(2),n=e.read_shift(4),r=e.read_shift(2),s=e.read_shift(2);return{ixti:t,coltype:3&i,rt:HTe[i>>2&31],idx:n,c:r,C:s}}},29:{n:"PtgSxName",f:function zTe(e){return e.l+=2,[e.read_shift(4)]}},255:{}},XTe={0:{n:"PtgAttrNoop",f:function KTe(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function iTe(e,t,i){var n=255&e[e.l+1]?1:0;return e.l+=i&&2==i.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function eTe(e,t,i){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(i&&2==i.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function QDe(e,t,i){e.l+=2;for(var n=e.read_shift(i&&2==i.biff?1:2),r=[],s=0;s<=n;++s)r.push(e.read_shift(i&&2==i.biff?1:2));return r}},8:{n:"PtgAttrGoto",f:function JDe(e,t,i){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(i&&2==i.biff?1:2)]}},16:{n:"PtgAttrSum",f:function uTe(e,t,i){e.l+=i&&2==i.biff?3:4}},32:{n:"PtgAttrBaxcel",f:v8},33:{n:"PtgAttrBaxcel",f:v8},64:{n:"PtgAttrSpace",f:function nTe(e){return e.read_shift(2),C8(e)}},65:{n:"PtgAttrSpaceSemi",f:function rTe(e){return e.read_shift(2),C8(e)}},128:{n:"PtgAttrIfError",f:function tTe(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function Ig(e,t,i,n){if(n.biff<8)return jn(e,t);for(var r=e.l+t,s=[],o=0;o!==i.length;++o)switch(i[o][0]){case"PtgArray":i[o][1]=yTe(e,0,n),s.push(i[o][1]);break;case"PtgMemArea":i[o][2]=_Te(e,0,n),s.push(i[o][2]);break;case"PtgExp":n&&12==n.biff&&(i[o][1][1]=e.read_shift(4),s.push(i[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+i[o][0]}return 0!=(t=r-e.l)&&s.push(jn(e,t)),s}function ZTe(e){for(var t=[],i=0;i<e.length;++i){for(var n=e[i],r=[],s=0;s<n.length;++s){var o=n[s];r.push(o?2===o[0]?'"'+o[1].replace(/"/g,'""')+'"':o[1]:"")}t.push(r.join(","))}return t.join(";")}var QTe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function w8(e,t,i){if(!e)return"SH33TJSERR0";if(i.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(i.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var r="";if(i.biff>8)switch(e[n[0]][0]){case 357:return r=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?r:r+":"+e.SheetNames[n[2]];case 358:return null!=i.SID?e.SheetNames[i.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return r=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?r:r+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(r=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?r:r+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function b8(e,t,i){var n=w8(e,t,i);return"#REF"==n?n:function JTe(e,t){if(!(e||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(n,i)}function Xn(e,t,i,n,r){var l,c,d,f,s=r&&r.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},a=[],u=0,h=0,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,m="",C=0,v=e[0].length;C<v;++C){var _=e[0][C];switch(_[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),c=a.pop(),p>=0){switch(e[0][p][1][0]){case 0:m=Pi(" ",e[0][p][1][1]);break;case 1:m=Pi("\r",e[0][p][1][1]);break;default:if(m="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}c+=m,p=-1}a.push(c+QTe[_[0]]+l);break;case"PtgIsect":l=a.pop(),c=a.pop(),a.push(c+" "+l);break;case"PtgUnion":l=a.pop(),c=a.pop(),a.push(c+","+l);break;case"PtgRange":l=a.pop(),c=a.pop(),a.push(c+":"+l);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":d=wg(_[1][1],o,r),a.push(bg(d,s));break;case"PtgRefN":d=i?wg(_[1][1],i,r):_[1][1],a.push(bg(d,s));break;case"PtgRef3d":u=_[1][1],d=wg(_[1][2],o,r),g=b8(n,u,r),a.push(g+"!"+bg(d,s));break;case"PtgFunc":case"PtgFuncVar":var R=_[1][0],M=_[1][1];R||(R=0);var S=0==(R&=127)?[]:a.slice(-R);a.length-=R,"User"===M&&(M=S.shift()),a.push(M+"("+S.join(",")+")");break;case"PtgBool":a.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":a.push(_[1]);break;case"PtgNum":a.push(String(_[1]));break;case"PtgStr":a.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":f=qG(_[1][1],i?{s:i}:o,r),a.push(BD(f,r));break;case"PtgArea":f=qG(_[1][1],o,r),a.push(BD(f,r));break;case"PtgArea3d":f=_[1][2],g=b8(n,u=_[1][1],r),a.push(g+"!"+BD(f,r));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgName":var N=(n.names||[])[(h=_[1][2])-1]||(n[0]||[])[h],B=N?N.Name:"SH33TJSNAME"+String(h);B&&"_xlfn."==B.slice(0,6)&&!r.xlfn&&(B=B.slice(6)),a.push(B);break;case"PtgNameX":var K,j=_[1][1];if(h=_[1][2],!(r.biff<=5)){var z="";if(14849==((n[j]||[])[0]||[])[0]||(1025==((n[j]||[])[0]||[])[0]?n[j][h]&&n[j][h].itab>0&&(z=n.SheetNames[n[j][h].itab-1]+"!"):z=n.SheetNames[h-1]+"!"),n[j]&&n[j][h])z+=n[j][h].Name;else if(n[0]&&n[0][h])z+=n[0][h].Name;else{var Ce=(w8(n,j,r)||"").split(";;");Ce[h-1]?z=Ce[h-1]:z+="SH33TJSERRX"}a.push(z);break}j<0&&(j=-j),n[j]&&(K=n[j][h]),K||(K={Name:"SH33TJSERRY"}),a.push(K.Name);break;case"PtgParen":var Oe="(",Re=")";if(p>=0){switch(m="",e[0][p][1][0]){case 2:Oe=Pi(" ",e[0][p][1][1])+Oe;break;case 3:Oe=Pi("\r",e[0][p][1][1])+Oe;break;case 4:Re=Pi(" ",e[0][p][1][1])+Re;break;case 5:Re=Pi("\r",e[0][p][1][1])+Re;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}a.push(Oe+a.pop()+Re);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":a.push("#REF!");break;case"PtgExp":var ae={c:i.c,r:i.r};if(n.sharedf[Ze(d={c:_[1][1],r:_[1][0]})]){var le=n.sharedf[Ze(d)];a.push(Xn(le,0,ae,n,r))}else{var Ae=!1;for(l=0;l!=n.arrayf.length;++l)if(!(d.c<(c=n.arrayf[l])[0].s.c||d.c>c[0].e.c||d.r<c[0].s.r||d.r>c[0].e.r)){a.push(Xn(c[1],0,ae,n,r)),Ae=!0;break}Ae||a.push(_[1])}break;case"PtgArray":a.push("{"+ZTe(_[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=C;break;case"PtgMissArg":a.push("");break;case"PtgList":a.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(_))}if(3!=r.biff&&p>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][C][0])){var He=!0;switch((_=e[0][p])[1][0]){case 4:He=!1;case 0:m=Pi(" ",_[1][1]);break;case 5:He=!1;case 1:m=Pi("\r",_[1][1]);break;default:if(m="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}a.push((He?m:"")+a.pop()+(He?"":m)),p=-1}}if(a.length>1&&r.WTF)throw new Error("bad formula stack");return a[0]}function N_(e,t,i){var n=e.read_shift(4),r=function Pg(e,t,i){for(var r,s,n=e.l+t,o=[];n!=e.l;)t=n-e.l,r=y8[s=e[e.l]]||y8[qTe[s]],(24===s||25===s)&&(r=(24===s?YTe:XTe)[e[e.l+1]]),r&&r.f?o.push([r.n,r.f(e,t,i)]):jn(e,t);return o}(e,n,i),s=e.read_shift(4);return[r,s>0?Ig(e,s,r,i):null]}var aAe=N_,B_=N_,lAe=N_,cAe=N_,dAe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},x8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},uAe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function hAe(e){return("of:="+e.replace(cT,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function fAe(e){return e.replace(/\./,"!")}var Og=typeof Map<"u";function pT(e,t,i){var n=0,r=e.length;if(i){if(Og?i.has(t):Object.prototype.hasOwnProperty.call(i,t))for(var s=Og?i.get(t):i[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}else for(;n<r;++n)if(e[n].t===t)return e.Count++,n;return e[r]={t},e.Count++,e.Unique++,i&&(Og?(i.has(t)||i.set(t,[]),i.get(t).push(r)):(Object.prototype.hasOwnProperty.call(i,t)||(i[t]=[]),i[t].push(r))),r}function H_(e,t){var i={min:e+1,max:e+1},n=-1;return t.MDW&&(Yn=t.MDW),null!=t.width?i.customWidth=1:null!=t.wpx?n=Rg(t.wpx):null!=t.wch&&(n=t.wch),n>-1?(i.width=I_(n),i.customWidth=1):null!=t.width&&(i.width=t.width),t.hidden&&(i.hidden=!0),null!=t.level&&(i.outlineLevel=i.level=t.level),i}function gd(e,t){if(e){var i=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(i=[1,1,1,1,.5,.5]),null==e.left&&(e.left=i[0]),null==e.right&&(e.right=i[1]),null==e.top&&(e.top=i[2]),null==e.bottom&&(e.bottom=i[3]),null==e.header&&(e.header=i[4]),null==e.footer&&(e.footer=i[5])}}function Kl(e,t,i){var n=i.revssf[null!=t.z?t.z:"General"],r=60,s=e.length;if(null==n&&i.ssf)for(;r<392;++r)if(null==i.ssf[r]){Qo(t.z,r),i.ssf[r]=t.z,i.revssf[t.z]=n=r;break}for(r=0;r!=s;++r)if(e[r].numFmtId===n)return r;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function gAe(e,t,i){if(e&&e["!ref"]){var n=It(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+i+"): "+e["!ref"])}}var FAe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],MAe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function WAe(e,t,i,n){if(e.c&&i["!comments"].push([t,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var r="",s=e.t,o=e.v;if("z"!==e.t)switch(e.t){case"b":r=e.v?"1":"0";break;case"n":r=""+e.v;break;case"e":r=Va[e.v];break;case"d":n&&n.cellDates?r=Di(e.v,-1).toISOString():((e=di(e)).t="n",r=""+(e.v=_n(Di(e.v)))),typeof e.z>"u"&&(e.z=Ke[14]);break;default:r=e.v}var a=Mn("v",ri(r)),l={r:t},c=Kl(n.cellXfs,e,n);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){a=Mn("v",""+pT(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str"}if(e.t!=s&&(e.t=s,e.v=o),"string"==typeof e.f&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=Fe("f",ri(e.f),d)+(null!=e.v?a:"")}return e.l&&i["!links"].push([t,e.l]),e.D&&(l.cm=1),Fe("c",a,l)}function D8(e,t,i,n){var o,r=[Oi,Fe("worksheet",null,{xmlns:zl[0],"xmlns:r":en.r})],a="",l=i.Sheets[i.SheetNames[e]];null==l&&(l={});var c=l["!ref"]||"A1",d=It(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=ut(d)}n||(n={}),l["!comments"]=[];var u=[];(function RAe(e,t,i,n,r){var s=!1,o={},a=null;if("xlsx"!==n.bookType&&t.vbaraw){var l=t.SheetNames[i];try{t.Workbook&&(l=t.Workbook.Sheets[i].CodeName||l)}catch{}s=!0,o.codeName=ea(ri(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),a=(a||"")+Fe("outlinePr",null,c)}!s&&!a||(r[r.length]=Fe("sheetPr",a,o))})(l,i,e,t,r),r[r.length]=Fe("dimension",null,{ref:c}),r[r.length]=function zAe(e,t,i,n){var r={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Fe("sheetViews",Fe("sheetView",null,r),{})}(0,0,0,i),t.sheetFormat&&(r[r.length]=Fe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(r[r.length]=function NAe(e,t){for(var n,i=["<cols>"],r=0;r!=t.length;++r)(n=t[r])&&(i[i.length]=Fe("col",null,H_(r,n)));return i[i.length]="</cols>",i.join("")}(0,l["!cols"])),r[o=r.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(a=function jAe(e,t,i,n){var l,m,r=[],s=[],o=It(e["!ref"]),a="",c="",d=[],u=0,h=0,f=e["!rows"],g=Array.isArray(e),p={r:c},C=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=_i(h);for(u=o.s.r;u<=o.e.r;++u){for(s=[],c=Li(u),h=o.s.c;h<=o.e.c;++h){l=d[h]+c;var v=g?(e[u]||[])[h]:e[l];void 0!==v&&null!=(a=WAe(v,l,e,t))&&s.push(a)}(s.length>0||f&&f[u])&&(p={r:c},f&&f[u]&&((m=f[u]).hidden&&(p.hidden=1),C=-1,m.hpx?C=Fg(m.hpx):m.hpt&&(C=m.hpt),C>-1&&(p.ht=C,p.customHeight=1),m.level&&(p.outlineLevel=m.level)),r[r.length]=Fe("row",s.join(""),p))}if(f)for(;u<f.length;++u)f&&f[u]&&(p={r:u+1},(m=f[u]).hidden&&(p.hidden=1),C=-1,m.hpx?C=Fg(m.hpx):m.hpt&&(C=m.hpt),C>-1&&(p.ht=C,p.customHeight=1),m.level&&(p.outlineLevel=m.level),r[r.length]=Fe("row","",p));return r.join("")}(l,t),a.length>0&&(r[r.length]=a)),r.length>o+1&&(r[r.length]="</sheetData>",r[o]=r[o].replace("/>",">")),l["!protect"]&&(r[r.length]=function kAe(e){var t={sheet:1};return FAe.forEach(function(i){null!=e[i]&&e[i]&&(t[i]="1")}),MAe.forEach(function(i){null!=e[i]&&!e[i]&&(t[i]="0")}),e.password&&(t.password=rT(e.password).toString(16).toUpperCase()),Fe("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(r[r.length]=function VAe(e,t,i,n){var r="string"==typeof e.ref?e.ref:ut(e.ref);i.Workbook||(i.Workbook={Sheets:[]}),i.Workbook.Names||(i.Workbook.Names=[]);var s=i.Workbook.Names,o=mr(r);o.s.r==o.e.r&&(o.e.r=mr(t["!ref"]).e.r,r=ut(o));for(var a=0;a<s.length;++a){var l=s[a];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==n){l.Ref="'"+i.SheetNames[n]+"'!"+r;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+i.SheetNames[n]+"'!"+r}),Fe("autoFilter",null,{ref:r})}(l["!autofilter"],l,i,e)),null!=l["!merges"]&&l["!merges"].length>0&&(r[r.length]=function TAe(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',i=0;i!=e.length;++i)t+='<mergeCell ref="'+ut(e[i])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var f,h=-1,g=-1;return l["!links"].length>0&&(r[r.length]="<hyperlinks>",l["!links"].forEach(function(p){p[1].Target&&(f={ref:p[0]},"#"!=p[1].Target.charAt(0)&&(g=Zt(n,-1,ri(p[1].Target).replace(/#.*$/,""),ht.HLINK),f["r:id"]="rId"+g),(h=p[1].Target.indexOf("#"))>-1&&(f.location=ri(p[1].Target.slice(h+1))),p[1].Tooltip&&(f.tooltip=ri(p[1].Tooltip)),r[r.length]=Fe("hyperlink",null,f))}),r[r.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(r[r.length]=function OAe(e){return gd(e),Fe("pageMargins",null,e)}(l["!margins"])),(!t||t.ignoreEC||null==t.ignoreEC)&&(r[r.length]=Mn("ignoredErrors",Fe("ignoredError",null,{numberStoredAsText:1,sqref:c}))),u.length>0&&(g=Zt(n,-1,"../drawings/drawing"+(e+1)+".xml",ht.DRAW),r[r.length]=Fe("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=u),l["!comments"].length>0&&(g=Zt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ht.VML),r[r.length]=Fe("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function qAe(e,t,i,n){var r=function KAe(e,t,i){var n=se(145),r=(i["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;r.hpx?s=20*Fg(r.hpx):r.hpt&&(s=20*r.hpt),n.write_shift(2,s),n.write_shift(1,0);var o=0;r.level&&(o|=r.level),r.hidden&&(o|=16),(r.hpx||r.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var a=0,l=n.l;n.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var u=-1,h=-1,f=d<<10;f<d+1<<10;++f)c.c=f,(Array.isArray(i)?(i[c.r]||[])[c.c]:i[Ze(c)])&&(u<0&&(u=f),h=f);u<0||(++a,n.write_shift(4,u),n.write_shift(4,h))}var p=n.l;return n.l=l,n.write_shift(4,a),n.l=p,n.length>n.l?n.slice(0,n.l):n}(n,i,t);(r.length>17||(t["!rows"]||[])[n])&&ve(e,0,r)}var YAe=ad,XAe=_h;var kRe=ad,IRe=_h,A8=["left","right","top","bottom","header","footer"];function XRe(e,t,i,n,r,s,o){if(void 0===t.v)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":(t=di(t)).z=t.z||Ke[14],t.v=_n(Di(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v}var l={r:i,c:n};switch(l.s=Kl(r.cellXfs,t,r),t.l&&s["!links"].push([Ze(l),t.l]),t.c&&s["!comments"].push([Ze(l),t.c]),t.t){case"s":case"str":return r.bookSST?(a=pT(r.Strings,t.v,r.revStrings),l.t="s",l.v=a,o?ve(e,18,function gRe(e,t,i){return null==i&&(i=se(8)),od(t,i),i.write_shift(4,t.v),i}(0,l)):ve(e,7,function fRe(e,t,i){return null==i&&(i=se(12)),rd(t,i),i.write_shift(4,t.v),i}(0,l))):(l.t="str",o?ve(e,17,function TRe(e,t,i){return null==i&&(i=se(8+4*e.v.length)),od(t,i),wn(e.v,i),i.length>i.l?i.slice(0,i.l):i}(t,l)):ve(e,6,function ERe(e,t,i){return null==i&&(i=se(12+4*e.v.length)),rd(t,i),wn(e.v,i),i.length>i.l?i.slice(0,i.l):i}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?o?ve(e,13,function bRe(e,t,i){return null==i&&(i=se(8)),od(t,i),QG(e.v,i),i}(t,l)):ve(e,2,function yRe(e,t,i){return null==i&&(i=se(12)),rd(t,i),QG(e.v,i),i}(t,l)):o?ve(e,16,function CRe(e,t,i){return null==i&&(i=se(12)),od(t,i),ld(e.v,i),i}(t,l)):ve(e,5,function vRe(e,t,i){return null==i&&(i=se(16)),rd(t,i),ld(e.v,i),i}(t,l)),!0;case"b":return l.t="b",o?ve(e,15,function aRe(e,t,i){return null==i&&(i=se(5)),od(t,i),i.write_shift(1,e.v?1:0),i}(t,l)):ve(e,4,function sRe(e,t,i){return null==i&&(i=se(9)),rd(t,i),i.write_shift(1,e.v?1:0),i}(t,l)),!0;case"e":return l.t="e",o?ve(e,14,function uRe(e,t,i){return null==i&&(i=se(8)),od(t,i),i.write_shift(1,e.v),i.write_shift(2,0),i.write_shift(1,0),i}(t,l)):ve(e,3,function cRe(e,t,i){return null==i&&(i=se(9)),rd(t,i),i.write_shift(1,e.v),i}(t,l)),!0}return o?ve(e,12,function nRe(e,t,i){return null==i&&(i=se(4)),od(t,i)}(0,l)):ve(e,1,function tRe(e,t,i){return null==i&&(i=se(8)),rd(t,i)}(0,l)),!0}function oFe(e,t,i,n){var r=gr(),s=i.SheetNames[e],o=i.Sheets[s]||{},a=s;try{i&&i.Workbook&&(a=i.Workbook.Sheets[e].CodeName||a)}catch{}var l=It(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ve(r,129),(i.vbaraw||o["!outline"])&&ve(r,147,function JAe(e,t,i){null==i&&(i=se(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),i.write_shift(1,n);for(var r=1;r<3;++r)i.write_shift(1,0);return x_({auto:1},i),i.write_shift(-4,-1),i.write_shift(-4,-1),ZG(e,i),i.slice(0,i.l)}(a,o["!outline"])),ve(r,148,XAe(l)),function rFe(e,t,i){ve(e,133),ve(e,137,function URe(e,t,i){null==i&&(i=se(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),i.write_shift(2,n),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(2,0),i.write_shift(2,100),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i}(0,i)),ve(e,138),ve(e,134)}(r,0,i.Workbook),function JRe(e,t){!t||!t["!cols"]||(ve(e,390),t["!cols"].forEach(function(i,n){i&&ve(e,60,function HRe(e,t,i){null==i&&(i=se(18));var n=H_(e,t);i.write_shift(-4,e),i.write_shift(-4,e),i.write_shift(4,256*(n.width||10)),i.write_shift(4,0);var r=0;return t.hidden&&(r|=1),"number"==typeof n.width&&(r|=2),t.level&&(r|=t.level<<8),i.write_shift(2,r),i}(n,i))}),ve(e,391))}(r,o),function ZRe(e,t,i,n){var r=It(t["!ref"]||"A1"),o="",a=[];ve(e,145);var l=Array.isArray(t),c=r.e.r;t["!rows"]&&(c=Math.max(r.e.r,t["!rows"].length-1));for(var d=r.s.r;d<=c;++d){o=Li(d),qAe(e,t,r,d);var u=!1;if(d<=r.e.r)for(var h=r.s.c;h<=r.e.c;++h){d===r.s.r&&(a[h]=_i(h));var f=l?(t[d]||[])[h]:t[a[h]+o];u=!!f&&XRe(e,f,d,h,n,t,u)}}ve(e,146)}(r,o,0,t),function sFe(e,t){t["!protect"]&&ve(e,535,function $Re(e,t){return null==t&&(t=se(66)),t.write_shift(2,e.password?rT(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(i){t.write_shift(4,i[1]?null==e[i[0]]||e[i[0]]?0:1:null!=e[i[0]]&&e[i[0]]?0:1)}),t}(t["!protect"]))}(r,o),function nFe(e,t,i,n){if(t["!autofilter"]){var r=t["!autofilter"],s="string"==typeof r.ref?r.ref:ut(r.ref);i.Workbook||(i.Workbook={Sheets:[]}),i.Workbook.Names||(i.Workbook.Names=[]);var o=i.Workbook.Names,a=mr(s);a.s.r==a.e.r&&(a.e.r=mr(t["!ref"]).e.r,s=ut(a));for(var l=0;l<o.length;++l){var c=o[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==n){c.Ref="'"+i.SheetNames[n]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+i.SheetNames[n]+"'!"+s}),ve(e,161,_h(It(s))),ve(e,162)}}(r,o,i,e),function QRe(e,t){!t||!t["!merges"]||(ve(e,177,function PRe(e,t){return null==t&&(t=se(4)),t.write_shift(4,e),t}(t["!merges"].length)),t["!merges"].forEach(function(i){ve(e,176,IRe(i))}),ve(e,178))}(r,o),function tFe(e,t,i){t["!links"].forEach(function(n){if(n[1].Target){var r=Zt(i,-1,n[1].Target.replace(/#.*$/,""),ht.HLINK);ve(e,494,function LRe(e,t){var i=se(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));_h({s:ji(e[0]),e:ji(e[0])},i),UD("rId"+t,i);var n=e[1].Target.indexOf("#");return wn((-1==n?"":e[1].Target.slice(n+1))||"",i),wn(e[1].Tooltip||"",i),wn("",i),i.slice(0,i.l)}(n,r))}}),delete t["!links"]}(r,o,n),o["!margins"]&&ve(r,476,function zRe(e,t){return null==t&&(t=se(48)),gd(e),A8.forEach(function(i){ld(e[i],t)}),t}(o["!margins"])),(!t||t.ignoreEC||null==t.ignoreEC)&&function eFe(e,t){!t||!t["!ref"]||(ve(e,648),ve(e,649,function jRe(e){var t=se(24);return t.write_shift(4,4),t.write_shift(4,1),_h(e,t),t}(It(t["!ref"]))),ve(e,650))}(r,o),function iFe(e,t,i,n){if(t["!comments"].length>0){var r=Zt(n,-1,"../drawings/vmlDrawing"+(i+1)+".vml",ht.VML);ve(e,551,UD("rId"+r)),t["!legacy"]=r}}(r,o,e,n),ve(r,130),r.end()}var mT=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],CFe="][*?/\\".split("");function k8(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var i=!0;return CFe.forEach(function(n){if(-1!=e.indexOf(n)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");i=!1}}),i}function P8(e){var t=[Oi];t[t.length]=Fe("workbook",null,{xmlns:zl[0],"xmlns:r":en.r});var i=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(mT.forEach(function(a){null!=e.Workbook.WBProps[a[0]]&&e.Workbook.WBProps[a[0]]!=a[1]&&(n[a[0]]=e.Workbook.WBProps[a[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Fe("workbookPr",null,n);var r=e.Workbook&&e.Workbook.Sheets||[],s=0;if(r&&r[0]&&r[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&r[s]&&r[s].Hidden;++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:ri(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),r[s])switch(r[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden"}t[t.length]=Fe("sheet",null,o)}return t[t.length]="</sheets>",i&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),null!=a.Sheet&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(t[t.length]=Fe("definedName",ri(a.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function xFe(e,t){return t||(t=se(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),UD(e.strRelID,t),wn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function IFe(e,t){var i=gr();return ve(i,131),ve(i,128,function FFe(e,t){t||(t=se(127));for(var i=0;4!=i;++i)t.write_shift(4,0);return wn("SheetJS",t),wn(lg.version,t),wn(lg.version,t),wn("7262",t),t.length>t.l?t.slice(0,t.l):t}()),ve(i,153,function EFe(e,t){t||(t=se(72));var i=0;return e&&e.filterPrivacy&&(i|=8),t.write_shift(4,i),t.write_shift(4,0),ZG(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),function kFe(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var i=t.Workbook.Sheets,n=0,r=-1,s=-1;n<i.length;++n)!i[n]||!i[n].Hidden&&-1==r?r=n:1==i[n].Hidden&&-1==s&&(s=n);s>r||(ve(e,135),ve(e,158,function MFe(e,t){return t||(t=se(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e),t.write_shift(1,120),t.length>t.l?t.slice(0,t.l):t}(r)),ve(e,136))}}(i,e),function RFe(e,t){ve(e,143);for(var i=0;i!=t.SheetNames.length;++i)ve(e,156,xFe({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[i]&&t.Workbook.Sheets[i].Hidden||0,iTabID:i+1,strRelID:"rId"+(i+1),name:t.SheetNames[i]}));ve(e,144)}(i,e),ve(i,132),i.end()}function KFe(e,t,i,n,r){return(".bin"===t.slice(-4)?oFe:D8)(e,i,n,r)}function XFe(e,t,i){return(".bin"===t.slice(-4)?kDe:u8)(e,i)}function N8(e){return Fe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+dT(e.Ref,{r:0,c:0})})}function hMe(e,t,i,n,r,s,o){if(!e||null==e.v&&null==e.f)return"";var a={};if(e.f&&(a["ss:Formula"]="="+ri(dT(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=ji(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=ri(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=ri(e.l.Tooltip))),i["!merges"])for(var c=i["!merges"],d=0;d!=c.length;++d)c[d].s.c!=o.c||c[d].s.r!=o.r||(c[d].e.c>c[d].s.c&&(a["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(a["ss:MergeDown"]=c[d].e.r-c[d].s.r));var u="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":u="Number",h=String(e.v);break;case"b":u="Boolean",h=e.v?"1":"0";break;case"e":u="Error",h=Va[e.v];break;case"d":u="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||Ke[14]);break;case"s":u="String",h=function Pbe(e){return(e+"").replace(AD,function(i){return TD[i]}).replace(DG,function(i){return"&#x"+i.charCodeAt(0).toString(16).toUpperCase()+";"})}(e.v||"")}var f=Kl(n.cellXfs,e,n);a["ss:StyleID"]="s"+(21+f),a["ss:Index"]=o.c+1;var p="z"==e.t?"":'<Data ss:Type="'+u+'">'+(null!=e.v?h:"")+"</Data>";return(e.c||[]).length>0&&(p+=function uMe(e){return e.map(function(t){var i=function Obe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}(t.t||""),n=Fe("ss:Data",i,{xmlns:"http://www.w3.org/TR/REC-html40"});return Fe("Comment",n,{"ss:Author":t.a})}).join("")}(e.c)),Fe("Cell",p,a)}function fMe(e,t){var i='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=P_(t.hpt)),t.hpx&&(i+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(i+=' ss:Hidden="1"')),i+">"}function gMe(e,t,i){var n=[],s=i.Sheets[i.SheetNames[e]],o=s?function cMe(e,t,i,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var r=n.Workbook.Names,s=[],o=0;o<r.length;++o){var a=r[o];a.Sheet==i&&(a.Name.match(/^_xlfn\./)||s.push(N8(a)))}return s.join("")}(s,0,e,i):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?function pMe(e,t,i,n){if(!e["!ref"])return"";var r=It(e["!ref"]),s=e["!merges"]||[],o=0,a=[];e["!cols"]&&e["!cols"].forEach(function(m,C){jl(m);var v=!!m.width,_=H_(C,m),x={"ss:Index":C+1};v&&(x["ss:Width"]=Ag(_.width)),m.hidden&&(x["ss:Hidden"]="1"),a.push(Fe("Column",null,x))});for(var l=Array.isArray(e),c=r.s.r;c<=r.e.r;++c){for(var d=[fMe(c,(e["!rows"]||[])[c])],u=r.s.c;u<=r.e.c;++u){var h=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>u||s[o].s.r>c||s[o].e.c<u||s[o].e.r<c)){(s[o].s.c!=u||s[o].s.r!=c)&&(h=!0);break}if(!h){var f={r:c,c:u},g=Ze(f);d.push(hMe(l?(e[c]||[])[u]:e[g],g,e,t,0,0,f))}}d.push("</Row>"),d.length>2&&a.push(d.join(""))}return a.join("")}(s,t):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(function dMe(e,t,i,n){if(!e)return"";var r=[];if(e["!margins"]&&(r.push("<PageSetup>"),e["!margins"].header&&r.push(Fe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&r.push(Fe("Footer",null,{"x:Margin":e["!margins"].footer})),r.push(Fe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),r.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[i])if(n.Workbook.Sheets[i].Hidden)r.push(Fe("Visible",1==n.Workbook.Sheets[i].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<i&&(!n.Workbook.Sheets[s]||n.Workbook.Sheets[s].Hidden);++s);s==i&&r.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),e["!protect"]&&(r.push(Mn("ProtectContents","True")),e["!protect"].objects&&r.push(Mn("ProtectObjects","True")),e["!protect"].scenarios&&r.push(Mn("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null!=e["!protect"].selectUnlockedCells&&!e["!protect"].selectUnlockedCells&&r.push(Mn("EnableSelection","UnlockedCells")):r.push(Mn("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&r.push("<"+o[1]+"/>")})),0==r.length?"":Fe("WorksheetOptions",r.join(""),{xmlns:ds.x})}(s,0,e,i)),n.join("")}function mMe(e,t){t||(t={}),e.SSF||(e.SSF=di(Ke)),e.SSF&&(ph(),gg(e.SSF),t.revssf=v_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Kl(t.cellXfs,{},{revssf:{General:0}}));var i=[];i.push(function sMe(e,t){var i=[];return e.Props&&i.push(function Pxe(e,t){var i=[];return Ii(QD).map(function(n){for(var r=0;r<Ha.length;++r)if(Ha[r][1]==n)return Ha[r];for(r=0;r<dd.length;++r)if(dd[r][1]==n)return dd[r];throw n}).forEach(function(n){if(null!=e[n[1]]){var r=t&&t.Props&&null!=t.Props[n[1]]?t.Props[n[1]]:e[n[1]];"date"===n[2]&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof r?r=String(r):!0===r||!1===r?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),i.push(Mn(QD[n[1]]||n[1],r))}}),Fe("DocumentProperties",i.join(""),{xmlns:ds.o})}(e.Props,t)),e.Custprops&&i.push(function Oxe(e,t){var i=["Worksheets","SheetNames"],n="CustomDocumentProperties",r=[];return e&&Ii(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<Ha.length;++o)if(s==Ha[o][1])return;for(o=0;o<dd.length;++o)if(s==dd[o][1])return;for(o=0;o<i.length;++o)if(s==i[o])return;var a=e[s],l="string";"number"==typeof a?(l="float",a=String(a)):!0===a||!1===a?(l="boolean",a=a?"1":"0"):a=String(a),r.push(Fe(EG(s),a,{"dt:dt":l}))}}),t&&Ii(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&(!e||!Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],a="string";"number"==typeof o?(a="float",o=String(o)):!0===o||!1===o?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),r.push(Fe(EG(s),o,{"dt:dt":a}))}}),"<"+n+' xmlns="'+ds.o+'">'+r.join("")+"</"+n+">"}(e.Props,e.Custprops)),i.join("")}(e,t)),i.push(""),i.push(""),i.push("");for(var n=0;n<e.SheetNames.length;++n)i.push(Fe("Worksheet",gMe(n,t,e),{"ss:Name":ri(e.SheetNames[n])}));return i[2]=function aMe(e,t){var i=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,r){var s=[];s.push(Fe("NumberFormat",null,{"ss:Format":ri(Ke[n.numFmtId])}));var o={"ss:ID":"s"+(21+r)};i.push(Fe("Style",s.join(""),o))}),Fe("Styles",i.join(""))}(0,t),i[3]=function lMe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,i=[],n=0;n<t.length;++n){var r=t[n];null==r.Sheet&&(r.Name.match(/^_xlfn\./)||i.push(N8(r)))}return Fe("Names",i.join(""))}(e),Oi+Fe("Workbook",i.join(""),{xmlns:ds.ss,"xmlns:o":ds.o,"xmlns:x":ds.x,"xmlns:ss":ds.ss,"xmlns:dt":ds.dt,"xmlns:html":ds.html})}var Ng={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};var Bg={0:{f:function $Ae(e,t){var i={},n=e.l+t;i.r=e.read_shift(4),e.l+=4;var r=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,7&s&&(i.level=7&s),16&s&&(i.hidden=!0),32&s&&(i.hpt=r/20),i}},1:{f:function eRe(e){return[Vs(e)]}},2:{f:function _Re(e){return[Vs(e),jD(e),"n"]}},3:{f:function lRe(e){return[Vs(e),e.read_shift(1),"e"]}},4:{f:function rRe(e){return[Vs(e),e.read_shift(1),"b"]}},5:{f:function mRe(e){return[Vs(e),Kn(e),"n"]}},6:{f:function SRe(e){return[Vs(e),$n(e),"str"]}},7:{f:function hRe(e){return[Vs(e),e.read_shift(4),"s"]}},8:{f:function MRe(e,t,i){var n=e.l+t,r=Vs(e);r.r=i["!row"];var o=[r,$n(e),"str"];if(i.cellFormula){e.l+=2;var a=B_(e,n-e.l,i);o[3]=Xn(a,0,r,i.supbooks,i)}else e.l=n;return o}},9:{f:function FRe(e,t,i){var n=e.l+t,r=Vs(e);r.r=i["!row"];var o=[r,Kn(e),"n"];if(i.cellFormula){e.l+=2;var a=B_(e,n-e.l,i);o[3]=Xn(a,0,r,i.supbooks,i)}else e.l=n;return o}},10:{f:function ARe(e,t,i){var n=e.l+t,r=Vs(e);r.r=i["!row"];var o=[r,e.read_shift(1),"b"];if(i.cellFormula){e.l+=2;var a=B_(e,n-e.l,i);o[3]=Xn(a,0,r,i.supbooks,i)}else e.l=n;return o}},11:{f:function RRe(e,t,i){var n=e.l+t,r=Vs(e);r.r=i["!row"];var o=[r,e.read_shift(1),"e"];if(i.cellFormula){e.l+=2;var a=B_(e,n-e.l,i);o[3]=Xn(a,0,r,i.supbooks,i)}else e.l=n;return o}},12:{f:function iRe(e){return[sd(e)]}},13:{f:function wRe(e){return[sd(e),jD(e),"n"]}},14:{f:function dRe(e){return[sd(e),e.read_shift(1),"e"]}},15:{f:function oRe(e){return[sd(e),e.read_shift(1),"b"]}},16:{f:function T8(e){return[sd(e),Kn(e),"n"]}},17:{f:function DRe(e){return[sd(e),$n(e),"str"]}},18:{f:function pRe(e){return[sd(e),e.read_shift(4),"s"]}},19:{f:GD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function TFe(e,t,i){var n=e.l+t;e.l+=4,e.l+=1;var r=e.read_shift(4),s=axe(e),o=lAe(e,0,i),a=zD(e);e.l=n;var l={Name:s,Ptg:o};return r<268435455&&(l.Sheet=r),a&&(l.Comment=a),l}},40:{},42:{},43:{f:function SEe(e,t,i){var n={};n.sz=e.read_shift(2)/20;var r=function dxe(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(r.fItalic&&(n.italic=1),r.fCondense&&(n.condense=1),r.fExtend&&(n.extend=1),r.fShadow&&(n.shadow=1),r.fOutline&&(n.outline=1),r.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var o=e.read_shift(1);0!=o&&(n.underline=o);var a=e.read_shift(1);a>0&&(n.family=a);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=function cxe(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var c=cd[r];c&&(t.rgb=Tg(c));break;case 2:t.rgb=Tg([o,a,l]);break;case 3:t.theme=r}return 0!=s&&(t.tint=s>0?s/32767:s/32768),t}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=$n(e),n}},44:{f:function bEe(e,t){return[e.read_shift(2),$n(e)]}},45:{f:TEe},46:{f:REe},47:{f:function AEe(e,t){var i=e.l+t,n=e.read_shift(2),r=e.read_shift(2);return e.l=i,{ixfe:n,numFmtId:r}}},48:{},49:{f:function exe(e){return e.read_shift(4,"i")}},50:{},51:{f:function cDe(e){for(var t=[],i=e.read_shift(4);i-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function U5(e,t,i){if(!i.cellStyles)return jn(e,t);var n=i&&i.biff>=12?4:2,r=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),a=e.read_shift(n),l=e.read_shift(2);2==n&&(e.l+=2);var c={s:r,e:s,w:o,ixfe:a,flags:l};return(i.biff>=5||!i.biff)&&(c.level=l>>8&7),c}},62:{f:function xRe(e){return[Vs(e),GD(e),"is"]}},63:{f:function CDe(e){var t={};t.i=e.read_shift(4);var i={};i.r=e.read_shift(4),i.c=e.read_shift(4),t.r=Ze(i);var n=e.read_shift(1);return 2&n&&(t.l="1"),8&n&&(t.a="1"),t}},64:{f:function KRe(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:jn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function WRe(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function QAe(e,t){var i={},n=e[e.l];return++e.l,i.above=!(64&n),i.left=!(128&n),e.l+=18,i.name=oxe(e,t-19),i}},148:{f:YAe,p:16},151:{f:function NRe(){}},152:{},153:{f:function SFe(e,t){var i={},n=e.read_shift(4);i.defaultThemeVersion=e.read_shift(4);var r=t>8?$n(e):"";return r.length>0&&(i.CodeName=r),i.autoCompressPictures=!!(65536&n),i.backupFile=!!(64&n),i.checkCompatibility=!!(4096&n),i.date1904=!!(1&n),i.filterPrivacy=!!(8&n),i.hidePivotFieldList=!!(1024&n),i.promptedSolutions=!!(16&n),i.publishItems=!!(2048&n),i.refreshAllConnections=!!(262144&n),i.saveExternalLinkValues=!!(128&n),i.showBorderUnselectedTables=!!(4&n),i.showInkAnnotation=!!(32&n),i.showObjects=["all","placeholders","none"][n>>13&3],i.showPivotChartFilter=!!(32768&n),i.updateLinks=["userSet","never","always"][n>>8&3],i}},154:{},155:{},156:{f:function bFe(e,t){var i={};return i.Hidden=e.read_shift(4),i.iTabID=e.read_shift(4),i.strRelID=WD(e,t-8),i.name=$n(e),i}},157:{},158:{},159:{T:1,f:function U1e(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:ad},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:kRe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function aDe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:$n(e)}}},336:{T:-1},337:{f:function hDe(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:WD},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function z5(e,t,i){if(i.biff<8)return function YSe(e,t,i){3==e[e.l+1]&&e[e.l]++;var n=Eg(e,0,i);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,i);for(var n=[],r=e.l+t,s=e.read_shift(i.biff>8?4:2);0!=s--;)n.push(nSe(e,0,i));if(e.l!=r)throw new Error("Bad ExternSheet: "+e.l+" != "+r);return n}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function BRe(e,t,i){var n=e.l+t,r=JG(e),s=e.read_shift(1),o=[r];if(o[2]=s,i.cellFormula){var a=aAe(e,n-e.l,i);o[1]=a}else e.l=n;return o}},427:{f:function VRe(e,t,i){var n=e.l+t,s=[ad(e,16)];if(i.cellFormula){var o=cAe(e,n-e.l,i);s[1]=o,e.l=n}else e.l=n;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function GRe(e){var t={};return A8.forEach(function(i){t[i]=Kn(e)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function ZAe(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function ORe(e,t){var i=e.l+t,n=ad(e,16),r=zD(e),s=$n(e),o=$n(e),a=$n(e);e.l=i;var l={rfx:n,relId:r,loc:s,display:a};return o&&(l.Tooltip=o),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:WD},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:RDe},633:{T:1},634:{T:-1},635:{T:1,f:function TDe(e){var t={};t.iauthor=e.read_shift(4);var i=ad(e,16);return t.rfx=i.s,t.ref=Ze(i.s),e.l+=16,t}},636:{T:-1},637:{f:rxe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function uFe(e,t){return e.l+=10,{name:$n(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function qRe(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ke(e,t,i,n){var r=t;if(!isNaN(r)){var s=n||(i||[]).length||0,o=e.next(4);o.write_shift(2,r),o.write_shift(2,s),s>0&&ND(i)&&e.push(i)}}function Vg(e,t,i){return e||(e=se(7)),e.write_shift(2,t),e.write_shift(2,i),e.write_shift(2,0),e.write_shift(1,0),e}function TMe(e,t,i,n){if(null!=t.v)switch(t.t){case"d":case"n":var r="d"==t.t?_n(Di(t.v)):t.v;return void(r==(0|r)&&r>=0&&r<65536?ke(e,2,function A1e(e,t,i){var n=se(9);return Vg(n,e,t),n.write_shift(2,i),n}(i,n,r)):ke(e,3,function D1e(e,t,i){var n=se(15);return Vg(n,e,t),n.write_shift(8,i,"f"),n}(i,n,r)));case"b":case"e":return void ke(e,5,function EMe(e,t,i,n){var r=se(9);return Vg(r,e,t),D5(i,n||"b",r),r}(i,n,t.v,t.t));case"s":case"str":return void ke(e,4,function DMe(e,t,i){var n=se(8+2*i.length);return Vg(n,e,t),n.write_shift(1,i.length),n.write_shift(i.length,i,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(i,n,(t.v||"").slice(0,255)))}ke(e,1,Vg(null,i,n))}function LMe(e,t,i,n,r){var s=16+Kl(r.cellXfs,t,r);if(null!=t.v||t.bf)if(t.bf)ke(e,6,function oAe(e,t,i,n,r){var s=fd(t,i,r),o=function sAe(e){if(null==e){var t=se(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return ld("number"==typeof e?e:0)}(e.v),a=se(6);a.write_shift(2,33),a.write_shift(4,0);for(var c=se(e.bf.length),d=0;d<e.bf.length;++d)c[d]=e.bf[d];return Cn([s,o,a,c])}(t,i,n,0,s));else switch(t.t){case"d":case"n":ke(e,515,function $Se(e,t,i,n){var r=se(14);return fd(e,t,n,r),ld(i,r),r}(i,n,"d"==t.t?_n(Di(t.v)):t.v,s));break;case"b":case"e":ke(e,517,function USe(e,t,i,n,r,s){var o=se(8);return fd(e,t,n,o),D5(i,s,o),o}(i,n,t.v,s,0,t.t));break;case"s":case"str":r.bookSST?ke(e,253,function FSe(e,t,i,n){var r=se(10);return fd(e,t,n,r),r.write_shift(4,i),r}(i,n,pT(r.Strings,t.v,r.revStrings),s)):ke(e,516,function kSe(e,t,i,n,r){var s=!r||8==r.biff,o=se(+s+8+(1+s)*i.length);return fd(e,t,n,o),o.write_shift(2,i.length),s&&o.write_shift(1,1),o.write_shift((1+s)*i.length,i,s?"utf16le":"sbcs"),o}(i,n,(t.v||"").slice(0,255),s,r));break;default:ke(e,513,fd(i,n,s))}else ke(e,513,fd(i,n,s))}function NMe(e,t,i){var d,n=gr(),r=i.SheetNames[e],s=i.Sheets[r]||{},o=(i||{}).Workbook||{},a=(o.Sheets||[])[e]||{},l=Array.isArray(s),c=8==t.biff,u="",h=[],f=It(s["!ref"]||"A1"),g=c?65536:16384;if(f.e.c>255||f.e.r>=g){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,g-1)}ke(n,2057,iT(0,16,t)),ke(n,13,Hs(1)),ke(n,12,Hs(100)),ke(n,15,vr(!0)),ke(n,17,vr(!1)),ke(n,16,ld(.001)),ke(n,95,vr(!0)),ke(n,42,vr(!1)),ke(n,43,vr(!1)),ke(n,130,Hs(1)),ke(n,128,function WSe(e){var t=se(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),ke(n,131,vr(!1)),ke(n,132,vr(!1)),c&&function OMe(e,t){if(t){var i=0;t.forEach(function(n,r){++i<=256&&n&&ke(e,125,function m1e(e,t){var i=se(12);i.write_shift(2,t),i.write_shift(2,t),i.write_shift(2,256*e.width),i.write_shift(2,0);var n=0;return e.hidden&&(n|=1),i.write_shift(1,n),i.write_shift(1,n=e.level||0),i.write_shift(2,0),i}(H_(r,n),r))})}}(n,s["!cols"]),ke(n,512,function LSe(e,t){var i=8!=t.biff&&t.biff?2:4,n=se(2*i+6);return n.write_shift(i,e.s.r),n.write_shift(i,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(f,t)),c&&(s["!links"]=[]);for(var p=f.s.r;p<=f.e.r;++p){u=Li(p);for(var m=f.s.c;m<=f.e.c;++m){p===f.s.r&&(h[m]=_i(m)),d=h[m]+u;var C=l?(s[p]||[])[m]:s[d];C&&(LMe(n,C,p,m,t),c&&C.l&&s["!links"].push([d,C.l]))}}var v=a.CodeName||a.name||r;return c&&ke(n,574,function ESe(e){var t=se(18),i=1718;return e&&e.RTL&&(i|=64),t.write_shift(2,i),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((o.Views||[])[0])),c&&(s["!merges"]||[]).length&&ke(n,229,function i1e(e){var t=se(2+8*e.length);t.write_shift(2,e.length);for(var i=0;i<e.length;++i)k5(e[i],t);return t}(s["!merges"])),c&&function PMe(e,t){for(var i=0;i<t["!links"].length;++i){var n=t["!links"][i];ke(e,440,l1e(n)),n[1].Tooltip&&ke(e,2048,d1e(n))}delete t["!links"]}(n,s),ke(n,442,T5(v)),c&&function kMe(e,t){var i=se(19);i.write_shift(4,2151),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,3),i.write_shift(1,1),i.write_shift(4,0),ke(e,2151,i),(i=se(39)).write_shift(4,2152),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,3),i.write_shift(1,0),i.write_shift(4,0),i.write_shift(2,1),i.write_shift(4,4),i.write_shift(2,0),k5(It(t["!ref"]||"A1"),i),i.write_shift(4,4),ke(e,2152,i)}(n,s),ke(n,10),n.end()}function BMe(e,t,i){var n=gr(),r=(e||{}).Workbook||{},s=r.Sheets||[],o=r.WBProps||{},a=8==i.biff,l=5==i.biff;ke(n,2057,iT(0,5,i)),"xla"==i.bookType&&ke(n,135),ke(n,225,a?Hs(1200):null),ke(n,193,function Uxe(e,t){t||(t=se(e));for(var i=0;i<e;++i)t.write_shift(1,0);return t}(2)),l&&ke(n,191),l&&ke(n,192),ke(n,226),ke(n,92,function hSe(e,t){var i=!t||8==t.biff,n=se(i?112:54);for(n.write_shift(8==t.biff?2:1,7),i&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(i?0:536870912));n.l<n.length;)n.write_shift(1,i?0:32);return n}(0,i)),ke(n,66,Hs(a?1200:1252)),a&&ke(n,353,Hs(0)),a&&ke(n,448),ke(n,317,function _1e(e){for(var t=se(2*e),i=0;i<e;++i)t.write_shift(2,i+1);return t}(e.SheetNames.length)),a&&e.vbaraw&&ke(n,211),a&&e.vbaraw&&ke(n,442,T5(o.CodeName||"ThisWorkbook")),ke(n,156,Hs(17)),ke(n,25,vr(!1)),ke(n,18,vr(!1)),ke(n,19,Hs(0)),a&&ke(n,431,vr(!1)),a&&ke(n,444,Hs(0)),ke(n,61,function xSe(){var e=se(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),ke(n,64,vr(!1)),ke(n,141,Hs(0)),ke(n,34,vr("true"==function vFe(e){return e.Workbook&&e.Workbook.WBProps&&function xi(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(e.Workbook.WBProps.date1904)?"true":"false"}(e))),ke(n,14,vr(!0)),a&&ke(n,439,vr(!1)),ke(n,218,Hs(0)),function FMe(e,t,i){ke(e,49,function ASe(e,t){var i=e.name||"Arial",n=t&&5==t.biff,s=se(n?15+i.length:16+2*i.length);return s.write_shift(2,20*(e.sz||12)),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,i.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*i.length,i,n?"sbcs":"utf16le"),s}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},i))}(n,0,i),function MMe(e,t,i){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&ke(e,1054,PSe(r,t[r],i))})}(n,e.SSF,i),function IMe(e,t){for(var i=0;i<16;++i)ke(e,224,N5({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ke(e,224,N5(n,0,t))})}(n,i),a&&ke(n,352,vr(!1));var d=n.end(),u=gr();a&&ke(u,140,function h1e(e){return e||(e=se(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),a&&i.Strings&&function SMe(e,t,i,n){var r=n||(i||[]).length||0;if(r<=8224)return ke(e,t,i,r);var s=t;if(!isNaN(s)){for(var o=i.parts||[],a=0,l=0,c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,c),e.push(i.slice(l,l+c)),l+=c;l<r;){for((d=e.next(4)).write_shift(2,60),c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;d.write_shift(2,c),e.push(i.slice(l,l+c)),l+=c}}}(u,252,function vSe(e,t){var i=se(8);i.write_shift(4,e.Count),i.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=qxe(e[r]);var s=Cn([i].concat(n));return s.parts=[i.length].concat(n.map(function(o){return o.length})),s}(i.Strings)),ke(u,10);var h=u.end(),f=gr(),g=0,p=0;for(p=0;p<e.SheetNames.length;++p)g+=(a?12:11)+(a?2:1)*e.SheetNames[p].length;var m=d.length+g+h.length;for(p=0;p<e.SheetNames.length;++p)ke(f,133,gSe({pos:m,hs:(s[p]||{}).Hidden||0,dt:0,name:e.SheetNames[p]},i)),m+=t[p].length;var v=f.end();if(g!=v.length)throw new Error("BS8 "+g+" != "+v.length);var _=[];return d.length&&_.push(d),v.length&&_.push(v),h.length&&_.push(h),Cn(_)}function V8(e,t){for(var i=0;i<=e.SheetNames.length;++i){var n=e.Sheets[e.SheetNames[i]];n&&n["!ref"]&&mr(n["!ref"]).e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[i]+"' extends beyond column IV (255).  Data may be lost.")}var s=t||{};switch(s.biff||2){case 8:case 5:return function VMe(e,t){var i=t||{},n=[];e&&!e.SSF&&(e.SSF=di(Ke)),e&&e.SSF&&(ph(),gg(e.SSF),i.revssf=v_(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF),i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,DT(i),i.cellXfs=[],Kl(i.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var r=0;r<e.SheetNames.length;++r)n[n.length]=NMe(r,i,e);return n.unshift(BMe(e,n,i)),Cn(n)}(e,t);case 4:case 3:case 2:return function RMe(e,t){var i=t||{};null!=ki&&null==i.dense&&(i.dense=ki);for(var n=gr(),r=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==i.sheet&&(r=s);if(0==r&&i.sheet&&e.SheetNames[0]!=i.sheet)throw new Error("Sheet not found: "+i.sheet);return ke(n,4==i.biff?1033:3==i.biff?521:9,iT(0,16,i)),function AMe(e,t,i,n){var o,r=Array.isArray(t),s=It(t["!ref"]||"A1"),a="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=ut(s)}for(var c=s.s.r;c<=s.e.r;++c){a=Li(c);for(var d=s.s.c;d<=s.e.c;++d){c===s.s.r&&(l[d]=_i(d)),o=l[d]+a;var u=r?(t[c]||[])[d]:t[o];u&&TMe(e,u,c,d)}}}(n,e.Sheets[e.SheetNames[r]],0,i),ke(n,10),n.end()}(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function G8(e,t,i,n){for(var r=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,l=0,c=0;c<r.length;++c)if(!(r[c].s.r>i||r[c].s.c>o||r[c].e.r<i||r[c].e.c<o)){if(r[c].s.r<i||r[c].s.c<o){a=-1;break}a=r[c].e.r-r[c].s.r+1,l=r[c].e.c-r[c].s.c+1;break}if(!(a<0)){var d=Ze({r:i,c:o}),u=n.dense?(e[i]||[])[o]:e[d],h=u&&null!=u.v&&(u.h||TG(u.w||(ta(u),u.w)||""))||"",f={};a>1&&(f.rowspan=a),l>1&&(f.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":u&&(f["data-t"]=u&&u.t||"z",null!=u.v&&(f["data-v"]=u.v),null!=u.z&&(f["data-z"]=u.z),u.l&&"#"!=(u.l.Target||"#").charAt(0)&&(h='<a href="'+u.l.Target+'">'+h+"</a>")),f.id=(n.id||"sjs")+"-"+d,s.push(Fe("td",h,f))}}return"<tr>"+s.join("")+"</tr>"}var z8='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',W8="</body></html>";function j8(e,t){var i=t||{},r=null!=i.footer?i.footer:W8,s=[null!=i.header?i.header:z8],o=mr(e["!ref"]);i.dense=Array.isArray(e),s.push(function U8(e,t,i){return[].join("")+"<table"+(i&&i.id?' id="'+i.id+'"':"")+">"}(0,0,i));for(var a=o.s.r;a<=o.e.r;++a)s.push(G8(e,o,a,i));return s.push("</table>"+r),s.join("")}function $8(e,t,i){var n=i||{};null!=ki&&(n.dense=ki);var r=0,s=0;if(null!=n.origin)if("number"==typeof n.origin)r=n.origin;else{var o="string"==typeof n.origin?ji(n.origin):n.origin;r=o.r,s=o.c}var a=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r,c:s}};if(e["!ref"]){var d=mr(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),-1==r&&(c.e.r=r=d.e.r+1)}var u=[],h=0,f=e["!rows"]||(e["!rows"]=[]),g=0,p=0,m=0,C=0,v=0,_=0;for(e["!cols"]||(e["!cols"]=[]);g<a.length&&p<l;++g){var x=a[g];if(q8(x)){if(n.display)continue;f[p]={hidden:!0}}var R=x.children;for(m=C=0;m<R.length;++m){var M=R[m];if(!n.display||!q8(M)){var S=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):MG(M.innerHTML),N=M.getAttribute("data-z")||M.getAttribute("z");for(h=0;h<u.length;++h){var B=u[h];B.s.c==C+s&&B.s.r<p+r&&p+r<=B.e.r&&(C=B.e.c+1-s,h=-1)}_=+M.getAttribute("colspan")||1,((v=+M.getAttribute("rowspan")||1)>1||_>1)&&u.push({s:{r:p+r,c:C+s},e:{r:p+r+(v||1)-1,c:C+s+(_||1)-1}});var j={t:"s",v:S},K=M.getAttribute("data-t")||M.getAttribute("t")||"";null!=S&&(0==S.length?j.t=K||"z":n.raw||0==S.trim().length||"s"==K||("TRUE"===S?j={t:"b",v:!0}:"FALSE"===S?j={t:"b",v:!1}:isNaN(mo(S))?isNaN(gh(S).getDate())||(j={t:"d",v:Di(S)},n.cellDates||(j={t:"n",v:_n(j.v)}),j.z=n.dateNF||Ke[14]):j={t:"n",v:mo(S)})),void 0===j.z&&null!=N&&(j.z=N);var z="",Ce=M.getElementsByTagName("A");if(Ce&&Ce.length)for(var Oe=0;Oe<Ce.length&&(!Ce[Oe].hasAttribute("href")||"#"==(z=Ce[Oe].getAttribute("href")).charAt(0));++Oe);z&&"#"!=z.charAt(0)&&(j.l={Target:z}),n.dense?(e[p+r]||(e[p+r]=[]),e[p+r][C+s]=j):e[Ze({c:C+s,r:p+r})]=j,c.e.c<C+s&&(c.e.c=C+s),C+=_}}++p}return u.length&&(e["!merges"]=(e["!merges"]||[]).concat(u)),c.e.r=Math.max(c.e.r,p-1+r),e["!ref"]=ut(c),p>=l&&(e["!fullref"]=ut((c.e.r=a.length-g+p-1+r,c))),e}function K8(e,t){return $8((t||{}).dense?[]:{},e,t)}function q8(e){var t="",i=function zMe(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(e);return i&&(t=i(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var UMe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Cg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Oi+t}}(),J8=function(){var e=function(s){return ri(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",n=function(s,o,a){var l=[];l.push('      <table:table table:name="'+ri(o.SheetNames[a])+'" table:style-name="ta1">\n');var c=0,d=0,u=mr(s["!ref"]||"A1"),h=s["!merges"]||[],f=0,g=Array.isArray(s);if(s["!cols"])for(d=0;d<=u.e.c;++d)l.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+"></table:table-column>\n");var m=s["!rows"]||[];for(c=0;c<u.s.r;++c)l.push("        <table:table-row"+(m[c]?' table:style-name="ro'+m[c].ods+'"':"")+"></table:table-row>\n");for(;c<=u.e.r;++c){for(l.push("        <table:table-row"+(m[c]?' table:style-name="ro'+m[c].ods+'"':"")+">\n"),d=0;d<u.s.c;++d)l.push(t);for(;d<=u.e.c;++d){var C=!1,v={},_="";for(f=0;f!=h.length;++f)if(!(h[f].s.c>d||h[f].s.r>c||h[f].e.c<d||h[f].e.r<c)){(h[f].s.c!=d||h[f].s.r!=c)&&(C=!0),v["table:number-columns-spanned"]=h[f].e.c-h[f].s.c+1,v["table:number-rows-spanned"]=h[f].e.r-h[f].s.r+1;break}if(C)l.push("          <table:covered-table-cell/>\n");else{var x=Ze({r:c,c:d}),R=g?(s[c]||[])[d]:s[x];if(R&&R.f&&(v["table:formula"]=ri(hAe(R.f)),R.F&&R.F.slice(0,x.length)==x)){var M=mr(R.F);v["table:number-matrix-columns-spanned"]=M.e.c-M.s.c+1,v["table:number-matrix-rows-spanned"]=M.e.r-M.s.r+1}if(R){switch(R.t){case"b":_=R.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=R.v?"true":"false";break;case"n":_=R.w||String(R.v||0),v["office:value-type"]="float",v["office:value"]=R.v||0;break;case"s":case"str":_=null==R.v?"":R.v,v["office:value-type"]="string";break;case"d":_=R.w||Di(R.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=Di(R.v).toISOString(),v["table:style-name"]="ce1";break;default:l.push(t);continue}var S=e(_);if(R.l&&R.l.Target){var N=R.l.Target;"#"!=(N="#"==N.charAt(0)?"#"+fAe(N.slice(1)):N).charAt(0)&&!N.match(/^\w+:/)&&(N="../"+N),S=Fe("text:a",S,{"xlink:href":N.replace(/&/g,"&amp;")})}l.push("          "+Fe("table:table-cell",Fe("text:p",S,{}),v)+"\n")}else l.push(t)}}l.push("        </table:table-row>\n")}return l.push("      </table:table>\n"),l.join("")};return function(o,a){var l=[Oi],c=Cg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Cg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==a.bookType?(l.push("<office:document"+c+d+">\n"),l.push(a5().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+">\n"),function(s,o){s.push(" <office:automatic-styles>\n"),s.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),s.push('   <number:month number:style="long"/>\n'),s.push("   <number:text>/</number:text>\n"),s.push('   <number:day number:style="long"/>\n'),s.push("   <number:text>/</number:text>\n"),s.push("   <number:year/>\n"),s.push("  </number:date-style>\n");var a=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!cols"])for(var d=0;d<c["!cols"].length;++d)if(c["!cols"][d]){var u=c["!cols"][d];if(null==u.width&&null==u.wpx&&null==u.wch)continue;jl(u),u.ods=a;var h=c["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+a+'" style:family="table-column">\n'),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+'"/>\n'),s.push("  </style:style>\n"),++a}});var l=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!rows"])for(var d=0;d<c["!rows"].length;++d)if(c["!rows"][d]){c["!rows"][d].ods=l;var u=c["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+l+'" style:family="table-row">\n'),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+u+'"/>\n'),s.push("  </style:style>\n"),++l}}),s.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),s.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),s.push("  </style:style>\n"),s.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),s.push(" </office:automatic-styles>\n")}(l,o),l.push("  <office:body>\n"),l.push("    <office:spreadsheet>\n");for(var u=0;u!=o.SheetNames.length;++u)l.push(n(o.Sheets[o.SheetNames[u]],o,u));return l.push("    </office:spreadsheet>\n"),l.push("  </office:body>\n"),l.push("fods"==a.bookType?"</office:document>":"</office:document-content>"),l.join("")}}();function e6(e,t){if("fods"==t.bookType)return J8(e,t);var i=DD(),n="",r=[],s=[];return pt(i,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),pt(i,n="content.xml",J8(e,t)),r.push([n,"text/xml"]),s.push([n,"ContentFile"]),pt(i,n="styles.xml",UMe(e,t)),r.push([n,"text/xml"]),s.push([n,"StylesFile"]),pt(i,n="meta.xml",Oi+a5()),r.push([n,"text/xml"]),s.push([n,"MetadataFile"]),pt(i,n="manifest.rdf",function Axe(e){var t=[Oi];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var i=0;i!=e.length;++i)t.push(o5(e[i][0],e[i][1])),t.push(Txe("",e[i][0]));return t.push(o5("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(s)),r.push([n,"application/rdf+xml"]),pt(i,n="META-INF/manifest.xml",function Dxe(e){var t=[Oi];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var i=0;i<e.length;++i)t.push('  <manifest:file-entry manifest:full-path="'+e[i][0]+'" manifest:media-type="'+e[i][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(r)),i}function md(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function jMe(e){return typeof TextEncoder<"u"?(new TextEncoder).encode(e):as(ea(e))}function ql(e){var t=e.reduce(function(r,s){return r+s.length},0),i=new Uint8Array(t),n=0;return e.forEach(function(r){i.set(r,n),n+=r.length}),i}function Hg(e,t){var i=t?t[0]:0,n=127&e[i];e:if(e[i++]>=128&&(n|=(127&e[i])<<7,e[i++]<128||(n|=(127&e[i])<<14,e[i++]<128)||(n|=(127&e[i])<<21,e[i++]<128)||(n+=(127&e[i])*Math.pow(2,28),++i,e[i++]<128)||(n+=(127&e[i])*Math.pow(2,35),++i,e[i++]<128)||(n+=(127&e[i])*Math.pow(2,42),++i,e[i++]<128)))break e;return t&&(t[0]=i),n}function Qt(e){var t=new Uint8Array(7);t[0]=127&e;var i=1;e:if(e>127){if(t[i-1]|=128,t[i]=e>>7&127,++i,e<=16383||(t[i-1]|=128,t[i]=e>>14&127,++i,e<=2097151)||(t[i-1]|=128,t[i]=e>>21&127,++i,e<=268435455)||(t[i-1]|=128,t[i]=e/256>>>21&127,++i,e<=34359738367)||(t[i-1]|=128,t[i]=e/65536>>>21&127,++i,e<=4398046511103))break e;t[i-1]|=128,t[i]=e/16777216>>>21&127,++i}return t.slice(0,i)}function Ni(e){var t=0,i=127&e[t];e:if(e[t++]>=128){if(i|=(127&e[t])<<7,e[t++]<128||(i|=(127&e[t])<<14,e[t++]<128)||(i|=(127&e[t])<<21,e[t++]<128))break e;i|=(127&e[t])<<28}return i}function Ht(e){for(var t=[],i=[0];i[0]<e.length;){var a,n=i[0],r=Hg(e,i),s=7&r,o=0;if(0==(r=Math.floor(r/8)))break;switch(s){case 0:for(var l=i[0];e[i[0]++]>=128;);a=e.slice(l,i[0]);break;case 5:a=e.slice(i[0],i[0]+(o=4)),i[0]+=o;break;case 1:a=e.slice(i[0],i[0]+(o=8)),i[0]+=o;break;case 2:o=Hg(e,i),a=e.slice(i[0],i[0]+o),i[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(r," at offset ").concat(n))}var c={data:a,type:s};null==t[r]?t[r]=[c]:t[r].push(c)}return t}function xn(e){var t=[];return e.forEach(function(i,n){i.forEach(function(r){r.data&&(t.push(Qt(8*n+r.type)),2==r.type&&t.push(Qt(r.data.length)),t.push(r.data))})}),ql(t)}function Gs(e){for(var t,i=[],n=[0];n[0]<e.length;){var r=Hg(e,n),s=Ht(e.slice(n[0],n[0]+r));n[0]+=r;var o={id:Ni(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=Ht(a.data),c=Ni(l[3][0].data);o.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),null!=(t=s[3])&&t[0]&&(o.merge=Ni(s[3][0].data)>>>0>0),i.push(o)}return i}function Eh(e){var t=[];return e.forEach(function(i){var n=[];n[1]=[{data:Qt(i.id),type:0}],n[2]=[],null!=i.merge&&(n[3]=[{data:Qt(+!!i.merge),type:0}]);var r=[];i.messages.forEach(function(o){r.push(o.data),o.meta[3]=[{type:0,data:Qt(o.data.length)}],n[2].push({data:xn(o.meta),type:2})});var s=xn(n);t.push(Qt(s.length)),t.push(s),r.forEach(function(o){return t.push(o)})}),ql(t)}function YMe(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var i=[0],n=Hg(t,i),r=[];i[0]<t.length;){var s=3&t[i[0]];if(0!=s){var l=0,c=0;if(1==s?(c=4+(t[i[0]]>>2&7),l=(224&t[i[0]++])<<3,l|=t[i[0]++]):(c=1+(t[i[0]++]>>2),2==s?(l=t[i[0]]|t[i[0]+1]<<8,i[0]+=2):(l=(t[i[0]]|t[i[0]+1]<<8|t[i[0]+2]<<16|t[i[0]+3]<<24)>>>0,i[0]+=4)),r=[ql(r)],0==l)throw new Error("Invalid offset 0");if(l>r[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(r.push(r[0].slice(-l)),c-=l;c>=r[r.length-1].length;)r.push(r[r.length-1]),c-=r[r.length-1].length;r.push(r[0].slice(-l,-l+c))}else{var o=t[i[0]++]>>2;if(o<60)++o;else{var a=o-59;o=t[i[0]],a>1&&(o|=t[i[0]+1]<<8),a>2&&(o|=t[i[0]+2]<<16),a>3&&(o|=t[i[0]+3]<<24),o>>>=0,o++,i[0]+=a}r.push(t.slice(i[0],i[0]+o)),i[0]+=o}}var d=ql(r);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function zs(e){for(var t=[],i=0;i<e.length;){var n=e[i++],r=e[i]|e[i+1]<<8|e[i+2]<<16;t.push(YMe(n,e.slice(i+=3,i+r))),i+=r}if(i!==e.length)throw new Error("data is not a valid framed stream!");return ql(t)}function Dh(e){for(var t=[],i=0;i<e.length;){var n=Math.min(e.length-i,268435455),r=new Uint8Array(4);t.push(r);var s=Qt(n),o=s.length;t.push(s),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(i,i+n)),o+=n,r[0]=0,r[1]=255&o,r[2]=o>>8&255,r[3]=o>>16&255,i+=n}return ql(t)}function bT(e,t){var i=new Uint8Array(32),n=md(i),r=12,s=0;switch(i[0]=5,e.t){case"n":i[1]=2,function qMe(e,t,i){var n=Math.floor(0==i?0:Math.LOG10E*Math.log(Math.abs(i)))+6176-20,r=i/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(127&n)<<1;for(var s=0;r>=1;++s,r/=256)e[t+s]=255&r;e[t+15]|=i>=0?0:128}(i,r,e.v),s|=1,r+=16;break;case"b":i[1]=6,n.setFloat64(r,e.v?1:0,!0),s|=2,r+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));i[1]=3,n.setUint32(r,t.indexOf(e.v),!0),s|=8,r+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),i.slice(0,r)}function xT(e,t){var i=new Uint8Array(32),n=md(i),r=12,s=0;switch(i[0]=3,e.t){case"n":i[2]=2,n.setFloat64(r,e.v,!0),s|=32,r+=8;break;case"b":i[2]=6,n.setFloat64(r,e.v?1:0,!0),s|=32,r+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));i[2]=3,n.setUint32(r,t.indexOf(e.v),!0),s|=16,r+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),i.slice(0,r)}function Zn(e){return Hg(Ht(e)[1][0].data)}function ske(e,t,i){var n,r,s,o;if(null==(n=e[6])||!n[0]||null==(r=e[7])||!r[0])throw"Mutation only works on post-BNC storages!";if((null==(o=null==(s=e[8])?void 0:s[0])?void 0:o.data)&&Ni(e[8][0].data)>0)throw"Math only works with normal offsets";for(var l=0,c=md(e[7][0].data),d=0,u=[],h=md(e[4][0].data),f=0,g=[],p=0;p<t.length;++p)if(null!=t[p]){var m,C;switch(c.setUint16(2*p,d,!0),h.setUint16(2*p,f,!0),typeof t[p]){case"string":m=bT({t:"s",v:t[p]},i),C=xT({t:"s",v:t[p]},i);break;case"number":m=bT({t:"n",v:t[p]},i),C=xT({t:"n",v:t[p]},i);break;case"boolean":m=bT({t:"b",v:t[p]},i),C=xT({t:"b",v:t[p]},i);break;default:throw new Error("Unsupported value "+t[p])}u.push(m),d+=m.length,g.push(C),f+=C.length,++l}else c.setUint16(2*p,65535,!0),h.setUint16(2*p,65535);for(e[2][0].data=Qt(l);p<e[7][0].data.length/2;++p)c.setUint16(2*p,65535,!0),h.setUint16(2*p,65535,!0);return e[6][0].data=ql(u),e[3][0].data=ql(g),l}function DT(e){!function n6(e){return function(i){for(var n=0;n!=e.length;++n){var r=e[n];void 0===i[r[0]]&&(i[r[0]]=r[1]),"n"===r[2]&&(i[r[0]]=Number(i[r[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function hke(e,t){return"ods"==t.bookType?e6(e,t):"numbers"==t.bookType?function oke(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var i=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=mr(i["!ref"]);n.s.r=n.s.c=0;var r=!1;n.e.c>9&&(r=!0,n.e.c=9),n.e.r>49&&(r=!0,n.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(ut(n)));var s=U_(i,{range:n,header:1}),o=["~Sh33tJ5~"];s.forEach(function(V){return V.forEach(function(G){"string"==typeof G&&o.push(G)})});var a={},l=[],c=je.read(t.numbers,{type:"base64"});c.FileIndex.map(function(V,G){return[V,c.FullPaths[G]]}).forEach(function(V){var G=V[0],oe=V[1];2==G.type&&G.name.match(/\.iwa/)&&Gs(zs(G.content)).forEach(function(fe){l.push(fe.id),a[fe.id]={deps:[],location:oe,type:Ni(fe.messages[0].meta[1][0].data)}})}),l.sort(function(V,G){return V-G});var d=l.filter(function(V){return V>1}).map(function(V){return[V,Qt(V)]});c.FileIndex.map(function(V,G){return[V,c.FullPaths[G]]}).forEach(function(V){var G=V[0];G.name.match(/\.iwa/)&&Gs(zs(G.content)).forEach(function(be){be.messages.forEach(function(we){d.forEach(function(fe){be.messages.some(function(Qe){return 11006!=Ni(Qe.meta[1][0].data)&&function $Me(e,t){e:for(var i=0;i<=e.length-t.length;++i){for(var n=0;n<t.length;++n)if(e[i+n]!=t[n])continue e;return!0}return!1}(Qe.data,fe[1])})&&a[fe[0]].deps.push(be.id)})})})});for(var g,h=je.find(c,a[1].location),f=Gs(zs(h.content)),p=0;p<f.length;++p){var m=f[p];1==m.id&&(g=m)}var C=Zn(Ht(g.messages[0].data)[1][0].data);for(f=Gs(zs((h=je.find(c,a[C].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==C&&(g=m);for(C=Zn(Ht(g.messages[0].data)[2][0].data),f=Gs(zs((h=je.find(c,a[C].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==C&&(g=m);for(C=Zn(Ht(g.messages[0].data)[2][0].data),f=Gs(zs((h=je.find(c,a[C].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==C&&(g=m);var v=Ht(g.messages[0].data);v[6][0].data=Qt(n.e.r+1),v[7][0].data=Qt(n.e.c+1);for(var _=Zn(v[46][0].data),x=je.find(c,a[_].location),R=Gs(zs(x.content)),M=0;M<R.length&&R[M].id!=_;++M);if(R[M].id!=_)throw"Bad ColumnRowUIDMapArchive";var S=Ht(R[M].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var N=0;N<=n.e.c;++N){var B=[];B[1]=B[2]=[{type:0,data:Qt(N+420690)}],S[1].push({type:2,data:xn(B)}),S[2].push({type:0,data:Qt(N)}),S[3].push({type:0,data:Qt(N)})}S[4]=[],S[5]=[],S[6]=[];for(var j=0;j<=n.e.r;++j)(B=[])[1]=B[2]=[{type:0,data:Qt(j+726270)}],S[4].push({type:2,data:xn(B)}),S[5].push({type:0,data:Qt(j)}),S[6].push({type:0,data:Qt(j)});R[M].messages[0].data=xn(S),x.content=Dh(Eh(R)),x.size=x.content.length,delete v[46];var K=Ht(v[4][0].data);K[7][0].data=Qt(n.e.r+1);var Ce=Zn(Ht(K[1][0].data)[2][0].data);if((R=Gs(zs((x=je.find(c,a[Ce].location)).content)))[0].id!=Ce)throw"Bad HeaderStorageBucket";var Oe=Ht(R[0].messages[0].data);for(j=0;j<s.length;++j){var Re=Ht(Oe[2][0].data);Re[1][0].data=Qt(j),Re[4][0].data=Qt(s[j].length),Oe[2][j]={type:Oe[2][0].type,data:xn(Re)}}R[0].messages[0].data=xn(Oe),x.content=Dh(Eh(R)),x.size=x.content.length;var ae=Zn(K[2][0].data);if((R=Gs(zs((x=je.find(c,a[ae].location)).content)))[0].id!=ae)throw"Bad HeaderStorageBucket";for(Oe=Ht(R[0].messages[0].data),N=0;N<=n.e.c;++N)(Re=Ht(Oe[2][0].data))[1][0].data=Qt(N),Re[4][0].data=Qt(n.e.r+1),Oe[2][N]={type:Oe[2][0].type,data:xn(Re)};R[0].messages[0].data=xn(Oe),x.content=Dh(Eh(R)),x.size=x.content.length;var le=Zn(K[4][0].data);!function(){for(var oe,V=je.find(c,a[le].location),G=Gs(zs(V.content)),Ee=0;Ee<G.length;++Ee){var be=G[Ee];be.id==le&&(oe=be)}var we=Ht(oe.messages[0].data);we[3]=[];var fe=[];o.forEach(function(Gt,_t){fe[1]=[{type:0,data:Qt(_t)}],fe[2]=[{type:0,data:Qt(1)}],fe[3]=[{type:2,data:jMe(Gt)}],we[3].push({type:2,data:xn(fe)})}),oe.messages[0].data=xn(we);var H=Dh(Eh(G));V.content=H,V.size=V.content.length}();var Ae=Ht(K[3][0].data),he=Ae[1][0];delete Ae[2];var He=Ht(he.data),ue=Zn(He[2][0].data);!function(){for(var oe,V=je.find(c,a[ue].location),G=Gs(zs(V.content)),Ee=0;Ee<G.length;++Ee){var be=G[Ee];be.id==ue&&(oe=be)}var we=Ht(oe.messages[0].data);delete we[6],delete Ae[7];var fe=new Uint8Array(we[5][0].data);we[5]=[];for(var Qe=0,H=0;H<=n.e.r;++H){var Gt=Ht(fe);Qe+=ske(Gt,s[H],o),Gt[1][0].data=Qt(H),we[5].push({data:xn(Gt),type:2})}we[1]=[{type:0,data:Qt(n.e.c+1)}],we[2]=[{type:0,data:Qt(n.e.r+1)}],we[3]=[{type:0,data:Qt(Qe)}],we[4]=[{type:0,data:Qt(n.e.r+1)}],oe.messages[0].data=xn(we);var Yt=Dh(Eh(G));V.content=Yt,V.size=V.content.length}(),he.data=xn(He),K[3][0].data=xn(Ae),v[4][0].data=xn(K),g.messages[0].data=xn(v);var q=Dh(Eh(f));return h.content=q,h.size=h.content.length,c}(e,t):"xlsb"==t.bookType?function fke(e,t){bh=1024,e&&!e.SSF&&(e.SSF=di(Ke)),e&&e.SSF&&(ph(),gg(e.SSF),t.revssf=v_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Og?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var i="xlsb"==t.bookType?"bin":"xml",n=h8.indexOf(t.bookType)>-1,r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};DT(t=t||{});var s=DD(),o="",a=0;if(t.cellXfs=[],Kl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),pt(s,o="docProps/core.xml",c5(e.Props,t)),r.coreprops.push(o),Zt(t.rels,2,o,ht.CORE_PROPS),o="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;for(e.Props.Worksheets=e.Props.SheetNames.length,pt(s,o,h5(e.Props)),r.extprops.push(o),Zt(t.rels,3,o,ht.EXT_PROPS),e.Custprops!==e.Props&&Ii(e.Custprops||{}).length>0&&(pt(s,o="docProps/custom.xml",f5(e.Custprops)),r.custprops.push(o),Zt(t.rels,4,o,ht.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var d={"!id":{}},u=e.Sheets[e.SheetNames[a-1]];if(pt(s,o="xl/worksheets/sheet"+a+"."+i,KFe(a-1,o,t,e,d)),r.sheets.push(o),Zt(t.wbrels,-1,"worksheets/sheet"+a+"."+i,ht.WS[0]),u){var f=u["!comments"],g=!1,p="";f&&f.length>0&&(pt(s,p="xl/comments"+a+"."+i,XFe(f,p,t)),r.comments.push(p),Zt(d,-1,"../comments"+a+"."+i,ht.CMNT),g=!0),u["!legacy"]&&g&&pt(s,"xl/drawings/vmlDrawing"+a+".vml",c8(a,u["!comments"])),delete u["!comments"],delete u["!legacy"]}d["!id"].rId1&&pt(s,xg(o),yh(d))}return null!=t.Strings&&t.Strings.length>0&&(pt(s,o="xl/sharedStrings."+i,function YFe(e,t,i){return(".bin"===t.slice(-4)?q1e:Y5)(e,i)}(t.Strings,o,t)),r.strs.push(o),Zt(t.wbrels,-1,"sharedStrings."+i,ht.SST)),pt(s,o="xl/workbook."+i,function $Fe(e,t,i){return(".bin"===t.slice(-4)?IFe:P8)(e,i)}(e,o,t)),r.workbooks.push(o),Zt(t.rels,1,o,ht.WB),pt(s,o="xl/theme/theme1.xml",lT(e.Themes,t)),r.themes.push(o),Zt(t.wbrels,-1,"theme/theme1.xml",ht.THEME),pt(s,o="xl/styles."+i,function qFe(e,t,i){return(".bin"===t.slice(-4)?WEe:r8)(e,i)}(e,o,t)),r.styles.push(o),Zt(t.wbrels,-1,"styles."+i,ht.STY),e.vbaraw&&n&&(pt(s,o="xl/vbaProject.bin",e.vbaraw),r.vba.push(o),Zt(t.wbrels,-1,"vbaProject.bin",ht.VBA)),pt(s,o="xl/metadata."+i,function ZFe(e){return(".bin"===e.slice(-4)?gDe:l8)()}(o)),r.metadata.push(o),Zt(t.wbrels,-1,"metadata."+i,ht.XLMETA),pt(s,"[Content_Types].xml",s5(r,t)),pt(s,"_rels/.rels",yh(t.rels)),pt(s,"xl/_rels/workbook."+i+".rels",yh(t.wbrels)),delete t.revssf,delete t.ssf,s}(e,t):function r6(e,t){bh=1024,e&&!e.SSF&&(e.SSF=di(Ke)),e&&e.SSF&&(ph(),gg(e.SSF),t.revssf=v_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Og?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var i="xml",n=h8.indexOf(t.bookType)>-1,r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};DT(t=t||{});var s=DD(),o="",a=0;if(t.cellXfs=[],Kl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),pt(s,o="docProps/core.xml",c5(e.Props,t)),r.coreprops.push(o),Zt(t.rels,2,o,ht.CORE_PROPS),o="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,pt(s,o,h5(e.Props)),r.extprops.push(o),Zt(t.rels,3,o,ht.EXT_PROPS),e.Custprops!==e.Props&&Ii(e.Custprops||{}).length>0&&(pt(s,o="docProps/custom.xml",f5(e.Custprops)),r.custprops.push(o),Zt(t.rels,4,o,ht.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var u={"!id":{}},h=e.Sheets[e.SheetNames[a-1]];if(pt(s,o="xl/worksheets/sheet"+a+"."+i,D8(a-1,t,e,u)),r.sheets.push(o),Zt(t.wbrels,-1,"worksheets/sheet"+a+"."+i,ht.WS[0]),h){var g=h["!comments"],p=!1,m="";if(g&&g.length>0){var C=!1;g.forEach(function(v){v[1].forEach(function(_){1==_.T&&(C=!0)})}),C&&(pt(s,m="xl/threadedComments/threadedComment"+a+"."+i,SDe(g,d,t)),r.threadedcomments.push(m),Zt(u,-1,"../threadedComments/threadedComment"+a+"."+i,ht.TCMNT)),pt(s,m="xl/comments"+a+"."+i,u8(g)),r.comments.push(m),Zt(u,-1,"../comments"+a+"."+i,ht.CMNT),p=!0}h["!legacy"]&&p&&pt(s,"xl/drawings/vmlDrawing"+a+".vml",c8(a,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&pt(s,xg(o),yh(u))}return null!=t.Strings&&t.Strings.length>0&&(pt(s,o="xl/sharedStrings."+i,Y5(t.Strings,t)),r.strs.push(o),Zt(t.wbrels,-1,"sharedStrings."+i,ht.SST)),pt(s,o="xl/workbook."+i,P8(e)),r.workbooks.push(o),Zt(t.rels,1,o,ht.WB),pt(s,o="xl/theme/theme1.xml",lT(e.Themes,t)),r.themes.push(o),Zt(t.wbrels,-1,"theme/theme1.xml",ht.THEME),pt(s,o="xl/styles."+i,r8(e,t)),r.styles.push(o),Zt(t.wbrels,-1,"styles."+i,ht.STY),e.vbaraw&&n&&(pt(s,o="xl/vbaProject.bin",e.vbaraw),r.vba.push(o),Zt(t.wbrels,-1,"vbaProject.bin",ht.VBA)),pt(s,o="xl/metadata."+i,l8()),r.metadata.push(o),Zt(t.wbrels,-1,"metadata."+i,ht.XLMETA),d.length>1&&(pt(s,o="xl/persons/person.xml",function DDe(e){var t=[Oi,Fe("personList",null,{xmlns:en.TCMNT,"xmlns:x":zl[0]}).replace(/[\/]>/,">")];return e.forEach(function(i,n){t.push(Fe("person",null,{displayName:i,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:i,providerId:"None"}))}),t.push("</personList>"),t.join("")}(d)),r.people.push(o),Zt(t.wbrels,-1,"persons/person.xml",ht.PEOPLE)),pt(s,"[Content_Types].xml",s5(r,t)),pt(s,"_rels/.rels",yh(t.rels)),pt(s,"xl/_rels/workbook.xml.rels",yh(t.wbrels)),delete t.revssf,delete t.ssf,s}(e,t)}function o6(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return mg(t.file,je.write(e,{type:Ct?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return je.write(e,t)}function ra(e,t,i){i||(i="");var n=i+e;switch(t.type){case"base64":return ug(ea(n));case"binary":return ea(n);case"string":return e;case"file":return mg(t.file,n,"utf8");case"buffer":return Ct?Oa(n,"utf8"):typeof TextEncoder<"u"?(new TextEncoder).encode(n):ra(n,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function z_(e,t){switch(t.type){case"string":case"base64":case"binary":for(var i="",n=0;n<e.length;++n)i+=String.fromCharCode(e[n]);return"base64"==t.type?ug(i):"string"==t.type?Ci(i):i;case"file":return mg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function W_(e,t){(function u_(){Ls(1200),function zwe(){d_(1252)}()})(),function I8(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");!function _Fe(e,t,i){e.forEach(function(n,r){k8(n);for(var s=0;s<r;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(i){var o=t&&t[r]&&t[r].CodeName||n;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}(e.SheetNames,e.Workbook&&e.Workbook.Sheets||[],!!e.vbaraw);for(var i=0;i<e.SheetNames.length;++i)gAe(e.Sheets[e.SheetNames[i]],0,i)}(e);var i=di(t||{});if(i.cellStyles&&(i.cellNF=!0,i.sheetStubs=!0),"array"==i.type){i.type="binary";var n=W_(e,i);return i.type="array",hg(n)}var r=0;if(i.sheet&&(r="number"==typeof i.sheet?i.sheet:e.SheetNames.indexOf(i.sheet),!e.SheetNames[r]))throw new Error("Sheet not found: "+i.sheet+" : "+typeof i.sheet);switch(i.bookType||"xlsb"){case"xml":case"xlml":return ra(mMe(e,i),i);case"slk":case"sylk":return ra(j5.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"htm":case"html":return ra(j8(e.Sheets[e.SheetNames[r]],i),i);case"txt":return function bke(e,t){switch(t.type){case"base64":return ug(e);case"binary":case"string":return e;case"file":return mg(t.file,e,"binary");case"buffer":return Ct?Oa(e,"binary"):e.split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(h6(e.Sheets[e.SheetNames[r]],i),i);case"csv":return ra(MT(e.Sheets[e.SheetNames[r]],i),i,"\ufeff");case"dif":return ra($5.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"dbf":return z_(nT.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"prn":return ra(wh.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"rtf":return ra(e8.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"eth":return ra(K5.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"fods":return ra(e6(e,i),i);case"wk1":return z_(pd.sheet_to_wk1(e.Sheets[e.SheetNames[r]],i),i);case"wk3":return z_(pd.book_to_wk3(e,i),i);case"biff2":i.biff||(i.biff=2);case"biff3":i.biff||(i.biff=3);case"biff4":return i.biff||(i.biff=4),z_(V8(e,i),i);case"biff5":i.biff||(i.biff=5);case"biff8":case"xla":case"xls":return i.biff||(i.biff=8),function wke(e,t){var i=t||{};return o6(function xMe(e,t){var i=t||{},n=je.utils.cfb_new({root:"R"}),r="/Workbook";switch(i.bookType||"xls"){case"xls":i.bookType="biff8";case"xla":i.bookType||(i.bookType="xla");case"biff8":r="/Workbook",i.biff=8;break;case"biff5":r="/Book",i.biff=5;break;default:throw new Error("invalid type "+i.bookType+" for XLS CFB")}return je.utils.cfb_add(n,r,V8(e,i)),8==i.biff&&(e.Props||e.Custprops)&&function bMe(e,t){var o,i=[],n=[],r=[],s=0,a=pG(KD,"n"),l=pG(qD,"n");if(e.Props)for(o=Ii(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?i:Object.prototype.hasOwnProperty.call(l,o[s])?n:r).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=Ii(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?i:Object.prototype.hasOwnProperty.call(l,o[s])?n:r).push([o[s],e.Custprops[o[s]]]);var c=[];for(s=0;s<r.length;++s)w5.indexOf(r[s][0])>-1||d5.indexOf(r[s][0])>-1||null!=r[s][1]&&c.push(r[s]);n.length&&je.utils.cfb_add(t,"/\x05SummaryInformation",S5(n,Ng.SI,l,qD)),(i.length||c.length)&&je.utils.cfb_add(t,"/\x05DocumentSummaryInformation",S5(i,Ng.DSI,a,KD,c.length?c:null,Ng.UDI))}(e,n),8==i.biff&&e.vbaraw&&function ODe(e,t){t.FullPaths.forEach(function(i,n){if(0!=n){var r=i.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==r.slice(-1)&&je.utils.cfb_add(e,r,t.FileIndex[n].content)}})}(n,je.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}(e,i),i)}(e,i);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function _ke(e,t){var i=di(t||{});return function a6(e,t){var i={},n=Ct?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(i.compression="DEFLATE"),t.password)i.type=n;else switch(t.type){case"base64":i.type="base64";break;case"binary":i.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":i.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var r=e.FullPaths?je.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[i.type]||i.type,compression:!!t.compression}):e.generate(i);if(typeof Deno<"u"&&"string"==typeof r){if("binary"==t.type||"base64"==t.type)return r;r=new Uint8Array(hg(r))}return t.password&&typeof encrypt_agile<"u"?o6(encrypt_agile(r,t.password),t):"file"===t.type?mg(t.file,r):"string"==t.type?Ci(r):r}(hke(e,i),i)}(e,i);default:throw new Error("Unrecognized bookType |"+i.bookType+"|")}}function c6(e,t,i,n,r,s,o,a){var l=Li(i),c=a.defval,d=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),u=!0,h=1===r?[]:{};if(1!==r)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:i,enumerable:!1})}catch{h.__rowNum__=i}else h.__rowNum__=i;if(!o||e[i])for(var f=t.s.c;f<=t.e.c;++f){var g=o?e[i][f]:e[n[f]+l];if(void 0!==g&&void 0!==g.t){var p=g.v;switch(g.t){case"z":if(null==p)break;continue;case"e":p=0==p?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(null!=s[f]){if(null==p)if("e"==g.t&&null===p)h[s[f]]=null;else if(void 0!==c)h[s[f]]=c;else{if(!d||null!==p)continue;h[s[f]]=null}else h[s[f]]=d&&("n"!==g.t||"n"===g.t&&!1!==a.rawNumbers)?p:ta(g,p,a);null!=p&&(u=!1)}}else{if(void 0===c)continue;null!=s[f]&&(h[s[f]]=c)}}return{row:h,isempty:u}}function U_(e,t){if(null==e||null==e["!ref"])return[];var i={t:"n",v:0},n=0,r=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=null!=c.range?c.range:e["!ref"];switch(1===c.header?n=1:"A"===c.header?n=2:Array.isArray(c.header)?n=3:null==c.header&&(n=0),typeof d){case"string":l=It(d);break;case"number":(l=It(e["!ref"])).s.r=d;break;default:l=d}n>0&&(r=0);var u=Li(l.s.r),h=[],f=[],g=0,p=0,m=Array.isArray(e),C=l.s.r,v=0,_={};m&&!e[C]&&(e[C]=[]);var x=c.skipHidden&&e["!cols"]||[],R=c.skipHidden&&e["!rows"]||[];for(v=l.s.c;v<=l.e.c;++v)if(!(x[v]||{}).hidden)switch(h[v]=_i(v),i=m?e[C][v]:e[h[v]+u],n){case 1:s[v]=v-l.s.c;break;case 2:s[v]=h[v];break;case 3:s[v]=c.header[v-l.s.c];break;default:if(null==i&&(i={w:"__EMPTY",t:"s"}),a=o=ta(i,null,c),p=_[o]||0){do{a=o+"_"+p++}while(_[a]);_[o]=p,_[a]=1}else _[o]=1;s[v]=a}for(C=l.s.r+r;C<=l.e.r;++C)if(!(R[C]||{}).hidden){var M=c6(e,l,C,h,n,s,m,c);(!1===M.isempty||(1===n?!1!==c.blankrows:c.blankrows))&&(f[g++]=M.row)}return f.length=g,f}var d6=/"/g;function u6(e,t,i,n,r,s,o,a){for(var l=!0,c=[],d="",u=Li(i),h=t.s.c;h<=t.e.c;++h)if(n[h]){var f=a.dense?(e[i]||[])[h]:e[n[h]+u];if(null==f)d="";else if(null!=f.v){l=!1,d=""+(a.rawNumbers&&"n"==f.t?f.v:ta(f,null,a));for(var g=0,p=0;g!==d.length;++g)if((p=d.charCodeAt(g))===r||p===s||34===p||a.forceQuotes){d='"'+d.replace(d6,'""')+'"';break}"ID"==d&&(d='"ID"')}else null==f.f||f.F?d="":(l=!1,(d="="+f.f).indexOf(",")>=0&&(d='"'+d.replace(d6,'""')+'"'));c.push(d)}return!1===a.blankrows&&l?null:c.join(o)}function MT(e,t){var i=[],n=t??{};if(null==e||null==e["!ref"])return"";var r=It(e["!ref"]),s=void 0!==n.FS?n.FS:",",o=s.charCodeAt(0),a=void 0!==n.RS?n.RS:"\n",l=a.charCodeAt(0),c=new RegExp(("|"==s?"\\|":s)+"+$"),d="",u=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],f=n.skipHidden&&e["!rows"]||[],g=r.s.c;g<=r.e.c;++g)(h[g]||{}).hidden||(u[g]=_i(g));for(var p=0,m=r.s.r;m<=r.e.r;++m)(f[m]||{}).hidden||null!=(d=u6(e,r,m,u,o,l,s,n))&&(n.strip&&(d=d.replace(c,"")),(d||!1!==n.blankrows)&&i.push((p++?a:"")+d));return delete n.dense,i.join("")}function h6(e,t){t||(t={}),t.FS="\t",t.RS="\n";var i=MT(e,t);if(typeof Lt>"u"||"string"==t.type)return i;var n=Lt.utils.encode(1200,i,"str");return String.fromCharCode(255)+String.fromCharCode(254)+n}function f6(e,t,i){var n=i||{},r=+!n.skipHeader,s=e||{},o=0,a=0;if(s&&null!=n.origin)if("number"==typeof n.origin)o=n.origin;else{var l="string"==typeof n.origin?ji(n.origin):n.origin;o=l.r,a=l.c}var c,d={s:{c:0,r:0},e:{c:a,r:o+t.length-1+r}};if(s["!ref"]){var u=It(s["!ref"]);d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),-1==o&&(d.e.r=(o=u.e.r+1)+t.length-1+r)}else-1==o&&(o=0,d.e.r=t.length-1+r);var h=n.header||[],f=0;t.forEach(function(p,m){Ii(p).forEach(function(C){-1==(f=h.indexOf(C))&&(h[f=h.length]=C);var v=p[C],_="z",x="",R=Ze({c:a+f,r:o+m+r});c=Gg(s,R),!v||"object"!=typeof v||v instanceof Date?("number"==typeof v?_="n":"boolean"==typeof v?_="b":"string"==typeof v?_="s":v instanceof Date?(_="d",n.cellDates||(_="n",v=_n(v)),x=n.dateNF||Ke[14]):null===v&&n.nullError&&(_="e",v=0),c?(c.t=_,c.v=v,delete c.w,delete c.R,x&&(c.z=x)):s[R]=c={t:_,v},x&&(c.z=x)):s[R]=v})}),d.e.c=Math.max(d.e.c,a+h.length-1);var g=Li(o);if(r)for(f=0;f<h.length;++f)s[_i(f+a)+g]={t:"s",v:h[f]};return s["!ref"]=ut(d),s}function Gg(e,t,i){if("string"==typeof t){if(Array.isArray(e)){var n=ji(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return Gg(e,Ze("number"!=typeof t?t:{r:t,c:i||0}))}function p6(e,t,i){return t?(e.l={Target:t},i&&(e.l.Tooltip=i)):delete e.l,e}var Mke={encode_col:_i,encode_row:Li,encode_cell:Ze,encode_range:ut,decode_col:HD,decode_row:VD,split_cell:function Jbe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:ji,decode_range:mr,format_cell:ta,sheet_add_aoa:XG,sheet_add_json:f6,sheet_add_dom:$8,aoa_to_sheet:Ch,json_to_sheet:function Ske(e,t){return f6(null,e,t)},table_to_sheet:K8,table_to_book:function GMe(e,t){return Wl(K8(e,t),t)},sheet_to_csv:MT,sheet_to_txt:h6,sheet_to_json:U_,sheet_to_html:j8,sheet_to_formulae:function xke(e){var i,t="",n="";if(null==e||null==e["!ref"])return[];var a,r=It(e["!ref"]),s="",o=[],l=[],c=Array.isArray(e);for(a=r.s.c;a<=r.e.c;++a)o[a]=_i(a);for(var d=r.s.r;d<=r.e.r;++d)for(s=Li(d),a=r.s.c;a<=r.e.c;++a)if(t=o[a]+s,n="",void 0!==(i=c?(e[d]||[])[a]:e[t])){if(null!=i.F){if(t=i.F,!i.f)continue;n=i.f,-1==t.indexOf(":")&&(t=t+":"+t)}if(null!=i.f)n=i.f;else{if("z"==i.t)continue;if("n"==i.t&&null!=i.v)n=""+i.v;else if("b"==i.t)n=i.v?"TRUE":"FALSE";else if(void 0!==i.w)n="'"+i.w;else{if(void 0===i.v)continue;n="s"==i.t?"'"+i.v:""+i.v}}l[l.length]=t+"="+n}return l},sheet_to_row_object_array:U_,sheet_get_cell:Gg,book_new:function kT(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function IT(e,t,i,n){var r=1;if(!i)for(;r<=65535&&-1!=e.SheetNames.indexOf(i="Sheet"+r);++r,i=void 0);if(!i||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(i)>=0){var s=i.match(/(^.*?)(\d+)$/);r=s&&+s[2]||0;var o=s&&s[1]||i;for(++r;r<=65535&&-1!=e.SheetNames.indexOf(i=o+r);++r);}if(k8(i),e.SheetNames.indexOf(i)>=0)throw new Error("Worksheet with name |"+i+"| already exists!");return e.SheetNames.push(i),e.Sheets[i]=t,i},book_set_sheet_visibility:function Dke(e,t,i){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=function Eke(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var i=e.SheetNames.indexOf(t);if(i>-1)return i;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),i){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+i)}e.Workbook.Sheets[n].Hidden=i},cell_set_number_format:function Tke(e,t){return e.z=t,e},cell_set_hyperlink:p6,cell_set_internal_link:function Ake(e,t,i){return p6(e,"#"+t,i)},cell_add_comment:function Rke(e,t,i){e.c||(e.c=[]),e.c.push({t,a:i||"SheetJS"})},sheet_set_array_formula:function Fke(e,t,i,n){for(var r="string"!=typeof t?t:It(t),s="string"==typeof t?t:ut(t),o=r.s.r;o<=r.e.r;++o)for(var a=r.s.c;a<=r.e.c;++a){var l=Gg(e,o,a);l.t="n",l.F=s,delete l.v,o==r.s.r&&a==r.s.c&&(l.f=i,n&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Lke=Zl(217);let Nke=(()=>{class e{constructor(i,n){this.http=i,this.datePipe=n,this.dateError=null,this.quickFilterText="",this.startDate=null,this.endDate=null,this.columnDefs=[{headerName:"Student Name",field:"Name",sortable:!0,filter:!0},{headerName:"Session Date",field:"session_attended_date",sortable:!0},{headerName:"Session ID",field:"bookingId",sortable:!0},{headerName:"Status",field:"status",sortable:!0,filter:!0},{headerName:"Concerns Discussed",field:"ConcernsDiscussed",sortable:!0},{headerName:"Duration",field:"Duration",sortable:!0},{headerName:"Follow-Up Session",field:"FollowUpSessionToggle",sortable:!0},{headerName:"Further Referrals",field:"FurtherReferrals",sortable:!0},{headerName:"Recommended Follow-Up Session",field:"RecommendedFollowUpSession",sortable:!0},{headerName:"Appointment ID",field:"appointment_id",sortable:!0},{headerName:"Email",field:"email",sortable:!0},{headerName:"Referred By",field:"referred_by",sortable:!0},{headerName:"Referrer Email",field:"referrer_Email",sortable:!0},{headerName:"Slot End Time",field:"slot_end_time",sortable:!0},{headerName:"Slot Start Time",field:"slot_start_time",sortable:!0},{headerName:"Student Age",field:"student_age",sortable:!0},{headerName:"Student Course",field:"student_course",sortable:!0},{headerName:"Student Department",field:"student_department",sortable:!0},{headerName:"Student Gender",field:"student_gender",sortable:!0},{headerName:"Student Semester",field:"student_sem",sortable:!0}],this.paginationPageSize=10,this.dateRange=new Su({start:new yc,end:new yc}),this.rowData=[],this.errorMessage="",this.dateRange.valueChanges.subscribe(r=>{if(r.start&&r.end){const s=this.datePipe.transform(r.start,"dd/MM/yyyy"),o=this.datePipe.transform(r.end,"dd/MM/yyyy");console.log("Start Date:",s),console.log("End Date:",o),this.startDate=s,this.endDate=o,this.sendDate()}})}ngOnInit(){this.fetchData()}fetchData(){this.http.post("https://kj-wellbeingcentre.onrender.com/protected/aggrid",null).subscribe(n=>{console.log("Full response:",n),this.rowData=n},n=>{console.error("Error fetching data:",n),this.errorMessage=`Error fetching data: ${n.message}`,alert("Failed to fetch data from the server. Please try again later.")})}onGridReady(i){this.gridApi=i.api}exportToExcel(){try{const r=W_({Sheets:{data:Mke.aoa_to_sheet(this.getHeadersAndRowsData())},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(r,"session_history")}catch(i){console.error("Error exporting to Excel:",i)}}getHeadersAndRowsData(){return[this.columnDefs.map(r=>r.headerName||""),...this.getRowsData()]}getRowsData(){const i=[];return this.gridApi.forEachNode(n=>{const r=this.columnDefs.map(s=>n.data?n.data[s.field]:"");i.push(r)}),i}saveAsExcelFile(i,n){const r=new Blob([i],{type:Bke});(0,Lke.saveAs)(r,`${n}_${(new Date).getTime()}.xlsx`)}sendDate(){const i={start_date:this.startDate,end_date:this.endDate};console.log(i),this.http.post("https://kj-wellbeingcentre.onrender.com/protected/aggrid",i).subscribe(n=>{console.log("Full response:",n),this.rowData=n},n=>{console.error("Error fetching data:",n),this.errorMessage=`Error fetching data: ${n.message}`,alert("Failed to fetch data from the server. Please try again later.")})}onFilterTextBoxChanged(){this.gridApi.setGridOption("quickFilterText",document.getElementById("filter-text-box").value)}clear(){this.gridApi.setGridOption("quickFilterText",""),this.fetchData()}static#e=this.\u0275fac=function(n){return new(n||e)(E(oo),E(cx))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-counsellor-grid"]],features:[Rt([cx])],decls:21,vars:7,consts:[["id","Background",1,"fixed","z-0","top-0","left-0","w-screen","h-screen"],[1,"flex","items-center","p-5","ml-[25vw]","mt-20",2,"height","10vh"],[1,"text-lg","font-bold","text-blue-600"],[1,"form-group","flex","items-center","ml-4"],["type","text","id","filter-text-box","placeholder","Filter...",1,"form-control","p-2","border","border-gray-300","rounded",3,"input"],[1,"ml-4"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matIconSuffix","",3,"for"],["picker",""],[1,"text-slate-50","bg-slate-500","hover:bg-slate-600","focus:ring-4","focus:ring-slate-300","font-medium","rounded-lg","text-sm","px-3","py-2.5","me-2","mb-2","ml-[12vw]",3,"click"],[1,"text-slate-50","bg-slate-500","hover:bg-slate-600","focus:ring-4","focus:ring-slate-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","mb-2",3,"click"],[1,"ag-theme-alpine",2,"height","600px","width","70vw","margin-left","25vw",3,"columnDefs","rowData","pagination","paginationPageSize","gridReady"]],template:function(n,r){if(1&n&&(y(0,"div",0),ie(1,"app-counsellor-sidebar"),y(2,"div",1)(3,"h1",2),F(4,"Session History"),w(),y(5,"div",3)(6,"input",4),ye("input",function(){return r.onFilterTextBoxChanged()}),w(),y(7,"mat-form-field",5)(8,"mat-label"),F(9,"Enter a date range"),w(),y(10,"mat-date-range-input",6),ie(11,"input",7)(12,"input",8),w(),ie(13,"mat-datepicker-toggle",9)(14,"mat-date-range-picker",null,10),w()(),y(16,"button",11),ye("click",function(){return r.clear()}),F(17," Clear Filter "),w(),y(18,"button",12),ye("click",function(){return r.exportToExcel()}),F(19," Download "),w()(),y(20,"ag-grid-angular",13),ye("gridReady",function(o){return r.onGridReady(o)}),w()()),2&n){const s=wf(15);L(10),U("formGroup",r.dateRange)("rangePicker",s),L(3),U("for",s),L(7),U("columnDefs",r.columnDefs)("rowData",r.rowData)("pagination",!0)("paginationPageSize",r.paginationPageSize)}},dependencies:[Vo,al,ll,Zr,Eu,vB,zse,yB,wB,Wse,GS,fp,KN,cE,ag],styles:[".container[_ngcontent-%COMP%]{margin-top:9vh;width:58vw;height:auto;margin-left:27rem;background-color:#fff;border-radius:25px}#Background[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#E2F6FC,#ffffff)}.ag-theme-alpine[_ngcontent-%COMP%]{width:auto;height:auto;border:1px solid white}"]})}return e})();const Bke="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8";let Vke=(()=>{class e{constructor(i){this.http=i,this.columnDefs=[{headerName:"Counsellor",field:"Name",sortable:!0},{headerName:"Date",field:"date",sortable:!0},{headerName:"Session ID",field:"bookingId",sortable:!0},{headerName:"Status",field:"status",sortable:!0}],this.rowData=[],this.errorMessage=""}ngOnInit(){this.fetchData()}fetchData(){this.http.get("https://kj-wellbeingcentre.onrender.com/protected/aggrid").subscribe(i=>{console.log("Full response:",i),this.rowData=i},i=>{console.error("Error fetching data:",i),this.errorMessage=`Error fetching data: ${i.message}`,alert("Failed to fetch data from the server. Please try again later.")})}onGridReady(i){this.gridApi=i.api}exportToPDF(){const i=this.getDocument();pdfMake.createPdf(i).download()}getDocument(){const i=this.gridApi.getAllDisplayedColumns(),n=this.getHeaderToExport(),r=this.getRowsToExport();return{pageOrientation:"landscape",content:[{table:{headerRows:1,widths:i.map(()=>"*"),body:[n,...r],heights:s=>0===s?40:15}}]}}getHeaderToExport(){return this.gridApi.getAllDisplayedColumns().map(i=>i.getColDef().headerName)}getRowsToExport(){const i=[];return this.gridApi.forEachNode(n=>{const r=this.gridApi.getAllDisplayedColumns().map(s=>n.data[s.getColId()]);i.push(r)}),i}static#e=this.\u0275fac=function(n){return new(n||e)(E(oo))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-student-grid"]],decls:9,vars:2,consts:[["id","Background",1,"fixed","z-0","top-0","left-0","w-screen","h-screen"],[1,"container","p-5","px-0","z-30","relative","mt-[14vh]","w-full","sm:w-[calc(100vw-24rem)]","h-auto","sm:ml-[20rem]","bg-white","shadow-lg"],[1,"flex","p-5"],[1,"text-center","text-lg","text-bold","text-blue-600"],[1,"ml-[80%]",3,"click"],["src","/assets/img/Group.svg","alt",""],[1,"ag-theme-alpine",2,"height","500px",3,"rowData","columnDefs","gridReady"]],template:function(n,r){1&n&&(y(0,"div",0),ie(1,"app-sidebar"),y(2,"div",1)(3,"div",2)(4,"h1",3),F(5,"Session History"),w(),y(6,"button",4),ye("click",function(){return r.exportToPDF()}),ie(7,"img",5),w()(),y(8,"ag-grid-angular",6),ye("gridReady",function(o){return r.onGridReady(o)}),w()()()),2&n&&(L(8),U("rowData",r.rowData)("columnDefs",r.columnDefs))},dependencies:[cE,vD],styles:[".container[_ngcontent-%COMP%]{margin-top:9vh;width:55vw;height:auto;margin-left:27rem;background-color:#fff;border-radius:25px}#Background[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#E2F6FC,#ffffff)}.ag-theme-alpine[_ngcontent-%COMP%]{width:auto;height:auto;border:1px solid white}"]})}return e})(),g6=(()=>{class e{constructor(){this.sessionId=null,this.studentId=null}setSessionId(i){this.sessionId=i}getSessionId(){return this.sessionId}setStudentId(i){this.studentId=i}getStudentId(){return this.studentId}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hke(e,t){if(1&e&&(y(0,"div",69),F(1),w()),2&e){const i=Se(3);L(1),Xe(" ",i.getErrorMessage("Duration")," ")}}function Gke(e,t){if(1&e&&(y(0,"div",61)(1,"label",62),F(2,"Select an Duration"),w(),y(3,"select",63),ie(4,"option",64),y(5,"option",65),F(6,"10-Mins"),w(),y(7,"option",66),F(8,"20-Mins"),w(),y(9,"option",67),F(10,"30-Mins"),w()(),xe(11,Hke,2,1,"div",68),w()),2&e){const i=Se(2);let n;L(11),U("ngIf",(null==(n=i.profileForm.get("Duration"))?null:n.invalid)&&(null==(n=i.profileForm.get("Duration"))?null:n.touched))}}function zke(e,t){if(1&e&&(y(0,"div",69),F(1),w()),2&e){const i=Se(4);L(1),Xe(" ",i.getErrorMessage("medicalHistoryDetails")," ")}}function Wke(e,t){if(1&e&&(y(0,"div"),ie(1,"textarea",79),xe(2,zke,2,1,"div",68),w()),2&e){const i=Se(3);let n;L(2),U("ngIf",(null==(n=i.profileForm.get("medicalHistoryDetails"))?null:n.invalid)&&(null==(n=i.profileForm.get("medicalHistoryDetails"))?null:n.touched))}}function Uke(e,t){if(1&e&&(y(0,"div",70)(1,"span",71)(2,"label",72),F(3,"Past Medical History"),w(),y(4,"div",73),ie(5,"input",74),y(6,"label",75),F(7,"Yes"),w(),ie(8,"input",76),y(9,"label",77),F(10,"No"),w()()(),xe(11,Wke,3,1,"div",78),w()),2&e){const i=Se(2);let n;L(5),U("value",!0),L(3),U("value",!1),L(3),U("ngIf",!0===(null==(n=i.profileForm.get("Medical_History_radio_button"))?null:n.value))}}function jke(e,t){if(1&e&&(y(0,"div",69),F(1),w()),2&e){const i=Se(4);L(1),Xe(" ",i.getErrorMessage("psychiatricHistoryDetails")," ")}}function $ke(e,t){if(1&e&&(y(0,"div"),ie(1,"textarea",85),xe(2,jke,2,1,"div",68),w()),2&e){const i=Se(3);let n;L(2),U("ngIf",(null==(n=i.profileForm.get("psychiatricHistoryDetails"))?null:n.invalid)&&(null==(n=i.profileForm.get("psychiatricHistoryDetails"))?null:n.touched))}}function Kke(e,t){if(1&e&&(y(0,"div",70)(1,"span",71)(2,"label",80),F(3,"Past Psychiatric History"),w(),y(4,"div",73),ie(5,"input",81),y(6,"label",82),F(7,"Yes"),w(),ie(8,"input",83),y(9,"label",84),F(10,"No"),w()()(),xe(11,$ke,3,1,"div",78),w()),2&e){const i=Se(2);let n;L(5),U("value",!0),L(3),U("value",!1),L(3),U("ngIf",!0===(null==(n=i.profileForm.get("Psychiatric_History_radio_button"))?null:n.value))}}function qke(e,t){if(1&e&&(y(0,"div",69),F(1),w()),2&e){const i=Se(3);L(1),Xe(" ",i.getErrorMessage("ConcernsDiscussedDetails")," ")}}function Yke(e,t){if(1&e&&(y(0,"div",86)(1,"label",87),F(2,"Concerns Discussed"),w(),ie(3,"textarea",88),xe(4,qke,2,1,"div",68),w()),2&e){const i=Se(2);let n;L(4),U("ngIf",(null==(n=i.profileForm.get("ConcernsDiscussedDetails"))?null:n.invalid)&&(null==(n=i.profileForm.get("ConcernsDiscussedDetails"))?null:n.touched))}}function Xke(e,t){if(1&e&&(y(0,"div",69),F(1),w()),2&e){const i=Se(4);L(1),Xe(" ",i.getErrorMessage("FurtherMessageDetails")," ")}}function Zke(e,t){if(1&e&&(y(0,"div"),ie(1,"textarea",94),xe(2,Xke,2,1,"div",68),w()),2&e){const i=Se(3);let n;L(2),U("ngIf",(null==(n=i.profileForm.get("FurtherMessageDetails"))?null:n.invalid)&&(null==(n=i.profileForm.get("FurtherMessageDetails"))?null:n.touched))}}function Qke(e,t){if(1&e&&(y(0,"div",70)(1,"span",71)(2,"label",89),F(3,"Further Referrals"),w(),y(4,"div",73),ie(5,"input",90),y(6,"label",91),F(7,"Yes"),w(),ie(8,"input",92),y(9,"label",93),F(10,"No"),w()()(),xe(11,Zke,3,1,"div",78),w()),2&e){const i=Se(2);let n;L(5),U("value",!0),L(3),U("value",!1),L(3),U("ngIf",!0===(null==(n=i.profileForm.get("FurtherMessage_radio_button"))?null:n.value))}}function Jke(e,t){1&e&&(y(0,"div",70)(1,"span",71)(2,"label",95),F(3,"Recommended Follow-up Session "),w(),y(4,"div",96),ie(5,"input",97),y(6,"label",98),F(7,"Yes"),w(),ie(8,"input",99),y(9,"label",100),F(10,"No"),w()()()()),2&e&&(L(5),U("value",!0),L(3),U("value",!1))}function eIe(e,t){if(1&e&&(y(0,"h5",101),F(1),w()),2&e){const i=t.$implicit;L(1),mi(i)}}function tIe(e,t){if(1&e){const i=Fi();y(0,"main",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),F(7),w()(),vs(),y(8,"svg",9),ye("click",function(){return Dt(i),Tt(Se().closeForm())}),ie(9,"path",10),w()(),Js(),y(10,"div",6)(11,"div",7)(12,"span",11),F(13),w()(),y(14,"span",12),F(15),w()()(),y(16,"div",13)(17,"form",14),ye("submit",function(){return Dt(i),Tt(Se().onSubmit())}),y(18,"div",15)(19,"div",16)(20,"label",17),F(21,"Referred by"),w(),y(22,"p",18),F(23),w()(),y(24,"div",19)(25,"label",20),F(26,"Referrer Email"),w(),y(27,"p",21),F(28),w()(),y(29,"div",19)(30,"label",22),F(31,"Register No."),w(),y(32,"p",23),F(33),w()(),y(34,"div",19)(35,"label",24),F(36,"Name "),w(),y(37,"p",23),F(38),w()(),y(39,"div",19)(40,"label",25),F(41,"Department "),w(),y(42,"p",23),F(43),w()(),y(44,"div",19)(45,"label",26),F(46,"Course"),w(),y(47,"p",23),F(48),w()(),y(49,"div",27)(50,"label",28),F(51,"Age"),w(),y(52,"p",23),F(53),w()(),y(54,"div")(55,"label",29),F(56,"Gender"),w(),y(57,"p",23),F(58),w()(),y(59,"div",19)(60,"label",30),F(61,"Student Email"),w(),y(62,"p",31),F(63),w()(),y(64,"div",32)(65,"label",33),F(66,"Session No."),w(),ie(67,"input",34),w(),xe(68,Gke,12,1,"div",35),y(69,"div",36)(70,"label",37),F(71,"Session Status"),w(),y(72,"div",38)(73,"label",39)(74,"input",40),ye("change",function(){return Dt(i),Tt(Se().onOptionChange())}),w(),F(75," Attended "),w(),y(76,"label",41)(77,"input",40),ye("change",function(){return Dt(i),Tt(Se().onOptionChange())}),w(),F(78," Not Attended "),w()()(),xe(79,Uke,12,3,"div",42),xe(80,Kke,12,3,"div",43),xe(81,Yke,5,1,"div",44),xe(82,Qke,12,3,"div",42),xe(83,Jke,11,2,"div",45),y(84,"div",46)(85,"button",47),F(86,"Submit"),w()()()()()(),y(87,"div",48)(88,"div",49)(89,"div")(90,"div",50),ie(91,"div",51),y(92,"div",52)(93,"div",53),ie(94,"div",54),w(),y(95,"div")(96,"div",55)(97,"h5",56),F(98,"No. of Sessions Attended"),w()(),y(99,"div",55)(100,"h5",56),F(101),w()(),y(102,"div",57),ie(103,"div",58),w()()()()()(),y(104,"div")(105,"div",50),ie(106,"div",51),y(107,"div",59)(108,"div",53),ie(109,"div",54),w(),y(110,"div")(111,"div",55)(112,"h5",56),F(113,"Counsellors"),w()(),y(114,"div",55),xe(115,eIe,2,1,"h5",60),w(),y(116,"div",57),ie(117,"div",58),w()()()()()()()()}if(2&e){const i=Se();let n,r,s,o,a,l,c,d,u,h,f,g,p,m,C,v,_,x,R,M,S;U("@fadeInOut",void 0),L(7),mi(null==(n=i.profileForm.get("student_name"))?null:n.value),L(6),el("",null==(r=i.profileForm.get("student_sem"))?null:r.value," ",null==(r=i.profileForm.get("student_course"))?null:r.value," "),L(2),el(" ",null==(s=i.profileForm.get("slot_start_time_milliseconds"))?null:s.value," - ",null==(s=i.profileForm.get("slot_end_time_milliseconds"))?null:s.value,""),L(2),U("formGroup",i.profileForm),L(6),Xe(" ",null==(o=i.profileForm.get("referred_by"))?null:o.value," "),L(5),Xe(" ",null==(a=i.profileForm.get("referrer_Email"))?null:a.value," "),L(5),Xe(" ",null==(l=i.profileForm.get("student_id"))?null:l.value," "),L(5),Xe(" ",null==(c=i.profileForm.get("student_name"))?null:c.value," "),L(5),Xe(" ",null==(d=i.profileForm.get("student_department"))?null:d.value," "),L(5),Xe(" ",null==(u=i.profileForm.get("student_course"))?null:u.value," "),L(5),Xe(" ",null==(h=i.profileForm.get("student_age"))?null:h.value," "),L(5),Xe(" ",null==(f=i.profileForm.get("student_gender"))?null:f.value," "),L(5),Xe(" ",null==(g=i.profileForm.get("student_email"))?null:g.value," "),L(4),U("placeholder",null==(p=i.profileForm.get("_id"))?null:p.value),L(1),U("ngIf",!0===(null==(m=i.profileForm.get("selectedOption"))?null:m.value)),L(6),U("value",!0),L(3),U("value",!1),L(2),U("ngIf",!0===(null==(C=i.profileForm.get("selectedOption"))?null:C.value)),L(1),U("ngIf",!0===(null==(v=i.profileForm.get("selectedOption"))?null:v.value)),L(1),U("ngIf",!0===(null==(_=i.profileForm.get("selectedOption"))?null:_.value)),L(1),U("ngIf",!0===(null==(x=i.profileForm.get("selectedOption"))?null:x.value)),L(1),U("ngIf",!0===(null==(R=i.profileForm.get("selectedOption"))?null:R.value)),L(18),Xe("",null==(M=i.profileForm.get("completedSessions"))?null:M.value," "),L(14),U("ngForOf",null==(S=i.profileForm.get("counselorNames"))?null:S.value)}}let m6=(()=>{class e{constructor(i,n,r,s,o){this.fb=i,this.sharedDataService=n,this.router=r,this.http=s,this.snackBar=o,this.showErrorMessage=!1,this.sessionId=null,this.studentId=null,this.selectedOption=!0,this.fetchApiUrl="https://kj-wellbeingcentre.onrender.com/protected/counsellor/fetchstudent",this.submitApiUrl="https://kj-wellbeingcentre.onrender.com/protected/counsellor/formsubmit",this.counselorNames=[],this.completedSessions=0,this.isFormVisible=!0,this.profileForm=this.fb.group({student_id:"",counsellor_id:"",date:"",completedSessions:"",counselorNames:[""],_id:"",student_sem:"",student_name:"",student_course:"",student_department:"",student_email:"",student_gender:"",Duration:["",oi.required],slot_end_time_milliseconds:"",slot_start_time_milliseconds:"",referred_by:"",student_age:"",referrer_Email:"",selectedOption:[!0],Medical_History_radio_button:[!0,oi.required],medicalHistoryDetails:["",oi.required],Psychiatric_History_radio_button:[!0,oi.required],psychiatricHistoryDetails:["",oi.required],ConcernsDiscussedDetails:["",oi.required],FurtherMessage_radio_button:[!0,oi.required],FurtherMessageDetails:["",oi.required],Recommended_radio_button:[!0]}),this.setupFormControlReset("Medical_History_radio_button","medicalHistoryDetails"),this.setupFormControlReset("Psychiatric_History_radio_button","psychiatricHistoryDetails"),this.setupFormControlReset("FurtherMessage_radio_button","FurtherMessageDetails")}ngOnInit(){this.fetchApi()}fetchApi(){this.sessionId=this.sharedDataService.getSessionId(),this.studentId=this.sharedDataService.getStudentId();const i={student_id:this.studentId,_id:this.sessionId};console.log(i),this.http.post(this.fetchApiUrl,i).subscribe({next:n=>{console.log(n),n&&n.session?(this.profileForm.patchValue({referred_by:n.session.referred_by,referrer_Email:n.session.referrer_Email,student_department:n.session.student_department,student_id:n.session.student_id,student_name:n.session.student_name,student_gender:n.session.student_gender,student_sem:n.session.student_sem,counsellor_id:n.session.counsellor_id,student_email:n.session.student_email,slot_end_time_milliseconds:n.session.slot_end_time_milliseconds,slot_start_time_milliseconds:n.session.slot_start_time_milliseconds,date:n.session.date,student_age:n.session.student_age,_id:n.session._id,Duration:n.session.Duration||"",student_course:n.session.student_course,FurtherMessage_radio_button:n.session.FurtherReferralsToggle||!1,selectedOption:n.session.rootToggle,medicalHistoryDetails:n.session.PastMedicalHistory||"",Medical_History_radio_button:n.session.PastMedicalHistoryToggle||!1,psychiatricHistoryDetails:n.session.PastPsychiatricHistory||"",Psychiatric_History_radio_button:n.session.PastPsychiatricHistoryToggle||!1,ConcernsDiscussedDetails:n.session.ConcernsDiscussed||"",FurtherMessageDetails:n.session.FurtherReferrals||"",Recommended_radio_button:n.session.RecommendedFollowUpSession||!1,completedSessions:n.completedSessions||0,counselorNames:n.counselorNames||[]}),console.log(n)):console.log("No session data found.")},error:n=>{console.error("Error fetching session data:",n),0===n.status?console.error("Network error - please check your internet connection."):n.status>=400&&n.status<500?console.error(`Client-side error: ${n.message}`):n.status>=500?console.error("Server-side error - please try again later."):console.error("An unexpected error occurred.")}})}onOptionChange(){console.log(this.profileForm.get("selectedOption")?.value),!1===this.profileForm.get("selectedOption")?.value&&(this.profileForm.patchValue({Medical_History_radio_button:!1,medicalHistoryDetails:"",Psychiatric_History_radio_button:!1,psychiatricHistoryDetails:"",ConcernsDiscussedDetails:"",FurtherMessage_radio_button:!1,FurtherMessageDetails:"",Recommended_radio_button:!1,Duration:""}),this.profileForm.markAllAsTouched())}setupFormControlReset(i,n){this.profileForm.get(i)?.valueChanges.subscribe(r=>{!1===r?(this.profileForm.get(n)?.clearValidators(),this.profileForm.get(n)?.updateValueAndValidity()):(this.profileForm.get(n)?.setValidators([oi.required]),this.profileForm.get(n)?.updateValueAndValidity())})}toggleFormVisibility(){this.isFormVisible=!this.isFormVisible}getErrorMessage(i){const n=this.profileForm.get(i);return n?.invalid&&n?.touched&&n?.hasError("required")?"This field is required.":""}onSubmit(){if(!0===this.profileForm.get("selectedOption")?.value){if(this.profileForm.invalid)return this.showErrorMessage=!0,void this.profileForm.markAllAsTouched()}else this.showErrorMessage=!1;console.log(this.profileForm.value);const n=this.profileForm.value,r={counsellor_id:n.counsellor_id,_id:n._id,Duration:n.Duration,student_id:n.student_id,SessionNo:n._id,rootToggle:n.selectedOption,PastMedicalHistoryToggle:n.Medical_History_radio_button,PastMedicalHistory:n.medicalHistoryDetails,PastPsychiatricHistoryToggle:n.Psychiatric_History_radio_button,PastPsychiatricHistory:n.psychiatricHistoryDetails,ConcernsDiscussed:n.ConcernsDiscussedDetails,FurtherReferralsToggle:n.FurtherMessage_radio_button,FurtherReferrals:n.FurtherMessageDetails,FollowUpSessionToggle:n.Recommended_radio_button,RecommendedFollowUpSession:n.Recommended_radio_button};console.log("Session data to be sent:",r);const s=new so({"Content-Type":"application/json"});this.http.post(this.submitApiUrl,JSON.stringify(r),{headers:s,observe:"response"}).subscribe({next:o=>{const a=o.body.status;console.log("Session updated successfully",o),this.snackBar.open(` ${a}`,"Close",{duration:3e3}),this.router.navigate(["counsellorUpcomingSession"])},error:o=>{console.error("Error updating session",o),this.snackBar.open(o.error&&"Session already submitted"===o.error.error?"Session already submitted":`Form not updated. Status: ${o.status}`,"Close",{duration:3e3})}})}onWindowLoad(i){console.log("Page refreshed successfully"),this.router.navigate(["counsellorUpcomingSession"])}closeForm(){this.router.navigate(["counsellorUpcomingSession"])}static#e=this.\u0275fac=function(n){return new(n||e)(E(Kf),E(g6),E(Ui),E(oo),E(vE))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-upcoming-session-counseller"]],hostBindings:function(n,r){1&n&&ye("load",function(o){return r.onWindowLoad(o)},0,JF)},decls:3,vars:1,consts:[["id","background",1,"fixed","z-20","top-0","left-0","w-screen","overflow-hidden","overflow-x-hidden","h-screen","bg-gradient-to-b","from-[#F4F7FE]","to-white"],["class","   z-40 relative    ",4,"ngIf"],[1,"z-40","relative"],[1,"flex","-ml-36","flex-wrap"],[1,"flex","flex-col","flex-wrap","md:max-w-xl","lg:max-w-2xl","mt-10","w-full","sm:w-[calc(100vw-24rem)]","sm:ml-[2rem]"],[1,"p-2","rounded-t-lg","bg-gradient-to-r","from-cyan-50","to-cyan-100"],[1,"flex","font-normal","text-xs"],[1,"flex","w-full","ml-16","justify-center"],[1,"text-base","font-medium","items-centerborder"],["fill","none","stroke","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","cursor-pointer","ml-[60px]",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"ml-10","text-center"],[1,"flex-none"],[1,"border","p-4","shadow-lg","bg-white"],[3,"formGroup","submit"],[1,"grid","gap-5","p-4","lg:grid-cols-4","sm:auto-cols-max","md:auto-cols-max"],[1,"col-span-2","font-light"],["for","Referred_by",1,"block","mb-1","text-xs","font-medium","text-gray-900","dark:text-white"],["required","",1,"bg-gray-100","text-gray-900","text-xs","rounded-lg","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white"],[1,"col-span-2"],["for","Referrer_Email",1,"block","mb-1","text-xs","font-medium","text-gray-900","dark:text-white"],["required","",1,"bg-gray-100","text-gray-900","text-xs","rounded-lg","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","Register_No",1,"block","mb-1","text-xs","font-medium","text-gray-900","dark:text-white"],["required","",1,"bg-gray-100","text-gray-900","text-xs","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","Name",1,"block","mb-1","text-xs","font-medium","text-gray-900","dark:text-white"],["for","Department",1,"block","mb-1","text-xs","font-medium","text-gray-900","dark:text-white"],["for","Course",1,"block","mb-1","text-xs","font-medium","text-gray-900","dark:text-white"],[1,"grid"],["for","Age",1,"block","mb-1","text-xs","font-medium","text-gray-900","dark:text-white"],["for","Gender",1,"block","mb-1","text-xs","font-medium","text-gray-900","dark:text-white"],["for","Student_Email",1,"block","mb-1","text-xs","font-medium","text-gray-900","dark:text-white"],[1,"bg-gray-100","text-gray-900","text-xs","rounded-lg","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"col-start-2"],["for","_id",1,"block","mb-1","text-xs","font-medium","text-gray-900","dark:text-white"],["type","text","formControlName","_id","readonly","",1,"bg-gray-100","text-gray-900","text-xs","rounded-lg","focus:ring-blue-500","focus:border-blue-500","border-none","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"placeholder"],["class","col-start-3 animate-fade-in  ",4,"ngIf"],[1,"col-start-4"],["for","medical-message",1,"block","text-xs","font-medium","text-gray-900","dark:text-white"],[1,"flex","flex-auto","items-center","justify-between","text-xs","dark:focus:ring-blue-600","dark:ring-offset-gray-800","dark:bg-gray-700","dark:border-gray-600"],[1,"mr-3","flex","items-center","gap-1"],["type","radio","name","selectedOption","formControlName","selectedOption",3,"value","change"],[1,"flex","items-center","gap-1"],["class","col-span-2 animate-fade-in",4,"ngIf"],["class","col-span-2 animate-fade-in ",4,"ngIf"],["class","col-span-full animate-fade-in ",4,"ngIf"],["class","col-span-2  animate-fade-in ",4,"ngIf"],[1,"col-start-4","animate-fade-in"],["type","submit",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","w-full","sm:w-auto","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],[1,"lg:ml-4","lg:mt-16"],[1,"mb-4"],[1,"flex","flex-auto","flex-wrap"],[1,"p-4"],[1,"p-4","lg:w-96","sm:w-96","sm:mt-4","relative","overflow-hidden","bg-cyan-300","opacity-","rounded-xl","shadow"],[1,"absolute","-top-16","-left-10"],[1,"h-44","w-44","rounded-full","overflow-hidden","bg-white","opacity-20"],[1,"flex","flex-col","items-center","justify-center"],[1,"mb-5","text-2xl","font-bold","tracking-tight","text-white","dark:text-white"],[1,"absolute","top-36","left-24"],[1,"h-28","w-28","rounded-full","overflow-hidden","bg-white","opacity-20"],[1,"p-4","lg:w-96","sm:w-96","relative","overflow-hidden","bg-cyan-300","rounded-xl","shadow"],["class","mb-2 text-xl  tracking-tight text-white dark:text-white",4,"ngFor","ngForOf"],[1,"col-start-3","animate-fade-in"],["for","Duration",1,"block","mb-1","text-xs","font-medium","text-gray-900","dark:text-white"],["id","Duration","formControlName","Duration",1,"bg-gray-100","border-none","text-gray-900","text-xs","rounded-lg","focus:ring-blue-400","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["selected",""],["value","10Mins"],["value","20Mns"],["value","30Mins"],["class","text-red-500 text-xs",4,"ngIf"],[1,"text-red-500","text-xs"],[1,"col-span-2","animate-fade-in"],[1,"flex"],["for","medical-message",1,"mb-1","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"flex","flex-auto","items-center","justify-end","mr-2"],["id","medical-yes","formControlName","Medical_History_radio_button","type","radio",1,"mr-2","bg-gray-100","dark:ring-offset-gray-800","dark:bg-gray-700","dark:border-gray-600",3,"value"],["for","medical-yes",1,"text-xs","font-medium","mr-3","text-gray-900","dark:text-gray-300"],["id","medical-no","formControlName","Medical_History_radio_button","type","radio",1,"mr-2","bg-gray-100","dark:focus:ring-blue-600","dark:ring-offset-gray-800","dark:bg-gray-700","dark:border-gray-600",3,"value"],["for","medical-no",1,"text-xs","font-medium","text-gray-900","dark:text-gray-300"],[4,"ngIf"],["formControlName","medicalHistoryDetails","rows","4","placeholder","Details of treatment","required","",1,"block","border-none","p-2.5","w-full","text-xs","text-gray-900","bg-gray-100","rounded-lg","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","animate-fade-in"],["for","psychiatric-message",1,"mb-1","text-sm","font-medium","text-gray-900","dark:text-white"],["id","psychiatric-yes","type","radio","formControlName","Psychiatric_History_radio_button",1,"mr-2","bg-gray-100","dark:focus:ring-blue-600","dark:ring-offset-gray-800","dark:bg-gray-700","dark:border-gray-600",3,"value"],["for","psychiatric-yes",1,"text-xs","font-medium","mr-3","text-gray-900","dark:text-gray-300"],["id","psychiatric-no","type","radio","formControlName","Psychiatric_History_radio_button",1,"mr-2","bg-gray-100","dark:focus:ring-blue-600","dark:ring-offset-gray-800","dark:bg-gray-700","dark:border-gray-600",3,"value"],["for","psychiatric-no",1,"text-xs","font-medium","text-gray-900","dark:text-gray-300"],["formControlName","psychiatricHistoryDetails","rows","4","placeholder","Details of treatment",1,"block","border-none","p-2.5","w-full","text-xs","text-gray-900","bg-gray-100","rounded-lg","border","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","animate-fade-in"],[1,"col-span-full","animate-fade-in"],["for","concerns",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","concerns","formControlName","ConcernsDiscussedDetails","rows","4","placeholder","Enter in upto 1000 words",1,"block","border-none","p-2.5","w-full","text-xs","text-gray-900","bg-gray-100","rounded-lg","border","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","Further-message",1,"mb-1","text-sm","font-medium","text-gray-900","dark:text-white"],["id","Further-yes","type","radio","formControlName","FurtherMessage_radio_button",1,"mr-2","bg-gray-100","dark:focus:ring-blue-600","dark:ring-offset-gray-800","dark:bg-gray-700","dark:border-gray-600",3,"value"],["for","Further-yes",1,"text-xs","font-medium","mr-3","text-gray-900","dark:text-gray-300"],["id","Further-no","type","radio","formControlName","FurtherMessage_radio_button",1,"mr-2","bg-gray-100","dark:focus:ring-blue-600","dark:ring-offset-gray-800","dark:bg-gray-700","dark:border-gray-600",3,"value"],["for","Further-no",1,"text-xs","font-medium","text-gray-900","dark:text-gray-300"],["formControlName","FurtherMessageDetails","rows","4","placeholder","Details",1,"block","border-none","p-2.5","w-full","text-xs","text-gray-900","bg-gray-100","rounded-lg","border","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","animate-fade-in"],["for","FollowupSession-message",1,"text-xs","font-medium","text-gray-900","dark:text-white"],[1,"flex","flex-auto","items-center","justify-end"],["id","FollowupSession-yes","type","radio","formControlName","Recommended_radio_button","checked","","name","Recommended_radio_button",1,"mr-1","bg-gray-100","dark:focus:ring-blue-600","dark:ring-offset-gray-800","dark:bg-gray-700","dark:border-gray-600",3,"value"],["for","FollowupSession-yes",1,"text-xs","font-medium","mr-1","text-gray-900","dark:text-gray-300"],["id","FollowupSession-no","type","radio","formControlName","Recommended_radio_button","name","Recommended_radio_button",1,"mr-1","bg-gray-100","dark:focus:ring-blue-600","dark:ring-offset-gray-800","dark:bg-gray-700","dark:border-gray-600",3,"value"],["for","FollowupSession-no",1,"text-xs","font-medium","text-gray-900","dark:text-gray-300"],[1,"mb-2","text-xl","tracking-tight","text-white","dark:text-white"]],template:function(n,r){1&n&&(ie(0,"div",0)(1,"app-counsellor-sidebar"),xe(2,tIe,118,27,"main",1)),2&n&&(L(2),U("ngIf",r.isFormVisible))},dependencies:[Bo,Dr,wc,Hx,zx,Vo,Xv,Yv,al,ll,dl,Zr,Eu,ag],styles:["main[_ngcontent-%COMP%]{margin-top:6vh;margin-left:30vw}@media (max-width: 762px){main[_ngcontent-%COMP%]{margin-left:0}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}"],data:{animation:[ao("fadeInOut",[Xi(":enter",[Bt({opacity:0}),hn("300ms",Bt({opacity:1}))]),Xi(":leave",[hn("300ms",Bt({opacity:0}))])])]}})}return e})();const iIe=function(e,t,i){return{"bg-green-500":e,"bg-red-500":t,"bg-[#d8d6d6]":i}};function nIe(e,t){if(1&e){const i=Fi();y(0,"div",13)(1,"div",14)(2,"div",15),F(3),y(4,"span",16),F(5,"to"),w(),F(6),w(),y(7,"div",17)(8,"p",18),F(9),w(),y(10,"p",19),F(11),w(),y(12,"p",20),F(13),w()(),y(14,"div",21)(15,"button",22),ye("click",function(){return Dt(i),Tt(Se(2).viewSessionDetails())})("click",function(){const s=Dt(i).$implicit;return Tt(Se(2).viewSessionDetails2(s))}),F(16,"View"),w()()()()}if(2&e){const i=t.$implicit;L(3),Xe(" ",i.start_time,""),L(3),Xe(" ",i.end_time," "),L(3),mi(i.student_name),L(2),el("",i.sem,"",i.course,""),L(2),mi(i.student_id),L(1),U("ngClass",DI(7,iIe,"completed"===i.slot_status,"Missed"===i.slot_status,"completed"!==i.slot_status&&"Missed"!==i.slot_status))}}function rIe(e,t){if(1&e){const i=Fi();y(0,"div",4)(1,"p",5),F(2,"Today"),w(),y(3,"div",6)(4,"mat-form-field")(5,"mat-label"),F(6,"Choose a date"),w(),y(7,"input",7),ye("dateChange",function(r){return Dt(i),Tt(Se().getDatePickerValue(r))}),w(),y(8,"mat-hint"),F(9,"MM/DD/YYYY"),w(),ie(10,"mat-datepicker-toggle",8)(11,"mat-datepicker",null,9),w()(),y(13,"form",10)(14,"div",11),xe(15,nIe,17,11,"div",12),w()()()}if(2&e){const i=wf(12),n=Se();L(7),U("matDatepicker",i),L(3),U("for",i),L(3),U("formGroup",n.counsellorForm),L(2),U("ngForOf",n.sessions)}}function sIe(e,t){1&e&&(y(0,"div",23),ie(1,"app-upcoming-session-counseller"),w())}let oIe=(()=>{class e{constructor(i,n,r,s,o){this.fb=i,this.sharedDataService=n,this.http=r,this.router=s,this.toastr=o,this.sendDateApiUrl="https://kj-wellbeingcentre.onrender.com/protected/counsellor/sessions",this.sessions=[],this.showMainContent=!0,this.selectedDate=null,this.sesid="",this.sid="",this.counsellorForm=this.fb.group({student_id:[""],counselor_id:[""],course:[""],time:[""],end_time:[""],start_time:[""],start_date:[""],student_name:[""],sem:[""],_id:[""],slot_status:[""]})}ngOnInit(){this.fetchDataForCurrentDate()}fetchDataForCurrentDate(){const n=this.formatDateToUTC(new Date);this.sendDateToBackend(n)}formatDateToUTC(i){return`${i.getUTCDate().toString().padStart(2,"0")}/${(i.getUTCMonth()+1).toString().padStart(2,"0")}/${i.getUTCFullYear().toString()}`}getDatePickerValue(i){const n=i.value;n.setUTCDate(n.getUTCDate()+1);const r=this.formatDateToUTC(n);console.log(`Selected date in UTC format: ${r}`),this.sendDateToBackend(r)}sendDateToBackend(i){const r=JSON.stringify({start_date:i});console.log("Sending data to backend:",r),this.http.post(this.sendDateApiUrl,r).subscribe({next:s=>{console.log("Data received after sending date:",s),"No Slots Booked for the selected date!"===s.message?(this.toastr.error("No slots booked for the selected date","Error"),this.sessions=[]):(this.sessions=s,this.sessions&&0!==this.sessions.length?this.counsellorForm.patchValue(this.sessions[0]):alert("No sessions booked.")),console.log(this.sessions)},error:s=>{console.log("Error sending date",s),alert("Error")}})}viewSessionDetails(){console.log("Form Page ID:")}viewSessionDetails2(i){console.log("Clicked session details:",i.student_id);const n=i.student_id,r=i._id;console.log(n,r),this.sharedDataService.setStudentId(n),this.sharedDataService.setSessionId(r),this.router.navigate(["counsellorUpcomingSessionForm"])}static#e=this.\u0275fac=function(n){return new(n||e)(E(Kf),E(g6),E(oo),E(Ui),E(Ma))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-counsellor-sessions"]],decls:5,vars:2,consts:[["id","background",1,"fixed","z-20","top-0","left-0","w-screen","overflow-hidden","overflow-x-hidden","h-screen","bg-gradient-to-b","from-[#E2F6FC]","to-white"],[1,"container","holder","gap-4","p-5","z-30","relative","shadow-2xl","flex-row","md:h-screen"],["class","main",4,"ngIf"],["class","upcoming-sessions",4,"ngIf"],[1,"main"],[1,"text-blue-700","mb-8"],[1,"relative","max-w-sm"],["matInput","","id","default-datepicker",3,"matDatepicker","dateChange"],["matIconSuffix","",3,"for"],["picker",""],[1,"flex","flex-wrap",3,"formGroup"],[1,"flex","flex-auto","flex-wrap"],["class","p-4",4,"ngFor","ngForOf"],[1,"p-4"],[1,"lg:w-[320px]","lg:h-24","relative","overflow-hidden","border","flex","justify-between","rounded-xl"],[1,"bg-[#d8d6d6]","h-14","w-16","my-5","text-[10px]","mx-5","items-center","px-[10px]","py-[6px]"],[1,"to","items-center"],[1,"mt-2","ml-[-13px]"],[1,"title","text-xl","mt-[9px]"],[1,"class","text-xs"],["id","studentID",1,"text-xs"],[1,"bg-[#d8d6d6]","h-24","w-20","py-[35px]","px-[20px]","items-center",3,"ngClass"],[1,"view-button",3,"click"],[1,"upcoming-sessions"]],template:function(n,r){1&n&&(ie(0,"div",0)(1,"app-counsellor-sidebar"),y(2,"div",1),xe(3,rIe,16,4,"div",2),xe(4,sIe,2,0,"div",3),w()),2&n&&(L(3),U("ngIf",r.showMainContent),L(1),U("ngIf",!r.showMainContent))},dependencies:[wu,Bo,Dr,wc,ll,Zr,Pse,XS,vB,GS,fp,VS,KN,rB,ag,m6],styles:[".container[_ngcontent-%COMP%]{margin-top:9vh;width:calc(100vw - 25rem);height:auto;margin-left:20rem;background-color:#fff;border-radius:25px}.to[_ngcontent-%COMP%]{display:block;padding-left:18px}@media (max-width: 1024px){.container[_ngcontent-%COMP%]{width:calc(100vw - 10rem);margin-left:5rem}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{width:calc(100vw - 4rem);margin-left:2rem;height:auto}}@media (max-width: 640px){.container[_ngcontent-%COMP%]{width:100vw;margin-left:0;height:auto;margin-top:6vh;border-radius:0}}#Background[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#E2F6FC,#ffffff)}.p-4[_ngcontent-%COMP%]{width:100%;padding:1rem}@media (min-width: 768px){.p-4[_ngcontent-%COMP%]{width:50%}}@media (min-width: 1024px){.p-4[_ngcontent-%COMP%]{width:33.33%}}"]})}return e})(),PT=(()=>{class e{constructor(i,n,r){this.authService=i,this.router=n,this.toastr=r}canActivate(i,n){if(this.authService.isLoggedIn()){const r=this.authService.getAuthToken(),s=this.authService.decodeAuthToken(r);if(s&&"user"===s.role)return!0}return this.toastr.error("Unauthorized","page only for Students"),this.router.navigate(["/"]),!1}static#e=this.\u0275fac=function(n){return new(n||e)(W(Ol),W(Ui),W(Ma))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),aIe=(()=>{class e{constructor(i,n,r){this.authService=i,this.router=n,this.toastr=r}canActivate(i,n){if(this.authService.isLoggedIn()){const r=this.authService.getAuthToken(),s=this.authService.decodeAuthToken(r);if(s&&"admin"===s.role)return!0}return this.toastr.error("Unauthorized","page only for Admins"),this.router.navigate(["/"]),!1}static#e=this.\u0275fac=function(n){return new(n||e)(W(Ol),W(Ui),W(Ma))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const v6=function(){return{exact:!0}};let lIe=(()=>{class e{constructor(i){this.authService=i}onLogout(){this.authService.clearToken()}static#e=this.\u0275fac=function(n){return new(n||e)(E(Ol))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-admin-sidebar"]],decls:34,vars:4,consts:[["id","navbar",1,"bg-white","fixed","w-full","z-50","top-0","border-b","border-grey-500","start-0"],[1,"max-w-screen-xl","flex","items-center","justify-between","mx-auto","p-1"],[1,"flex","items-center"],["data-drawer-target","default-sidebar","data-drawer-toggle","default-sidebar","aria-controls","default-sidebar","type","button",1,"inline-flex","items-center","p-2","text-sm","text-gray-500","sm:hidden","focus:outline-none","focus:ring-2","focus:ring-gray-200"],[1,"sr-only"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["clip-rule","evenodd","fill-rule","evenodd","d","M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"],[1,"flex-1","flex","items-center","ml-[-7vw]","space-x-[35vw]"],["src","/assets/img/KJC Logo 2.jpge","id","logo",1,"h-10"],[1,"text-sm","font-semibold","text-indigo-900"],[1,"flex","items-center","mr-[-6.5vw]"],[1,"text-sm","text-indigo-900","flex","items-center","logout-link",3,"click"],["src","/assets/Icon/logout.svg",1,"ml-1","h-5"],["id","default-sidebar","aria-label","Sidebar",1,"fixed","transition-transform","-translate-x-full","sm:translate-x-0","top-[6.6%]","left-0","z-40","w-64","h-[93vh]","border-r-2","border-grey-500","shadow-sm"],[1,"h-full","pl-4","py-4","overflow-y-auto","bg-white"],["id","sidelist",1,"space-y-2","font-medium"],["routerLink","/AdminHistory","routerLinkActive","active","data-drawer-hide","default-sidebar",1,"flex","items-center","p-2","text-gray-900","text-sm",3,"routerLinkActiveOptions"],["src","/assets/Icon/Profile.svg","id","dashimg"],[1,"ms-3"],["routerLinkActive","active","data-drawer-hide","default-sidebar",1,"flex","items-center","p-2","text-gray-900","text-sm",3,"routerLinkActiveOptions"],["src","/assets/Icon/history.svg","id","dashimg"],["id","kjsdc",1,"flex","items-center","justify-center","space-y-2","flex-col","text-gray-500"],[1,"custom-hr"],["src","/assets/img/Kjsdc.svg"]],template:function(n,r){1&n&&(y(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3)(4,"span",4),F(5,"Open sidebar"),w(),vs(),y(6,"svg",5),ie(7,"path",6),w()()(),Js(),y(8,"div",7),ie(9,"img",8),y(10,"h1",9),F(11,"Kristu Jayanti Well Being Center"),w()(),y(12,"div",10)(13,"a",11),ye("click",function(){return r.onLogout()}),F(14," Logout"),ie(15,"img",12),w()()()(),y(16,"aside",13)(17,"div",14)(18,"ul",15)(19,"li")(20,"a",16),ie(21,"img",17),y(22,"span",18),F(23,"Counsellors"),w()()(),y(24,"li")(25,"a",19),ie(26,"img",20),y(27,"span",18),F(28,"Reports"),w()()()(),y(29,"div",21)(30,"h3"),F(31,"DEVELOPED BY"),w(),ie(32,"hr",22)(33,"img",23),w()()()),2&n&&(L(20),U("routerLinkActiveOptions",qr(2,v6)),L(5),U("routerLinkActiveOptions",qr(3,v6)))},dependencies:[Yc,Qp],styles:["#sidelist[_ngcontent-%COMP%]{margin-top:4.8vh}#logo[_ngcontent-%COMP%]{padding:6px}#dashimg[_ngcontent-%COMP%]{height:20px;width:20px}#sidebarelements[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif}h3[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:400;font-size:12px}#kjsdc[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;transform:translate(-50%);text-align:center}.custom-hr[_ngcontent-%COMP%]{width:389%;border:none;border-top:1px solid #ccc;position:absolute;bottom:42px;left:0;transform:translate(-50%);margin:0}.active[_ngcontent-%COMP%]{color:#4318ff;transition:ease-in .3s;border-right:#4318FF solid 4px}#navbar[_ngcontent-%COMP%]{border-bottom:#000000}.logout-link[_ngcontent-%COMP%]{cursor:pointer}"]})}return e})(),cIe=(()=>{class e{constructor(){this.columnDefs=[{headerName:"Employee Id",field:"empId",sortable:!0},{headerName:"Name",field:"name",sortable:!0},{headerName:"Type",field:"type",sortable:!0},{headerName:"Email",field:"email",sortable:!0},{headerName:"Phone No.",field:"phoneno",sortable:!0},{headerName:"Status",field:"status",sortable:!0}],this.rowData=[{empId:"01",name:"Melvin",type:"Full-Time",email:"22bcab36@gmail.com",phoneno:"9380216557",status:"Active"},{empId:"02",name:"Omkae",type:"Visiting",email:"22bcab69@gmail.com",phoneno:"7369216967",status:"InActive"}]}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=et({type:e,selectors:[["app-admin-grid"]],decls:9,vars:2,consts:[["id","Background",1,"fixed","z-0","top-0","left-0","w-screen","h-screen"],[1,"container","p-5","px-0","z-30","relative","mt-[14vh]","w-full","sm:w-[calc(100vw-24rem)]","h-auto","sm:ml-[20rem]","bg-white","shadow-lg"],[1,"flex","p-5"],[1,"text-center","text-lg","text-bold","text-blue-600"],[1,"ml-[80%]"],["src","/assets/Icon/Group.svg","alt",""],[1,"ag-theme-alpine",2,"height","500px",3,"rowData","columnDefs"]],template:function(n,r){1&n&&(y(0,"div",0),ie(1,"app-admin-sidebar"),y(2,"div",1)(3,"div",2)(4,"h1",3),F(5,"Session History"),w(),y(6,"button",4),ie(7,"img",5),w()(),ie(8,"ag-grid-angular",6),w()()),2&n&&(L(8),U("rowData",r.rowData)("columnDefs",r.columnDefs))},dependencies:[cE,lIe],styles:[".container[_ngcontent-%COMP%]{margin-top:9vh;width:75vw;height:auto;margin-left:20rem;background-color:#fff;border-radius:25px}#Background[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#E2F6FC,#ffffff)}.ag-theme-alpine[_ngcontent-%COMP%]{width:75vw;height:auto;border:1px solid white}"]})}return e})(),zg=(()=>{class e{constructor(i,n,r){this.authService=i,this.router=n,this.toastr=r}canActivate(i,n){if(this.authService.isLoggedIn()){const r=this.authService.getAuthToken(),s=this.authService.decodeAuthToken(r);if(s&&"counsellor"===s.role)return!0}return this.toastr.error("Unauthorized","page only for counsellor"),this.router.navigate(["/"]),!1}static#e=this.\u0275fac=function(n){return new(n||e)(W(Ol),W(Ui),W(Ma))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dIe=(()=>{class e{constructor(i,n){this.authService=i,this.router=n}canActivate(i,n){if(this.authService.isLoggedIn()){const r=this.authService.getAuthToken();switch(this.authService.decodeAuthToken(r)?.role){case"admin":this.router.navigate(["/AdminHistory"]);break;case"user":this.router.navigate(["/Booking"]);break;case"counsellor":this.router.navigate(["/Profile"]);break;default:this.router.navigate(["/"])}return!1}return!0}static#e=this.\u0275fac=function(n){return new(n||e)(W(Ol),W(Ui))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const C6=function(e,t){return{"background-color":e,color:t,border:"#4050B5 solid 2px"}};function uIe(e,t){if(1&e){const i=Fi();y(0,"button",41),ye("click",function(){const s=Dt(i).$implicit;return Tt(Se(2).onTimeClick(s.start_time,s.end_time))}),F(1),w()}if(2&e){const i=t.$implicit,n=Se(2);U("ngStyle",fv(3,C6,n.isSelected(i.start_time,i.end_time)?"#4050B5":"#FFFFFF",n.isSelected(i.start_time,i.end_time)?"white":"black")),L(1),el(" ",i.start_time," - ",i.end_time," ")}}function hIe(e,t){if(1&e){const i=Fi();y(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30)(5,"div",31),F(6,"Pick Slots To be Blocked"),w(),y(7,"div",32),xe(8,uIe,2,6,"button",33),w()()(),y(9,"div",34)(10,"button",35),ye("click",function(){return Dt(i),Tt(Se().Next())}),F(11,"Continue"),w()(),y(12,"div",36)(13,"div",37)(14,"input",38),ye("ngModelChange",function(r){return Dt(i),Tt(Se().reason=r)}),w(),y(15,"span",39),F(16," Enter Your Reason "),w()(),y(17,"button",40),ye("click",function(){return Dt(i),Tt(Se().onBlocked())}),F(18,"Block Slots"),w()()()()()}if(2&e){const i=Se();L(8),U("ngForOf",i.SlotList),L(6),U("ngModel",i.reason)}}function fIe(e,t){if(1&e){const i=Fi();y(0,"button",45),ye("click",function(){const s=Dt(i).$implicit;return Tt(Se(2).onUnblockTimeClick(s.start_time,s.end_time))}),F(1),w()}if(2&e){const i=t.$implicit,n=Se(2);U("ngStyle",fv(3,C6,n.isSelected(i.start_time,i.end_time)?"#4050B5":"#FFFFFF",n.isSelected(i.start_time,i.end_time)?"white":"black")),L(1),el(" ",i.start_time," - ",i.end_time," ")}}function pIe(e,t){if(1&e){const i=Fi();y(0,"div",26)(1,"div",42)(2,"div",28)(3,"div",29)(4,"div",30)(5,"div",31),F(6,"Pick Slots To be Unblocked"),w(),y(7,"div",32),xe(8,fIe,2,6,"button",43),w()()(),y(9,"div",44)(10,"button",40),ye("click",function(){return Dt(i),Tt(Se().onUnBlocked())}),F(11,"Unblock Slots"),w()()()()()}if(2&e){const i=Se();L(8),U("ngForOf",i.BlockedSlotList)}}let gIe=(()=>{class e{constructor(i){this.http=i,this.selected=null,this.formattedDate=null,this.reason="",this.overrideIsSelected=!1,this.SlotSelected=!1,this.selectedTimes=[],this.SlotList=[],this.BlockedSlotList=[],this.selectedOption=null,this.apiKey="https://kj-wellbeingcentre.onrender.com/",this.myFilter=n=>{const r=(n||new Date).getDay(),s=new Date,o=new Date;return o.setDate(s.getDate()+30),!(0===r||n&&n<new Date(s.setHours(0,0,0,0))||n&&n>o)}}onDateSelected(i){if(this.SlotList=[],this.selectedTimes=[],this.BlockedSlotList=[],this.selectedOption=null,i){const n=document.getElementById("SelectOperation");n&&(n.style.display="block")}else console.error("No date selected")}onBlockSelected(){this.selectedTimes=[],this.SlotList=[],this.postDate(new Date)}onUnblockSelected(){this.selectedTimes=[],this.SlotList=[],this.postBlocked(new Date)}postDate(i){console.log(this.selected),this.selectedTimes=[];const r={counsellor_id:"C02",date:this.formatDate(this.selected)};console.log(r),this.http.post(this.apiKey+"protected/counsellor/availableslots",r).subscribe(s=>{s&&(this.SlotList=s.slots);const o=document.getElementById("Timeslot");o&&(o.style.display="block")},s=>{console.error("Error fetching prime slot list",s)})}postBlocked(i){const r={date:this.formatDate(this.selected)};console.log(r),this.http.post(this.apiKey+"protected/counsellor/blockedslots",r).subscribe(s=>{console.log(s),s&&(this.BlockedSlotList=s.slots);const o=document.getElementById("Timeslot2");o&&(o.style.display="block")},s=>{console.error("Error fetching prime slot list",s)})}formatDate(i){return i?`${String(i.getDate()).padStart(2,"0")}/${String(i.getMonth()+1).padStart(2,"0")}/${i.getFullYear()}`:null}onTimeClick(i,n){const r=this.selectedTimes.findIndex(o=>o.start_time===i&&o.end_time===n);-1===r?this.selectedTimes.push({start_time:i,end_time:n}):this.selectedTimes.splice(r,1);const s=document.getElementById("Confirm Cancel");s&&(s.style.display="block")}onUnblockTimeClick(i,n){const r=this.selectedTimes.findIndex(o=>o.start_time===i&&o.end_time===n);-1===r?this.selectedTimes.push({start_time:i,end_time:n}):this.selectedTimes.splice(r,1);const s=document.getElementById("Confirm Cancel");s&&(s.style.display="block")}isSelected(i,n){return this.selectedTimes.some(r=>r.start_time===i&&r.end_time===n)}Next(){const i=document.getElementById("Reason");i&&(i.style.display="flex")}onBlocked(){const n={date:this.formatDate(this.selected),reason:this.reason,slots:this.selectedTimes};console.log(n),this.http.post(this.apiKey+"protected/counsellor/blockslots",n).subscribe(r=>{console.log(r);const s=document.getElementById("Blocked");s&&(s.style.display="flex")})}onUnBlocked(){const n={date:this.formatDate(this.selected),slots:this.selectedTimes};console.log(n),this.http.post(this.apiKey+"protected/counsellor/unblockslots",n).subscribe(r=>{if(r){const s=document.getElementById("UnBlocked");s&&(s.style.display="flex")}})}FinalClick(){window.location.reload()}static#e=this.\u0275fac=function(n){return new(n||e)(E(oo))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-availability"]],decls:48,vars:8,consts:[["id","Background",1,"fixed","z-20","top-0","left-0","w-screen","h-screen"],[1,"container","holder","flex","flex-wrap","justify-center","p-5","z-30","relative","md:h-screen"],[1,"flex","flex-col","md:flex-row","w-full"],["id","Calendar",1,"md:w-1/3","flex-none"],[3,"dateFilter","selected","selectedChange"],[1,"w-full","md:w-2/3","flex","flex-col","items-center"],["id","SelectOperation",1,"w-full","flex","justify-center","md:justify-start","mt-4","md:mt-0"],[1,"gap-4","p-2","flex","flex-row","items-center"],["type","radio","id","BlockedDateSelect","name","Blocked/Unblock","value","block",3,"ngModel","ngModelChange","change"],["for","BlockedDateSelect",1,"mr-4"],["type","radio","id","UnblockedDateSelect","name","Blocked/Unblock","value","unblock",3,"ngModel","ngModelChange","change"],["for","UnblockedDateSelect"],["class","w-full mt-4",4,"ngIf"],["id","Blocked",1,"overflow-y-auto","overflow-x-hidden","fixed","inset-0","z-50","justify-center","items-center"],[1,"flex","items-center","justify-center","min-h-screen","px-4"],["aria-hidden","true",1,"fixed","inset-0","transition-opacity"],[1,"absolute","inset-0","bg-gray-500","opacity-75"],[1,"bg-white","rounded-lg","overflow-hidden","shadow-xl","transform","transition-all","w-56","h-auto"],[1,"bg-white","p-6","items-center"],["src","./assets\\confirm logo.svg","alt","confirmBooking",1,"mx-12","mb-1"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-2"],[1,"text-sm","text-gray-500"],[1,"mt-4"],[1,"btn","flex","items-center","justify-center","w-full","bg-blue-600","hover:bg-blue-700","text-white","font-medium","py-2","px-4","border","border-transparent","rounded-lg","shadow-md","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["id","UnBlocked",1,"overflow-y-auto","overflow-x-hidden","fixed","inset-0","z-50","justify-center","items-center"],[1,"w-full","mt-4"],["id","Timeslot",1,"flex-1"],[1,"max-w-md","mx-auto","bg-white","rounded-xl","shadow-md","p-6"],[1,"md:flex"],[1,"p-8","w-full"],[1,"uppercase","tracking-wide","text-lg","text-center","text-black","font-semibold"],["id","time-slots",1,"mt-4","grid","grid-cols-1","md:grid-cols-2","gap-6"],["class","p-2 text-sm rounded-lg","style","transition: ease-in .3s;",3,"ngStyle","click",4,"ngFor","ngForOf"],["id","ConfermCancell",1,"input","bg-white","text-black","p-5","flex-1","align-bottom","rounded-lg","flex","flex-col","justify-center","items-center"],[1,"py-2","px-4","bg-teal-400","text-m","text-white","rounded-lg",3,"click"],["id","Reason",1,"input","bg-white","text-black","p-5","flex-1","align-bottom","rounded-lg","flex","gap-4","flex-col","justify-center","items-center"],[1,"flex","flex-col-reverse"],["placeholder","Enter Your Reason","type","text",1,"peer","outline-none","border","pl-2","py-1","duration-500","border-black","focus:border-dashed","relative","placeholder:duration-500","placeholder:absolute","focus:placeholder:pt-10","focus:rounded-md",3,"ngModel","ngModelChange"],[1,"pl-2","duration-500","opacity-0","peer-focus:opacity-100","-translate-y-5","peer-focus:translate-y-0"],[1,"p-2","bg-red-500","text-sm","text-white","rounded-lg",3,"click"],[1,"p-2","text-sm","rounded-lg",2,"transition","ease-in .3s",3,"ngStyle","click"],["id","Timeslot2",1,"flex-1"],["class","p-2 bg-grey-400 text-sm text-white rounded-lg","style","transition: ease-in .3s;",3,"ngStyle","click",4,"ngFor","ngForOf"],["id","Unblock",1,"input","bg-white","text-black","p-5","flex-1","align-bottom","rounded-lg","flex","gap-4","flex-col","justify-center","items-center"],[1,"p-2","bg-grey-400","text-sm","text-white","rounded-lg",2,"transition","ease-in .3s",3,"ngStyle","click"]],template:function(n,r){1&n&&(ie(0,"div",0)(1,"app-counsellor-sidebar"),y(2,"div",1)(3,"div",2)(4,"div",3)(5,"mat-card")(6,"mat-calendar",4),ye("selectedChange",function(o){return r.selected=o})("selectedChange",function(o){return r.onDateSelected(o)}),w()()(),y(7,"div",5)(8,"div",6)(9,"span",7)(10,"input",8),ye("ngModelChange",function(o){return r.selectedOption=o})("change",function(){return r.onBlockSelected()}),w(),y(11,"label",9),F(12,"Block Slots"),w(),y(13,"input",10),ye("ngModelChange",function(o){return r.selectedOption=o})("change",function(){return r.onUnblockSelected()}),w(),y(14,"label",11),F(15,"Unblock Slots"),w()()(),xe(16,hIe,19,2,"div",12),xe(17,pIe,12,1,"div",12),y(18,"div",13)(19,"div",14)(20,"div",15),ie(21,"div",16),w(),y(22,"div",17)(23,"div",18),ie(24,"img",19),y(25,"h3",20),F(26,"Your slots have been Blocked"),w(),y(27,"div",21)(28,"p",22),F(29),w()(),y(30,"div",23)(31,"button",24),ye("click",function(){return r.FinalClick()}),F(32,"Done"),w()()()()()(),y(33,"div",25)(34,"div",14)(35,"div",15),ie(36,"div",16),w(),y(37,"div",17)(38,"div",18),ie(39,"img",19),y(40,"h3",20),F(41,"Your slots have been Un blocked"),w(),y(42,"div",21)(43,"p",22),F(44),w()(),y(45,"div",23)(46,"button",24),ye("click",function(){return r.FinalClick()}),F(47,"Done"),w()()()()()()()()()),2&n&&(L(6),U("dateFilter",r.myFilter)("selected",r.selected),L(4),U("ngModel",r.selectedOption),L(3),U("ngModel",r.selectedOption),L(3),U("ngIf","block"===r.selectedOption),L(1),U("ngIf","unblock"===r.selectedOption),L(12),Xe("Blocked slots ",r.selectedTimes,""),L(15),Xe("UnBlocked slots ",r.selectedTimes,""))},dependencies:[Bo,Dr,fO,Vo,Yv,al,$f,mp,dE,ag],styles:["#Calendar[_ngcontent-%COMP%]{width:25vw}#SelectOperation[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{margin-top:9vh;width:calc(100vw - 17rem);height:auto;margin-left:17rem;background-color:#fff;border-radius:25px}#Background[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#E2F6FC,#ffffff)}#Reason[_ngcontent-%COMP%]{border:4px;border-radius:15px;border-color:#000}#Timeslot[_ngcontent-%COMP%], #Timeslot2[_ngcontent-%COMP%]{display:none;width:55vw}#ConfirmCancel[_ngcontent-%COMP%]{margin-top:15px;display:none}#Blocked[_ngcontent-%COMP%]{display:none}#Reason[_ngcontent-%COMP%]{margin-top:15px;display:none}#UnBlocked[_ngcontent-%COMP%]{display:none}"]})}return e})(),mIe=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=et({type:e,selectors:[["app-termsandconditions"]],decls:51,vars:0,consts:[[1,"h-auto","p-5","pb-9","w-full","bg-gradient-to-b","from-sky-200","to-white"],[1,"pt-15","max-w-6xl","mx-auto","p-6"],[1,"text-3xl","font-bold","text-center","text-teal-600","mb-6"],[1,"text-lg","text-center","mb-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"bg-white","shadow-md","rounded-lg","p-6","flex","flex-col","items-center"],[1,"fas","fa-user-secret","text-teal-500","text-3xl","mb-4"],[1,"text-2xl","font-semibold","text-teal-500","mb-4"],[1,"text-gray-600","text-justify"],[1,"fas","fa-handshake","text-teal-500","text-3xl","mb-4"],[1,"fas","fa-balance-scale","text-teal-500","text-3xl","mb-4"],[1,"fas","fa-certificate","text-teal-500","text-3xl","mb-4"],[1,"fas","fa-info-circle","text-teal-500","text-3xl","mb-4"],[1,"fas","fa-heart","text-teal-500","text-3xl","mb-4"],[1,"text-lg","text-center","mt-6"],[1,"m-4"],[1,"w-full","max-w-screen-xl","mx-auto","p-4","md:py-8","flex","items-center","justify-center"],["src","assets/kjsdc.png","alt","Kristu Jayanti Logo",1,"h-12"],[1,"text-slate-500"]],template:function(n,r){1&n&&(ie(0,"app-navbar"),y(1,"main",0)(2,"div",1)(3,"h1",2),F(4," Ethics at the Student Well-being Centre "),w(),y(5,"p",3),F(6," At the Student Well-being Centre, we are committed to upholding the highest ethical standards in our counselling services. Our ethical guidelines ensure that every student receives respectful, professional, and confidential support. Here are the key ethical principles we follow: "),w(),y(7,"div",4)(8,"div",5),ie(9,"i",6),y(10,"h2",7),F(11,"Confidentiality"),w(),y(12,"p",8),F(13," Your privacy is our priority. All information shared during counselling sessions is kept strictly confidential. We will not disclose any details without your explicit consent, except in cases where there is a risk of harm to yourself or others. "),w()(),y(14,"div",5),ie(15,"i",9),y(16,"h2",7),F(17,"Respect for Autonomy"),w(),y(18,"p",8),F(19," We respect your right to make your own decisions. Our counsellors provide guidance and support, empowering you to take control of your mental health journey. We encourage you to set your own goals and work towards them at your own pace. "),w()(),y(20,"div",5),ie(21,"i",10),y(22,"h2",7),F(23,"Non-Judgmental Approach"),w(),y(24,"p",8),F(25," Our counsellors offer a safe and accepting environment for all students. We are committed to treating everyone with dignity and respect, regardless of background, beliefs, or personal circumstances. Our approach is free from judgment and bias. "),w()(),y(26,"div",5),ie(27,"i",11),y(28,"h2",7),F(29,"Professional Integrity"),w(),y(30,"p",8),F(31," All our counsellors are qualified professionals who adhere to the ethical codes of their respective fields. We continuously engage in professional development to ensure that we provide the best possible care. We are transparent about our qualifications and the nature of our services. "),w()(),y(32,"div",5),ie(33,"i",12),y(34,"h2",7),F(35,"Informed Consent"),w(),y(36,"p",8),F(37," We believe in transparency and open communication. Before beginning any counselling session, we ensure that you understand the nature of the counselling process, the potential benefits and risks, and your rights as a client. Your participation is always voluntary, and you have the right to withdraw at any time. "),w()(),y(38,"div",5),ie(39,"i",13),y(40,"h2",7),F(41,"Commitment to Welfare"),w(),y(42,"p",8),F(43," The well-being of our students is our foremost concern. We are dedicated to providing a supportive and nurturing environment where you can explore your thoughts and feelings without fear of judgment. Our goal is to help you achieve emotional and psychological well-being. "),w()()(),y(44,"p",14),F(45," By adhering to these ethical principles, the Student Well-being Centre aims to provide a safe, supportive, and effective counselling experience for all students. Your trust is important to us, and we are here to support you every step of the way. "),w()(),y(46,"footer",15)(47,"div",16),ie(48,"img",17),y(49,"p",18),F(50," \xa9 Powered by Kristu Jayanti Software Development Centre "),w()()()())},dependencies:[gD]})}return e})();function vIe(e,t){1&e&&ie(0,"img",20)}function CIe(e,t){1&e&&ie(0,"img",21)}function _Ie(e,t){1&e&&ie(0,"img",22)}function yIe(e,t){if(1&e&&(y(0,"div",9)(1,"div",10),hu(2,11),xe(3,vIe,1,0,"img",12),xe(4,CIe,1,0,"img",13),xe(5,_Ie,1,0,"img",14),fu(),w(),y(6,"div",15)(7,"h2",16),F(8),w(),y(9,"p",17)(10,"strong"),F(11,"Qualification:"),w(),F(12),w(),y(13,"p",18)(14,"strong"),F(15,"Areas of Interest:"),w()(),y(16,"p",19),F(17),w()()()),2&e){const i=t.$implicit;L(2),U("ngSwitch",i.name),L(1),U("ngSwitchCase","Dr. Alice Aloysius"),L(1),U("ngSwitchCase","Ms. Jyotsana"),L(4),mi(i.name),L(4),Xe(" ",i.qualification,""),L(5),mi(i.area_of_interest_array.trim())}}let wIe=(()=>{class e{constructor(i){this.http=i,this.apiKey="https://kj-wellbeingcentre.onrender.com/",this.profiles=[]}ngOnInit(){this.getcounsellorsDetails()}getcounsellorsDetails(){this.http.get(this.apiKey+"counsellorDetails").subscribe(i=>{console.log(i),this.profiles=i,this.profiles.forEach(n=>{n.area_of_interest_array=n.area_of_interest?n.area_of_interest:[]}),console.log(this.profiles)})}static#e=this.\u0275fac=function(n){return new(n||e)(E(oo))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-counsellors"]],decls:12,vars:1,consts:[[1,"h-[100%]","pt-5","bg-gradient-to-b","from-sky-200","to-white"],[1,"text-3xl","font-bold","text-center","text-teal-600","mb-6"],[1,"max-w-6xl","mx-auto","p-4"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-1","gap-6"],["class","flex flex-col items-center p-4 bg-white border border-gray-300 rounded-lg shadow-md",4,"ngFor","ngForOf"],[1,"m-4"],[1,"w-full","max-w-screen-xl","mx-auto","p-4","md:py-8","flex","items-center","justify-center"],["src","assets/kjsdc.png","alt","Kristu Jayanti Logo",1,"h-12"],[1,"text-slate-500"],[1,"flex","flex-col","items-center","p-4","bg-white","border","border-gray-300","rounded-lg","shadow-md"],[1,"mb-4"],[3,"ngSwitch"],["src","/assets/KJ09F0126.jpg","alt","Dr. Alice Aloysius","class","w-24 h-24 sm:w-32 sm:h-32 rounded-full object-fit",4,"ngSwitchCase"],["src","/assets/KJ24F0546.JPG","alt","Ms. Jyotsana","class","w-24 h-24 sm:w-32 sm:h-32 rounded-full object-fit",4,"ngSwitchCase"],["src","/assets/img/profile.jpg","alt","Default profile image","class","w-24 h-24 sm:w-32 sm:h-32 rounded-full object-cover",4,"ngSwitchDefault"],[1,"text-center"],[1,"text-xl","font-semibold","mb-4","text-l"],[1,"text-gray-700","text-center"],[1,"text-gray-600","text-justify"],[1,"text-justify"],["src","/assets/KJ09F0126.jpg","alt","Dr. Alice Aloysius",1,"w-24","h-24","sm:w-32","sm:h-32","rounded-full","object-fit"],["src","/assets/KJ24F0546.JPG","alt","Ms. Jyotsana",1,"w-24","h-24","sm:w-32","sm:h-32","rounded-full","object-fit"],["src","/assets/img/profile.jpg","alt","Default profile image",1,"w-24","h-24","sm:w-32","sm:h-32","rounded-full","object-cover"]],template:function(n,r){1&n&&(ie(0,"app-navbar"),y(1,"main",0)(2,"h1",1),F(3," Counsellors at the Student Well-being Centre "),w(),y(4,"div",2)(5,"div",3),xe(6,yIe,18,6,"div",4),w()(),y(7,"footer",5)(8,"div",6),ie(9,"img",7),y(10,"p",8),F(11," \xa9 Powered by Kristu Jayanti Software Development Centre "),w()()()()),2&n&&(L(6),U("ngForOf",r.profiles))},dependencies:[Bo,bu,Ov,uO,gD]})}return e})();function _6(e,t){return t?i=>sp(t.pipe(gn(1),function bIe(){return Ai((e,t)=>{e.subscribe(wi(t,Qn))})}()),i.pipe(_6(e))):sn((i,n)=>Pn(e(i,n)).pipe(gn(1),u3(i)))}const SIe=["overlay"];function EIe(e,t){1&e&&ie(0,"div")}function DIe(e,t){if(1&e&&(y(0,"div"),xe(1,EIe,1,0,"div",6),w()),2&e){const i=Se(2);Po(i.spinner.class),Kr("color",i.spinner.color),L(1),U("ngForOf",i.spinner.divArray)}}function TIe(e,t){1&e&&(ie(0,"div",7),function kI(e,t){const i=Ot();let n;const r=e+xt;i.firstCreatePass?(n=function mq(e,t){if(t)for(let i=t.length-1;i>=0;i--){const n=t[i];if(e===n.name)return n}}(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks??=[]).push(r,n.onDestroy)):n=i.data[r];const s=n.factory||(n.factory=nc(n.type)),a=_r(E);try{const l=pm(!1),c=s();return pm(l),function t$(e,t,i,n){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=n}(i,me(),r,c),c}finally{_r(a)}}(1,"safeHtml")),2&e&&U("innerHTML",II(1,1,Se(2).template),Lm)}function AIe(e,t){if(1&e&&(y(0,"div",1,2),xe(2,DIe,2,5,"div",3),xe(3,TIe,2,3,"div",4),y(4,"div",5),li(5),w()()),2&e){const i=Se();Kr("background-color",i.spinner.bdColor)("z-index",i.spinner.zIndex)("position",i.spinner.fullScreen?"fixed":"absolute"),U("@.disabled",i.disableAnimation)("@fadeIn","in"),L(2),U("ngIf",!i.template),L(1),U("ngIf",i.template),L(1),Kr("z-index",i.spinner.zIndex)}}const RIe=["*"],FIe={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},LT="primary";class vd{constructor(t){Object.assign(this,t)}static create(t){return!t?.template&&!t?.type&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new vd(t)}}let $_=(()=>{class e{constructor(){this.spinnerObservable=new Cr(null)}getSpinner(i){return this.spinnerObservable.asObservable().pipe(un(n=>n&&n.name===i))}show(i=LT,n){return new Promise((r,s)=>{setTimeout(()=>{n&&Object.keys(n).length?(n.name=i,this.spinnerObservable.next(new vd({...n,show:!0})),r(!0)):(this.spinnerObservable.next(new vd({name:i,show:!0})),r(!0))},10)})}hide(i=LT,n=10){return new Promise((r,s)=>{setTimeout(()=>{this.spinnerObservable.next(new vd({name:i,show:!1})),r(!0)},n)})}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const y6=new ge("NGX_SPINNER_CONFIG");let MIe=(()=>{class e{constructor(i){this._sanitizer=i}transform(i){if(i)return this._sanitizer.bypassSecurityTrustHtml(i)}static#e=this.\u0275fac=function(n){return new(n||e)(E(xx,16))};static#t=this.\u0275pipe=er({name:"safeHtml",type:e,pure:!0})}return e})(),kIe=(()=>{class e{constructor(i,n,r,s){this.spinnerService=i,this.changeDetector=n,this.elementRef=r,this.globalConfig=s,this.disableAnimation=!1,this.spinner=new vd,this.ngUnsubscribe=new We,this.setDefaultOptions=()=>{const{type:o}=this.globalConfig??{};this.spinner=vd.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??o,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=LT,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(zo(this.ngUnsubscribe)).subscribe(i=>{this.setDefaultOptions(),Object.assign(this.spinner,i),i.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(i){return i===this.elementRef.nativeElement.parentElement||i.parentNode&&this.isSpinnerZone(i.parentNode)}ngOnChanges(i){for(const n in i)if(n){const r=i[n];if(r.isFirstChange())return;typeof r.currentValue<"u"&&r.currentValue!==r.previousValue&&""!==r.currentValue&&(this.spinner[n]=r.currentValue,"showSpinner"===n&&(r.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===n&&this.initObservable())}}getClass(i,n){this.spinner.divCount=FIe[i],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((s,o)=>o);let r="";switch(n.toLowerCase()){case"small":r="la-sm";break;case"medium":r="la-2x";break;case"large":r="la-3x"}return"la-"+i+" "+r}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static#e=this.\u0275fac=function(n){return new(n||e)(E($_),E(Bn),E(ct),E(y6,8))};static#t=this.\u0275cmp=et({type:e,selectors:[["ngx-spinner"]],viewQuery:function(n,r){if(1&n&&qi(SIe,5),2&n){let s;jt(s=$t())&&(r.spinnerDOM=s.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[Si],ngContentSelectors:RIe,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(n,r){1&n&&(ys(),xe(0,AIe,6,12,"div",0)),2&n&&U("ngIf",r.spinner.show)},dependencies:[Bo,Dr,MIe],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[ao("fadeIn",[Tr("in",Bt({opacity:1})),Xi(":enter",[Bt({opacity:0}),hn(300)]),Xi(":leave",hn(200,Bt({opacity:0})))])]},changeDetection:0})}return e})(),IIe=(()=>{class e{static forRoot(i){return{ngModule:e,providers:[{provide:y6,useValue:i}]}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[ba]})}return e})(),Us=(()=>{class e{constructor(i){this.spinner=i}resolve(){return this.spinner.show(void 0,{type:"ball-pulse",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff"}),Ue(!0).pipe(function xIe(e,t=x0){const i=gN(e,t);return _6(()=>i)}(1e3),xc(()=>{this.spinner.hide()}))}static#e=this.\u0275fac=function(n){return new(n||e)(W($_))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const PIe=[{path:"",component:Dwe,canActivate:[dIe],resolve:{spinner:Us}},{path:"termsandconditions",component:mIe,resolve:{spinner:Us}},{path:"counsellors",component:wIe,resolve:{spinner:Us}},{path:"Booking",component:Fwe,canActivate:[PT],resolve:{spinner:Us}},{path:"Upcomingsession",component:Vwe,canActivate:[PT],resolve:{spinner:Us}},{path:"Studenthistory",component:Vke,canActivate:[PT],resolve:{spinner:Us}},{path:"counsellorUpcomingSession",component:oIe,canActivate:[zg],resolve:{spinner:Us}},{path:"counsellorUpcomingSessionForm",component:m6,canActivate:[zg],resolve:{spinner:Us}},{path:"SessionHistory",component:Nke,canActivate:[zg],resolve:{spinner:Us}},{path:"Profile",component:Owe,canActivate:[zg],resolve:{spinner:Us}},{path:"My-Availability",component:gIe,canActivate:[zg],resolve:{spinner:Us}},{path:"AdminHistory",component:cIe,canActivate:[aIe],resolve:{spinner:Us}}];let OIe=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e});static#i=this.\u0275inj=gt({imports:[hH.forRoot(PIe),hH]})}return e})(),LIe=(()=>{class e{constructor(i){this.spinner=i}ngOnInit(){this.spinner.show(),setTimeout(()=>{this.spinner.hide()},3e3),hD()}static#e=this.\u0275fac=function(n){return new(n||e)(E($_))};static#t=this.\u0275cmp=et({type:e,selectors:[["app-root"]],decls:4,vars:1,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","default","color","#fff","type","ball-fussion",1,"my-custom-spinner",3,"fullScreen"],[2,"color","#7dd3fc"]],template:function(n,r){1&n&&(y(0,"ngx-spinner",0)(1,"p",1),F(2," Loading... "),w()(),ie(3,"router-outlet")),2&n&&U("fullScreen",!0)},dependencies:[kE,kIe],styles:[".my-custom-spinner[_ngcontent-%COMP%]   .sk-ball-fussion[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.my-custom-spinner[_ngcontent-%COMP%]   .sk-ball-fussion[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]{background-color:#fff}"]})}return e})(),NIe=(()=>{class e{constructor(i){this.cookieService=i}intercept(i,n){const r=this.cookieService.get("authToken");if(r){const s=i.clone({headers:i.headers.set("Authorization","Bearer "+r)});return n.handle(s).pipe(vn(o=>{if(o instanceof Sc){const a=o.headers.keys();console.log("All headers:",a);const l=o.headers.get("newtoken");l&&this.cookieService.set("authToken",l,{path:"/"})}}))}return n.handle(i).pipe(vn(s=>{}))}static#e=this.\u0275fac=function(n){return new(n||e)(W(fD))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})(),BIe=(()=>{class e{constructor(i){this.spinner=i}intercept(i,n){return this.spinner.show(void 0,{type:"ball-pulse",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff"}),n.handle(i).pipe(xc(()=>{this.spinner.hide()}))}static#e=this.\u0275fac=function(n){return new(n||e)(W($_))};static#t=this.\u0275prov=pe({token:e,factory:e.\u0275fac})}return e})(),VIe=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vt({type:e,bootstrap:[LIe]});static#i=this.\u0275inj=gt({providers:[{provide:$x,useClass:NIe,multi:!0},{provide:$x,useClass:BIe,multi:!0},{provide:nl,useClass:XP}],imports:[LO,rie,ba,IJ,PJ,nee,OIe,Use,$ne,B0,Xse,Qre,hve,Gve,u0e,a3,IIe.forRoot({type:"ball-fussion"}),Pve.forRoot({positionClass:"toast-bottom-right",closeButton:!0,progressBar:!0,timeOut:3e3})]})}return e})();TQ().bootstrapModule(VIe).catch(e=>console.error(e))},217:function(wd,$g){var Zl,Ql;void 0!==(Ql="function"==typeof(Zl=function(){"use strict";function wo(Mt,Ut,Qn){var ai=new XMLHttpRequest;ai.open("GET",Mt),ai.responseType="blob",ai.onload=function(){fs(ai.response,Ut,Qn)},ai.onerror=function(){console.error("could not download file")},ai.send()}function Wt(Mt){var Ut=new XMLHttpRequest;Ut.open("HEAD",Mt,!1);try{Ut.send()}catch{}return 200<=Ut.status&&299>=Ut.status}function Jl(Mt){try{Mt.dispatchEvent(new MouseEvent("click"))}catch{var Ut=document.createEvent("MouseEvents");Ut.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Mt.dispatchEvent(Ut)}}var Br="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,Ah=Br.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),fs=Br.saveAs||("object"!=typeof window||window!==Br?function(){}:"download"in HTMLAnchorElement.prototype&&!Ah?function(Mt,Ut,Qn){var ai=Br.URL||Br.webkitURL,Jn=document.createElement("a");Jn.download=Ut=Ut||Mt.name||"download",Jn.rel="noopener","string"==typeof Mt?(Jn.href=Mt,Jn.origin===location.origin?Jl(Jn):Wt(Jn.href)?wo(Mt,Ut,Qn):Jl(Jn,Jn.target="_blank")):(Jn.href=ai.createObjectURL(Mt),setTimeout(function(){ai.revokeObjectURL(Jn.href)},4e4),setTimeout(function(){Jl(Jn)},0))}:"msSaveOrOpenBlob"in navigator?function(Mt,Ut,Qn){if(Ut=Ut||Mt.name||"download","string"!=typeof Mt)navigator.msSaveOrOpenBlob(function bd(Mt,Ut){return typeof Ut>"u"?Ut={autoBom:!1}:"object"!=typeof Ut&&(console.warn("Deprecated: Expected third argument to be a object"),Ut={autoBom:!Ut}),Ut.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Mt.type)?new Blob(["\ufeff",Mt],{type:Mt.type}):Mt}(Mt,Qn),Ut);else if(Wt(Mt))wo(Mt,Ut,Qn);else{var ai=document.createElement("a");ai.href=Mt,ai.target="_blank",setTimeout(function(){Jl(ai)})}}:function(Mt,Ut,Qn,ai){if((ai=ai||open("","_blank"))&&(ai.document.title=ai.document.body.innerText="downloading..."),"string"==typeof Mt)return wo(Mt,Ut,Qn);var Jn="application/octet-stream"===Mt.type,q_=/constructor/i.test(Br.HTMLElement)||Br.safari,xd=/CriOS\/[\d]+/.test(navigator.userAgent);if((xd||Jn&&q_||Ah)&&typeof FileReader<"u"){var Ks=new FileReader;Ks.onloadend=function(){var oa=Ks.result;oa=xd?oa:oa.replace(/^data:[^;]*;/,"data:attachment/file;"),ai?ai.location.href=oa:location=oa,ai=null},Ks.readAsDataURL(Mt)}else{var ec=Br.URL||Br.webkitURL,Rh=ec.createObjectURL(Mt);ai?ai.location=Rh:location.href=Rh,ai=null,setTimeout(function(){ec.revokeObjectURL(Rh)},4e4)}});Br.saveAs=fs.saveAs=fs,wd.exports=fs})?Zl.apply($g,[]):Zl)&&(wd.exports=Ql)}},wd=>{wd(wd.s=4)}]);